{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?105b","webpack:///./src/components/Graph.vue?287a","webpack:///./src/App.vue","webpack:///./src/components/Graph.vue","webpack:///./src/libs/jsonFSA.js","webpack:///./src/libs/projFSA.js","webpack:///./src/components/Graph.vue?f58a","webpack:///./src/App.vue?eabf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","class","ref","style","title","autofocus","type","placeholder","href","newGraph","openGraph","saveGraph","execJSON","nodejsCODE","showModal","graphExport","sellRemove","hideModal","stateType","newState","checked","selColor","transSrc","transDst","srcOptions","option","text","dstOptions","newTrans","newAction","onLoad","$event","jsonAction","code","this","pattern","func","jsonTrans","nextstate","trans","nextstatename","triggers","effects","jsonState","transDict","exits","transitions","entries","stays","link","superstate","item","find","obj","undefined","action","transition","translst","JSON","parse","stringify","jsonFSA","project","prj","complete","start","stop","countstates","states","statesDict","stroke","state","letters","color","Math","floor","random","projFSA","_prjname_","_extension_","file","handle","reader","FileReader","readAsText","onload","console","log","onerror","error","context","filename","fname","File","FileSaver","saveAs","uml","joint","selected","fsaJSON","fsaPROJ","created","self","graph","Graph","cellNamespace","on","cell","fsa","owner","remtrans","deltrans","delstate","attributes","source","changeTransSrc","changeTransDst","mounted","paper","Paper","el","$refs","width","clientWidth","height","clientHeight","gridSize","model","cellViewNamespace","snapLabels","interactive","linkMove","labelMove","arrowheadMove","vertexMove","vertexAdd","vertexRemove","useLinkTools","cellView","attr","rect","fill","more","innerText","showhide","eventObject","eventX","eventY","watch","computed","methods","suid","fetch","method","headers","body","response","json","save","genColor","palette","clear","reset","projectinput","click","e","target","files","size","read","dafsm","debug","restoreGraph","getSelectedItem","remove","showlist","hidelist","forEach","arr","elems","document","querySelectorAll","display","showDAFSM","open","write","elem","actiontype","dialog","actionType","updateStateList","actionName","addAction","stateName","setAttribute","makeState","fsaState","delta","StartState","position","x","y","attrs","addstate","EndState","State","events","addCell","vertices","transName","trigger","effect","effectName","makeTrans","src","dst","event","output","srcState","dstState","label","Transition","labels","distance","offset","indexOf","args","keepGradient","ensureLegibility","fontWeight","fsaTrans","addtrans","addtrigger","addeffect","actname","actfunc","objItem","set","addentry","addstay","addexit","newTargetID","newTarget","getCell","newSourceID","newSource","oldOwnerKey","newOwnerKey","fsaOldSource","fsaNewSource","removedTranKey","remTrans","Array","isArray","clonetrans","restoreState","typeState","substring","restoreTrans","dstKey","modelTrans","warn","render","__scopeId","components","createApp","App","mount"],"mappings":"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","file":"js/app.7dc4925e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dafsmGraph/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=322c0829&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Graph.vue?vue&type=style&index=0&id=d4b613a0&lang=scss&scoped=true\"","<template>\n  <div id=\"app\">\n    <Graph >\n    </Graph>  \n  </div>\n</template>\n\n<script>\nimport Graph from './components/Graph.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Graph\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$fa-font-path: \"~@fortawesome/fontawesome-free/webfonts\";\n@import \"~@fortawesome/fontawesome-free/scss/fontawesome\";\n@import \"~@fortawesome/fontawesome-free/scss/solid\"; // fas\n@import \"~@fortawesome/fontawesome-free/scss/regular\"; // far\n@import \"~@fortawesome/fontawesome-free/scss/brands\"; // fab\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 10px;\n}\n\n</style>\n","<template>\n  <div>  \n    <nav>\n        <div class=\"dropdown\">\n            <button class=\"btn\">[ File ] \n                <i class=\"fa fa-caret-down\"></i>\n            </button>\n            <div class=\"dropdown-content\">\n                <a href=\"#\" @click=\"newGraph()\"><i class=\"fas fa-folder-plus\"></i> New</a>\n                <a href=\"#\" @click=\"openGraph()\"><i class=\"fas fa-folder-open\"></i> Open</a>\n                <a href=\"#\" @click=\"saveGraph()\"><i class=\"fas fa-save\"></i> Save</a>\n            </div>\n        </div> \n        <div class=\"dropdown\">\n            <button class=\"btn\">[ Build ] \n                <i class=\"fa fa-caret-down\"></i>\n            </button>\n            <div class=\"dropdown-content\">\n                <a href=\"#\" @click=\"execJSON()\"><i class=\"fas fa-code\"></i> Execute JSON</a>\n                <a href=\"#\" @click=\"nodejsCODE()\"><i class=\"fab fa-node-js\"></i> Code Template</a>\n            </div>\n        </div>\n        <button class=\"btn\"\n            @click=\"showModal('State')\"\n        ><i class=\"fas fa-project-diagram\"></i> State</button>\n        <button class=\"btn\"\n            @click=\"showModal('Trans')\"\n        ><i class=\"fas fa-exchange-alt\"></i> Trans</button>\n        <div class=\"dropdown\">\n            <button class=\"btn\">[ <b ref=\"more\">Paper</b> ] \n                <i class=\"fa fa-caret-down\"></i>\n            </button>\n            <div class=\"dropdown-content\">\n                <a href=\"#\" class=\"paper\" @click=\"showModal('State')\"><i class=\"fas fa-project-diagram\"></i>   new State</a>\n                <a href=\"#\" class=\"paper\" @click=\"showModal('Trans')\"><i class=\"fas fa-exchange-alt\"></i>   new Trans</a>\n                <a href=\"#\" class=\"paper\" @click=\"graphExport()\"><i class=\"fas fa-list\"></i> Export Graph</a>\n                <!--<a href=\"#\" class=\"paper\" @click=\"showDAFSM()\"><i class=\"fas fa-list\"></i> show DAFSM</a>-->\n\n                <a href=\"#\" class=\"state\" style=\"display:none\" @click=\"sellRemove()\"><i class=\"fas fa-trash\"></i>   del State</a>\n                <a href=\"#\" class=\"state init\" style=\"display:none\" @click=\"showModal('Action','entries')\"><i class=\"fas fa-sign-in-alt\"></i>   add Entry</a>\n                <a href=\"#\" class=\"state final\" style=\"display:none\" @click=\"showModal('Action','exits')\"><i class=\"fas fa-sign-out-alt\"></i>   add Exit</a>\n                <a href=\"#\" class=\"state init final\" style=\"display:none\" @click=\"showModal('Action','stays')\"><i class=\"fas fa-recycle\"></i>   add Stay</a>\n\n                <a class=\"trans\" href=\"#\" style=\"display:none\" @click=\"sellRemove()\"><i class=\"fas fa-trash\"></i>   del Trans</a>\n                <a class=\"trans\" href=\"#\" style=\"display:none\" @click=\"showModal('Action','triggers')\"><i class=\"fas fa-bolt\"></i>   add Trigger</a>\n                <a class=\"trans\" href=\"#\" style=\"display:none\" @click=\"showModal('Action','effects')\"><i class=\"fab fa-buffer\"></i>   add Effect</a>\n            </div>\n        </div> \n    </nav>\n    <div class=\"container\" ref=\"joint\"/>\n\n    <div id=\"dialog\" class=\"modal\" ref=\"dialog\">\n    <div class=\"modal-dialog\">\n      <!-- Modal content -->\n      <div class=\"modal-content\">\n        <span id=\"closeModal\" class=\"close\"\n            @click=\"hideModal()\"\n        >&times;</span>\n    \n      <div id=\"State\" ref=\"State\" style=\"display:none\">\n        <input autofocus=\"autofocus\" class=\"modal-enter\" id=\"stateName\" ref=\"stateName\" v-bind:placeholder=\"[stateType === 'initialState' ? 'init' : stateType === 'finalState' ? 'final' : 'choose a state name']\" type=\"text\">\n        <button id=\"confirmState\" class=\"modal-enter\"\n            @click=\"newState()\"\n        >Confirm</button> \n        <p/><label style=\"margin-left: -100px;\"><b>Type: </b></label>\n        <input type=\"radio\" name=\"stateType\" value=\"initialState\" v-model=\"stateType\">Start\n        <input type=\"radio\" name=\"stateType\" value=\"finalState\" v-model=\"stateType\">End\n        <input type=\"radio\" name=\"stateType\" value=\"regularState\" v-model=\"stateType\" checked>Regular\n        <span @click=\"selColor()\" style=\"margin-left:70px;\"><i class=\"fas fa-palette fa-2x\" style=\"color:red;\" ref=\"palette\" title=\"click for change color\"></i></span>\n      </div>\n    \n      <div id=\"Trans\" ref=\"Trans\" style=\"display:none\">  \n        <label style=\"margin-left: -100px;\"><b>Trigger Name: </b></label> \n        <input autofocus=\"autofocus\" class=\"modal-enter\" ref=\"transName\" v-bind:placeholder=\"`${transSrc}=>T=>${transDst}`\" type=\"text\"><p/>\n        <label style=\"margin-left: -100px;\"><b>Effect Name: </b></label> \n        <input autofocus=\"autofocus\" class=\"modal-enter\" ref=\"effectName\" type=\"text\"><p/>\n        <label style=\"margin-left: -100px;\"><b>Transition Src: </b></label>      \n        <select id=\"fromState\" v-model=\"transSrc\" class=\"modal-enter\">\n            <option v-bind:key=\"option.id\" \n                    v-for=\"option in srcOptions\" \n                    v-bind:value=\"option.value\">\n                {{ option.text }}\n            </option>\n        </select><p/>\n        <label style=\"margin-left: -100px;\"><b>Transition Dst: </b></label>\n        <select id=\"toState\" v-model=\"transDst\" class=\"modal-enter\">\n            <option v-bind:key=\"option.id\" \n                    v-for=\"option in dstOptions\" \n                    v-bind:value=\"option.value\">\n                {{ option.text }}\n            </option>\n        </select><p/>\n        <button id=\"confirmTrans\" class=\"modal-enter\"\n            @click=\"newTrans()\"\n        >Confirm</button>\n      </div>\n\n      <div id=\"Action\" ref=\"Action\" style=\"display:none\">\n        <input autofocus=\"autofocus\" class=\"modal-enter\" id=\"actionName\" ref=\"actionName\" placeholder=\"choose a action name\" type=\"text\">\n        <button id=\"confirmAction\" class=\"modal-enter\"\n            @click=\"newAction()\"\n        >Confirm</button>          \n      </div>    \n  \n      </div>\n    </div>\n      <input id=\"projectinput\" ref=\"projectinput\" @change=\"onLoad($event)\" type=\"file\" style=\"display:none;\" />\n    </div>\n  </div>  \n</template>\n\n<script>\nimport * as joint from 'jointjs'\nimport \"jointjs/dist/joint.css\"\n//import Component from 'vue-class-component'\nimport { jsonFSA } from '../libs/jsonFSA'\nimport projFSA from '../libs/projFSA'\n\n//@Component\nexport default /*class umlFsm extends jsonFSA*/ {\n    name: 'Graph',\n\n    data() {\n        return {\n            uml : joint.shapes.uml, \n            selected: null,\n            fsaJSON : new jsonFSA('tst','prj'),\n            fsaPROJ : new projFSA('myproj'),\n            stateType: 'regularState',\n            transSrc: undefined,\n            srcOptions: [],\n            transDst: undefined,\n            dstOptions: []\n        }\n    },\n\n\tcreated() {\n        const self = this\n\t\tthis.graph = new joint.dia.Graph({}, { cellNamespace: joint.shapes });\n        this.graph.on('remove', (cell) => {\n            let fsa = self.fsaJSON.get()\n            switch (cell.fsa.type) {\n            case 'trans':\n              const owner = cell.fsa.owner.pattern\n              const remtrans = cell.fsa.item.get().key\n              console.log(`Remove from Owner ${JSON.stringify(cell.fsa.owner)} Transition: ${JSON.stringify(cell.fsa.item.get())}`);\n              cell.fsa.owner.deltrans(cell.fsa.item.get().key)\n              if (fsa.states.hasOwnProperty(owner.key)) {\n                if (fsa.states[owner.key].hasOwnProperty(\"transitions\")) {\n                    const translst = fsa.states[owner.key].transitions  \n                    for(var i = 0; i < translst.length; i++) {\n                        const trans = translst[i]\n                        if(trans.key === remtrans) {\n                           translst.splice(i, 1)\n                      }\n                    }\n                }\n              }\n              break;\n            case 'state':\n              const key = cell.fsa.item.get().key  \n              console.log('Remove State: ',cell.fsa.item.get());  \n              self.fsaJSON.delstate(key)\n              if (fsa.states.hasOwnProperty(key)) {\n                  delete fsa.states[key]\n                  //fsa.countstates -- \n              }              \n              break;\n            }\n        });\n        this.graph.on('change:source', (trans) => {\n            if (trans.attributes.source.id)\n                self.changeTransSrc(trans)\n        });          \n        this.graph.on('change:target', (trans) => { \n            self.changeTransDst(trans)\n        });\n\t},\n\n    mounted() {\n        const self = this;\n        this.paper = new joint.dia.Paper({\n            el: this.$refs.joint,\n            width: this.$refs.joint.clientWidth,\n            height: this.$refs.joint.clientHeight,\n            gridSize: 1,\n            model: this.graph,\n            cellViewNamespace: joint.shapes,\n            snapLabels: true,\n            interactive: {\n                linkMove: true,\n                labelMove: true,\n                arrowheadMove: true,\n                vertexMove: true,\n                vertexAdd: true,\n                vertexRemove: true,\n                useLinkTools: true\n            }\n        });       \n\n        this.paper.on('cell:pointerdown',(cellView)=>{\n//            console.log(`cell:pointerdown`, this.fsaJSON.get())\n            if (self.selected) \n                self.selected.attr({\n                    rect: { fill: 'rgba(48, 208, 198, 0.1)' },\n                    text: { fill: 'black', 'font-size': 15 }\n                });\n            cellView.model.attr({\n              rect: { fill: 'yellow' },\n              text: { fill: 'black', 'font-size': 15 }\n            });\n            self.selected  = cellView.model;\n            if (self.selected.fsa.type === 'state') {\n                this.$refs.more.innerText = 'State'\n                self.showhide(['.state'],['.paper','.trans'])\n                if (self.selected.fsa.item.pattern.key === 'init')\n                    self.showhide([],['.init'])\n                if (self.selected.fsa.item.pattern.key === 'final')\n                    self.showhide([],['.final'])\n            } else if (self.selected.fsa.type === 'trans') {\n                this.$refs.more.innerText = 'Trans'\n                self.showhide(['.trans'],['.paper','.state'])\n            } else {\n                self.showhide([],['.paper','.state','.trans'])    \n            }\n            console.log('selected '+self.selected.fsa.type,self.selected.fsa.item)\n            //$('code#selectedItem').text(self.selected.fsa.item.pattern.key)\n        });\n        this.paper.on('blank:pointerdown', ()=>{\n//            console.log(`blank:pointerdown`)\n            if(self.selected) {\n                self.selected.attr({\n                    rect: { fill: 'rgba(48, 208, 198, 0.1)' },\n                    text: { fill: 'black', 'font-size': 15 }\n                });\n                self.selected  = null;\n                self.showhide(['.paper'],['.state','.trans'])\n                console.log('Reset All')\n                this.$refs.more.innerText = 'Paper'\n                //$('code#selectedItem').text('Not Selected')\n            }\n        });\n        this.paper.on('cell:pointerclick', (cellView, eventObject, eventX, eventY)=>{\n            console.log(`cell:pointerclick - x[${eventX}], y[${eventY}]`)\n        }); \n        this.paper.on('cell:pointerdblclick', (cellView)=>{\n            console.log('Show State:',cellView.model.fsa.item.get());\n        });        \n        this.paper.on('element:contextmenu', (cellView)=>{\n            console.log('Rigth Click Context Menu:');\n        })       \n    },\n\n    watch: {\n\n    },\n    \n    computed: {\n\n    },\n\n    methods: { \n        async graphExport() {\n\n        },\n        async execJSON() {\n            const suid = 'test'\n            const response = await fetch(`/code/json/${suid}`,{\n                method: 'POST',      \n                headers: {\n                'Content-Type': 'application/json'\n                },     \n                body: JSON.stringify(this.fsaJSON.get())     \n            })\n            const data = await response.json()\n            console.log(`Execute JSON:`,data)\n            this.fsaPROJ.save(JSON.stringify(data),'exec.json')\n        },\n        async nodejsCODE() {\n            const suid = 'test'\n            const response = await fetch(`/code/nodejs/${suid}`,{\n                method: 'POST',      \n                headers: {\n                'Content-Type': 'application/json'\n                },     \n                body: JSON.stringify(this.fsaJSON.get())     \n            })\n            const data = await response.text()\n            console.log(`Node.js code template:`,data)\n            this.fsaPROJ.save(data,'code.js')\n        },\n        selColor() {\n            const color = this.fsaJSON.genColor()\n            console.log(`Color:`,color)\n            this.$refs.palette.style.color = color\n        },\n        genColor() {\n            return this.fsaJSON.genColor()\n        },\n        newGraph() {\n            this.graph.clear(); \n            this.fsaJSON.reset();\n            console.log(`Start new graph`)\n        },\n        openGraph() {\n            this.$refs.projectinput.click()\n        },\n        onLoad(e) {\n            const file = e.target.files[0]\n            console.log(`Load Project File: ${file.name}, size: ${file.size}`)\n            this.fsaPROJ.read(file,(result)=>{\n                const dafsm = JSON.parse(result)\n                console.debug(`Read Project: `,dafsm)\n                this.restoreGraph(dafsm.states)\n            })\n\n        },\n        saveGraph() {\n            this.fsaPROJ.save(JSON.stringify(this.fsaJSON.get()))\n        },\n        getSelectedItem() {\n            if(this.selected)\n                return { type: this.selected.fsa.type, name: this.selected.fsa.item.pattern.key }\n            else\n                return null\n        },\n        sellRemove() {\n            if(this.selected) this.selected.remove();\n        },\n        showhide(showlist,hidelist) {\n            showlist.forEach(function(item, i, arr) {\n                const elems = document.querySelectorAll(item)\n                for ( i = 0; i < elems.length; i++)\n                      elems[i].style.display = \"block\";\n            });    \n            hidelist.forEach(function(item, i, arr) {\n                const elems = document.querySelectorAll(item)\n                for ( i = 0; i < elems.length; i++)\n                      elems[i].style.display = \"none\";\n            });            \n        },\n        showDAFSM() {\n            console.log('DAFSM:',this.fsaJSON.get());\n            const dafsm = window.open(\"_blank\");\n            dafsm.document.write(JSON.stringify(this.fsaJSON.get()));\n        },\n        showModal(elem,actiontype) {\n            this.$refs.dialog.style.display = \"block\"\n            this.$refs[elem].style.display = \"block\"\n            this.actionType = actiontype\n            this.updateStateList()\n        },\n        hideModal() {\n            this.$refs['State'].style.display = \"none\"\n            this.$refs['Trans'].style.display = \"none\"\n            this.$refs['Action'].style.display = \"none\"\n            this.$refs.dialog.style.display = \"none\"\n        },\n        updateStateList() {\n            this.srcOptions = [];\n            this.dstOptions = [];\n            for (var s in this.fsaJSON.get().states) {\n                console.log(\"Update state list\",s);\n                this.srcOptions.push({id: s, text:s, value:s});\n                this.dstOptions.push({id: s, text:s, value:s});\n            }\n        },\n        newAction() {\n            const actionName = this.$refs.actionName.value;\n\n            this.addAction(this.actionType,actionName)\n            this.hideModal()\n        },\n        newState() {\n            const type = this.stateType;\n//            const stateName = this.$refs.stateName.value; \n            const stateName = (this.stateType === 'initialState') ? 'init' : \n                              (this.stateType === 'finalState') ? 'final' : this.$refs.stateName.value;    \n\n            console.log(`New State: ${stateName} [${type}]`)    \n            if (this.fsaJSON.get().states[stateName]) {\n                this.$refs.stateName.value = ''\n                this.$refs.stateName.setAttribute('placeholder', \"state[ \"+stateName+\"] exist - choose other name\") \n                console.log(\"state[ \"+stateName+\"] exist - choose other name\");\n                return;\n            }            \n            this.makeState(type,stateName)\n            this.hideModal()\n        },\n        makeState(type,stateName) {\n            let uml = this.uml\n            let fsa = this.fsaJSON.get() \n            let state = null, fsaState = null;\n            const delta = (10*fsa.countstates)\n\n            switch(type) {\n                case 'initialState':\n                    state = new uml.StartState({\n                        position: { x:150  , y: 20 },\n                        size: { width: 30, height: 30 },\n                        attrs: {\n                            'circle': {\n                            fill: '#4b4a67',\n                            stroke: 'none'\n                            }\n                        }\n                    });\n                    fsaState = this.fsaJSON.addstate('init','init'/*stateName*/,type)\n                    fsa['states']['init'] = fsaState.pattern\n                    break;\n                case 'finalState':\n                    state = new uml.EndState({\n                        position: { x:750  , y: 550 },\n                        size: { width: 30, height: 30 },\n                        attrs: {\n                            '.outer': {\n                            stroke: \"#4b4a67\",\n                            'stroke-width': 2\n                            },\n                            '.inner': {\n                            fill: '#4b4a67'\n                            }\n                        }\n                    });\n                    fsaState = this.fsaJSON.addstate('final','final'/*stateName*/,type)\n                    fsa['states']['final'] = fsaState.pattern\n                    break;\n                default:\n                    const color = this.$refs.palette.style.color //this.fsaJSON.genColor()\n                    state = new uml.State({\n                        position: { x:500+delta, y:50+delta },\n                        size: { width: 150, height: 80 },\n                        name: stateName,\n                        events: ['{\"entries\":0}','{\"stays\":0}','{\"exits\":0}'],\n                        attrs: {\n                            '.uml-state-body': {\n                            fill: 'rgba(48, 208, 198, 0.1)',\n                            //stroke: '#4b4a67',\n                            //stroke: this.stroke[this.get().countstates],\n                            stroke: color,\n                            'stroke-width': 3.0\n                            },\n                            '.uml-state-separator': {\n                            //stroke: '#4b4a67'\n                            //stroke: this.stroke[this.get().countstates],\n                            stroke: color\n                            }\n                        }                    \n                    });\n                    fsaState = this.fsaJSON.addstate(stateName,stateName,type)\n                    fsa['states'][stateName] = fsaState.pattern\n            }\n\n            fsaState.get().model = state\n            state.fsa = { type: 'state', item: fsaState}\n            this.graph.addCell(state)   \n            console.log(`${stateName}[${state.id}]`,state)   \n        },\n        newTrans() {\n            let vertices = undefined\n            if (!this.transSrc || !this.transDst) {\n                this.$refs.transName.value = ''\n                this.$refs.transName.setAttribute('placeholder', \"please select transition source & destination\") \n                console.log(\"please fill all fields and select side\");\n                return;\n            } else if (this.transSrc === this.transDst) {\n                vertices = [{\"x\": 513,\"y\": 309},{\"x\": 637,\"y\": 308},{\"x\": 636,\"y\": 221}]\n                /*\n                this.$refs.transName.value = ''\n                this.$refs.transName.setAttribute('placeholder', \"Wrong: selected src and dst is same state, please select one other and after change trans dst\") \n                console.log(\"selected src and dst is same state, please select one other and after change trans dst\");\n                return;   \n                */         \n            }\n            const trigger = this.$refs.transName.value\n            const effect  = this.$refs.effectName.value\n            this.makeTrans(this.transSrc,this.transDst,trigger,effect,vertices)\n            this.hideModal()\n        },\n        makeTrans(src,dst,event,output,vertices) {\n            let uml = this.uml\n            let fsa = this.fsaJSON.get() \n            const transName = `${src}=>[${event}/${output}]=>${dst}`\n            const srcState = fsa.states[src]\n            const dstState = fsa.states[dst]\n            const label = event ? `${event}/${output}` : transName\n            \n            let trans = new uml.Transition({\n                source: { id: srcState.model.id },\n                target: { id: dstState.model.id },\n                attrs: {'.connection': {\n                    'fill': 'none',\n                    'stroke-linejoin': 'round',\n                    'stroke-width': '2',\n                    'stroke': (src === 'init') ? \"#4b4a67\" : srcState.model.attributes.attrs['.uml-state-body'].stroke\n                    },\n                    '.marker-arrowheads': {\n                        display: 'none'\n                    }\n                },\n                labels: [{\n                    position: {\n                        distance: 0.5,\n                        offset: (label.indexOf('\\n') > -1 || label.length === 1) ? 0 : 10,\n                        args: {\n                            keepGradient: true,\n                            ensureLegibility: true\n                        }\n                    },\n                    attrs: {\n                        text: {\n                            text: label,\n                            fontWeight: 'bold'\n                        }\n                    }\n                }],\n                vertices: vertices || []            \n            });     \n            /*\n            let trans = this.transLink(srcState.model, dstState.model, \n                srcState.model.attributes.attrs['.uml-state-body'].stroke, label)\n            */\n            let fsaTrans = srcState.model.fsa.item.addtrans(transName,dstState.key)\n            if (event) fsaTrans.addtrigger(event,'')\n            if (output) fsaTrans.addeffect(output,'')\n            fsaTrans.get().model = trans\n            trans.fsa = { type: 'trans', item: fsaTrans, owner: srcState.model.fsa.item}\n            this.graph.addCell(trans);\n            console.log(`${src}[${srcState.model.id}] => ${dst}[${dstState.model.id}]`,trans)  \n        },\n        addAction(type,actname,actfunc) {\n            const item = this.getSelectedItem()\n            if (!item) return\n            const objItem = this.selected.fsa.item\n            switch(item.type) {\n                case 'state':       \n                    let events = this.selected.get('events')\n                    switch (type) {\n                        case 'entries':\n                            if (events) {\n                                let entries = JSON.parse(events[0])\n                                entries.entries++\n                                this.selected.set('events', [JSON.stringify(entries),events[1],events[2]])\n                            }\n                            objItem.addentry(actname,actfunc || 'return')\n                            break;\n                        case 'stays':\n                            if (events) {\n                                let stays = JSON.parse(events[1])\n                                stays.stays++\n                                this.selected.set('events', [events[0],JSON.stringify(stays),events[2]])\n                            }\n                            objItem.addstay(actname,actfunc || 'return')\n                            break;\n                        case 'exits':\n                            if (events) {\n                                let exits = JSON.parse(events[2])\n                                exits.exits++\n                                this.selected.set('events', [events[0],events[1],JSON.stringify(exits)])   \n                            }  \n                            objItem.addexit(actname,actfunc || 'return')           \n                            break;    \n                    } \n                    break;\n                case 'trans':\n                    switch (type) {\n                        case 'triggers':\n                            objItem.addtrigger(actname,actfunc || 'return true')\n                            break;\n                        case 'effects':\n                            objItem.addeffect(actname,actfunc || 'return')\n                            break;    \n                    }\n                    break; \n            }      \n        },\n        changeTransDst(trans) {\n            if (trans.attributes.target.id) {\n                const newTargetID = trans.attributes.target.id\n                const newTarget = trans.graph.getCell(newTargetID)\n                trans.fsa.item.pattern.key = `T:${trans.fsa.owner.pattern.key}=>${newTarget.fsa.item.pattern.key}`\n                trans.fsa.item.pattern.nextstatename = newTarget.fsa.item.pattern.key\n                console.log(`target of the link changed to ${trans.fsa.item.pattern.nextstatename}:`,trans,newTarget);\n                console.log(`updated FSA`,this.get().states)\n            }\n        },\n        changeTransSrc(trans) {\n            const newSourceID = trans.attributes.source.id\n            const newSource   = trans.graph.getCell(newSourceID)\n            const oldOwnerKey = trans.fsa.owner.pattern.key\n            const newOwnerKey = newSource.fsa.item.pattern.key\n            if (oldOwnerKey !== newOwnerKey) {\n                const fsaOldSource = this.get().states[oldOwnerKey]\n                const fsaNewSource = this.get().states[newOwnerKey]\n                const removedTranKey = trans.fsa.item.pattern.key\n                let remTrans = fsaOldSource.model.fsa.item.deltrans(removedTranKey)\n                if (Array.isArray(remTrans)) {\n                    remTrans = remTrans[0]\n                    remTrans.key = `T:${newOwnerKey}=>${trans.fsa.item.pattern.nextstatename}`\n                    fsaNewSource.model.fsa.item.clonetrans(remTrans/*trans.fsa.item.pattern*/)\n                    trans.fsa.item.pattern.key = remTrans.key\n                    trans.fsa.owner = fsaNewSource.model.fsa.item\n                    console.log(`source of the link changed and updated FSA`,this.get().states)\n                } else {\n                    trans.remove();\n                    console.log(`source of the link changed failed, was deleted`,this.get().states)\n                }\n            }\n        },\n        // Restore Graph utils\n        restoreState(jsonState) {\n            let uml = this.uml\n            const typeState = {\n                StartState : function(jsonState,self) {\n                    const state = new uml.StartState(jsonState.model)\n                    const fsaState = self.fsaJSON.addstate('init',jsonState.name,type)\n                    fsaState.get().model = state\n                    state.fsa = { type: 'state', item: fsaState}\n                    return state\n                },\n                EndState  : function(jsonState,self) {\n                    const state = new uml.EndState(jsonState.model)\n                    const fsaState = self.fsaJSON.addstate('final',jsonState.name,type)\n                    fsaState.get().model = state\n                    state.fsa = { type: 'state', item: fsaState}\n                    return state\n                },\n                State     : function(jsonState,self) {\n                    const state = new uml.State(jsonState.model)\n                    const fsaState = self.fsaJSON.addstate(jsonState.key,jsonState.name,type)\n                    fsaState.get().model = state\n                    state.fsa = { type: 'state', item: fsaState}\n                    return state\n                }\n            }\n            const type = jsonState.model.type.substring(jsonState.model.type.indexOf('.')+1)\n            console.log(`Restore State: `, jsonState.model)\n            this.graph.addCell(typeState[type](jsonState,this)) \n        },\n        restoreTrans(model,srcState,dstKey,transName) {\n            let uml = this.uml\n            const trans = new uml.Transition(model)\n            const fsaTrans = srcState.addtrans(transName,dstKey)\n            fsaTrans.get().model = trans\n            trans.fsa = { type: 'trans', item: fsaTrans, owner: srcState}\n            console.log(`Restore Trans: `, model)\n            this.graph.addCell(trans) \n            return fsaTrans\n        },\n        restoreGraph(states) {\n            if (states instanceof Object) {\n                for (let [key, state] of Object.entries(states)) {\n                    if (state.hasOwnProperty(\"model\"))\n                        this.restoreState(state)\n                }     \n                for (let [key, state] of Object.entries(states)) {\n                    if (state && state.hasOwnProperty(\"transitions\")) {\n                        state.transitions.forEach(trans => {\n                            const srcState = this.fsaJSON.statesDict[state.key]\n                            const fsaTrans = srcState.addtrans(trans.key,trans.nextstatename,trans)\n                            if (trans.hasOwnProperty(\"model\")) {\n                                const modelTrans = new this.uml.Transition(trans.model)\n                                modelTrans.fsa = { type: 'trans', item: fsaTrans, owner: srcState}\n                                this.graph.addCell(modelTrans) \n                            }\n                            /*\n                                this.restoreTrans(\n                                    trans.model,\n                                    this.fsaJSON.statesDict[state.key],\n                                    trans.nextstatename,\n                                    trans.key)\n                            */\n                        })                        \n                    } \n                } \n            } else {\n                console.warn(`Cannon Restore old style format`)\n            }  \n        }\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n//@import \"~@jointjs/dist/joint.css\";\n\n.container {\n    background-color:#f0ebeb6e;\n    margin: auto;\n    border-radius: 5px;\n    border: 2px solid black;\n    width: 100%; /* Full width */\n    height: 90vh; /* Full height */\n}\n\nnav {\n  background-color: #e3f2fd;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  border: 2px solid black;\n//  width: 95%;\n  border-radius: 5px;\n  margin: 5px;\n  padding: 5px;\n}\n\n.btn {\n  background-color: DodgerBlue;\n  border: none;\n  color: white;\n  padding: 12px 15px;\n  cursor: pointer;\n  font-size: 20px;\n  border-radius: 5px; \n  margin: 3px;\n}\n\n/* Darker background on mouse-over */\n.btn:hover {\n  background-color: RoyalBlue;\n}\n\n/* The Modal (background) */\n.modal {\n    display: none; /* Hidden by default */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 30%;\n    top: 10%;\n    width: 500px;\n//\topacity : 1.0;\n}\n\n/* Modal Content */\n.modal-content {\n    background-color:#6e6e6e6e;\n    margin: auto;\n    padding: 20px;\n    border: 2px solid black;\n    width: 90%;\n}\n\n/* The Close Button */\n.close {\n    color: #070707;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n    position: absolute;\n    right: 20px;\n}\n\n.close:hover,\n.close:focus {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n}\nselect.modal-enter, input.modal-enter {\n    width: 50%;\n    padding: 12px 20px;\n    margin: 8px 0;\n    display: inline-block;\n    border: 2px solid black;\n    border-radius: 4px;\n    box-sizing: border-box;\n}\nbutton.modal-enter {\n\tborder-radius: 10px;\n    background-color: #88bbd4;\n\tborder: 2px solid #060606;\n    color: black;\n    padding: 16px 32px;\n    text-decoration: none;\n    margin: 4px 2px;\n    cursor: pointer;\n}\nbutton.modal-enter:hover {\n    background-color:rgb(4, 37, 54);\n    color: white;\n}\n\n.dropdown {\n  float: left;\n  overflow: hidden;\n}\n.dropdown .dropbtn {\n  font-size: 16px;  \n  border: none;\n  outline: none;\n  color: white;\n  padding: 14px 16px;\n  background-color: inherit;\n  font-family: inherit;\n  margin: 0;\n}\n.dropdown-content {\n  display: none;\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  z-index: 1;\n}\n.dropdown-content a {\n  float: none;\n  color: black;\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n  text-align: left;\n}\n.dropdown-content a:hover {\n  background-color: #ddd;\n}\n.dropdown:hover .dropdown-content {\n  display: block;\n}\n\n</style>","\nexport class jsonAction {\n    /* Constructor */\n    constructor(name,code) {\n        this.pattern = code ? {\n            name: name,\n            func: code            \n        } : {\n            name: name\n        }\n    }     \n    get() { return this.pattern } \n    addfunc(code) { \n        this.pattern.func = code\n    }\n}\n\nexport class jsonTrans {\n    /* Constructor */\n    constructor(name,nextstate,trans) {\n        this.pattern = trans ? trans :\n        {\n            key: name,\n            nextstatename: nextstate,\n            triggers: [],\n            effects: []            \n        }\n    }   \n    get() { return this.pattern }  \n    addtrigger(name, code) {\n        this.pattern.triggers.push((new jsonAction(name, code)).get())\n    } \n    addeffect(name, code) {\n        this.pattern.effects.push((new jsonAction(name, code)).get())        \n    } \n}\n\nexport class jsonState {\n    /* Constructor */\n    constructor(key,name,type) {\n        this.transDict = {}\n        this.pattern = {\n            key: key,\n            name: name                 \n        }\n        switch(type) {\n            case 'initialState':\n                this.pattern.key = 'init'\n                this.pattern.exits = [] \n                this.pattern.transitions = []   \n                break;\n            case 'finalState':\n                this.pattern.entries = []\n                break;\n            default:    \n                this.pattern.entries = []\n                this.pattern.stays = []\n                this.pattern.exits = []     \n                this.pattern.transitions = [] \n        }\n    }  \n    get() { return this.pattern }\n    setsuperstate(link) {\n        this.pattern.superstate = {\n            link: link\n        }\n    }\n    addentry(name, code) {\n        if (this.pattern.hasOwnProperty(\"entries\")) {\n            let item = this.pattern.entries.find(obj => obj.name == name)\n            if (item === undefined) {\n                let action = new jsonAction(name, code)\n                this.pattern.entries.push(action.get())    \n                return action\n            } else {\n                item.func = code\n                return null\n            }\n        } else return null        \n    }\n    addexit(name, code) {\n        if (this.pattern.hasOwnProperty(\"exits\")) {\n            let action = new jsonAction(name, code)\n            this.pattern.exits.push(action.get())  \n            return action \n        } else return null    \n    }\n    addstay(name, code) {\n        if (this.pattern.hasOwnProperty(\"stays\")) {\n            let action = new jsonAction(name, code)\n            this.pattern.stays.push(action.get())  \n            return action  \n        } else return null     \n    }    \n    addtrans(name,nextstate,transition) {\n        if (this.pattern.hasOwnProperty(\"transitions\")) {\n            let trans = new jsonTrans(name,nextstate,transition)\n            this.pattern.transitions.push(trans.get())  \n            this.transDict[name] = trans \n            return trans    \n        } else return null\n    }   \n    deltrans(name) {\n        if (this.pattern.hasOwnProperty(\"transitions\")) {\n            const translst = this.get().transitions  \n            for(var i = 0; i < translst.length; i++) {\n                const trans = translst[i]\n                if(trans.key === name) {\n                   translst.splice(i, 1)\n                   if(this.transDict.hasOwnProperty(name)) {\n                      delete this.transDict[name]                      \n                   }\n                   return true\n              }\n            }\n        } \n        return false       \n    }  \n    clonetrans(transition) {\n        if (this.pattern.hasOwnProperty(\"transitions\")) {\n            let trans = new jsonTrans('','',JSON.parse(JSON.stringify(transition)))\n            this.pattern.transitions.push(trans.get())   \n            return trans    \n        } else return null        \n    }\n}\n\nexport class jsonFSA {\n    /* Constructor */\n    constructor(id,project) {\n        this.pattern = {\n            id: id,\n            type: \"FSM\",\n            prj: project,\n            complete: false,\n            start: {},\n            stop: {},\n            countstates: 0,\n            //states: []  \n            states: {}          \n        }\n        this.statesDict = {}\n        this.stroke = [\n            '#d0c4f4',\n            '#f46b6d',\n            '#5d8dbe',\n            '#F4D03F',\n            '#66bc84',\n            '#e6b362',\n            '#80c5e2'\n        ]\n    }   \n    reset() {\n        this.pattern.start = {}\n        this.pattern.stop  = {}\n        this.pattern.countstates = 0\n        this.pattern.states = {}          \n        this.statesDict = {}\n    }\n    get() { return this.pattern }\n    addstate(key,name,type) {\n    /*    \n        let state = this.pattern.states.push((new jsonState(key,name,type)).get()) \n        this.pattern.countstates ++\n        return this.pattern.states[state-1]\n    */    \n        let state = new jsonState(key,name,type)\n        this.pattern.states[key] = state.get()\n        this.pattern.countstates ++\n        this.statesDict[key] = state\n        return state\n    }\n    delstate(key) { \n    /*           \n        let item = null\n        for (let i=0; i<this.pattern.states.length; i++) {\n            item = this.pattern.states[i]\n            if (item.key === key) {\n                this.pattern.states.splice(i, 1)\n                break\n            }\n        } \n    */     \n        if (this.pattern.states.hasOwnProperty(key)) {\n            delete this.pattern.states[key]\n            this.pattern.countstates -- \n            if (this.statesDict.hasOwnProperty(key))\n                delete this.statesDict[key]\n        }                       \n    }\n    addstart(name, code) {\n        this.pattern.start = (new jsonAction(name, code)).get()  \n    }\n    addstop(name, code) {\n        this.pattern.stop = (new jsonAction(name, code)).get()\n    }\n    genColor() {        \n        const letters = '0123456789ABCDEF';\n        let color = '#';\n        for (let i = 0; i < 6; i++) {\n            color += letters[Math.floor(Math.random() * 16)];\n        }\n        return color;    \n    }    \n}\n","import FileSaver from 'file-saver'\n\nexport default class projFSA {\n    /* Constructor */\n    constructor(name) {\n        this._prjname_ = name || 'project'\n        this._extension_ = 'dafsm'\n    }\n\n    read(file,handle) {\n        let reader = new FileReader();\n        reader.readAsText(file);\n        reader.onload = function() {\n          console.log(reader.result);\n          if (handle) handle(reader.result);\n        };  \n        reader.onerror = function() {\n          console.log(reader.error);\n        };\n    }\n    save(context,filename) {\n        const fname = filename || `${this._prjname_}.${this._extension_}`\n        const file = new File([context],fname,{type: \"text/plain;charset=utf-8\"});\n        FileSaver.saveAs(file);          \n    }\n}","import { render } from \"./Graph.vue?vue&type=template&id=d4b613a0&scoped=true\"\nimport script from \"./Graph.vue?vue&type=script&lang=js\"\nexport * from \"./Graph.vue?vue&type=script&lang=js\"\n\nimport \"./Graph.vue?vue&type=style&index=0&id=d4b613a0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d4b613a0\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=322c0829\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=322c0829&lang=scss\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n"],"sourceRoot":""}