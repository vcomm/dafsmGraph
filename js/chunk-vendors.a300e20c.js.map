{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/jquery/dist/jquery.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/lodash/lodash.js","webpack:///./node_modules/underscore/modules/_setup.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack:///./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack:///./node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/jointjs/src/g/index.mjs","webpack:///./node_modules/jointjs/src/V/index.mjs","webpack:///./node_modules/jointjs/src/config/index.mjs","webpack:///./node_modules/jointjs/src/util/util.mjs","webpack:///./node_modules/jointjs/src/util/cloneCells.mjs","webpack:///./node_modules/jointjs/src/dia/attributes.mjs","webpack:///./node_modules/jointjs/src/dia/Cell.mjs","webpack:///./node_modules/jointjs/src/util/wrappers.mjs","webpack:///./node_modules/jointjs/src/layout/ports/port.mjs","webpack:///./node_modules/jointjs/src/layout/ports/portLabel.mjs","webpack:///./node_modules/jointjs/src/dia/Link.mjs","webpack:///./node_modules/jointjs/src/dia/ports.mjs","webpack:///./node_modules/jointjs/src/dia/Element.mjs","webpack:///./node_modules/jointjs/src/dia/Graph.mjs","webpack:///./node_modules/jointjs/src/mvc/index.mjs","webpack:///./node_modules/jointjs/src/dia/HighlighterView.mjs","webpack:///./node_modules/jointjs/src/dia/CellView.mjs","webpack:///./node_modules/jointjs/src/dia/ElementView.mjs","webpack:///./node_modules/jointjs/src/routers/normal.mjs","webpack:///./node_modules/jointjs/src/routers/oneSide.mjs","webpack:///./node_modules/jointjs/src/routers/orthogonal.mjs","webpack:///./node_modules/jointjs/src/routers/manhattan.mjs","webpack:///./node_modules/jointjs/src/routers/metro.mjs","webpack:///./node_modules/jointjs/src/connectors/jumpover.mjs","webpack:///./node_modules/jointjs/src/connectors/normal.mjs","webpack:///./node_modules/jointjs/src/connectors/rounded.mjs","webpack:///./node_modules/jointjs/src/connectors/smooth.mjs","webpack:///./node_modules/jointjs/src/dia/LinkView.mjs","webpack:///./node_modules/jointjs/src/highlighters/stroke.mjs","webpack:///./node_modules/jointjs/src/highlighters/mask.mjs","webpack:///./node_modules/jointjs/src/highlighters/opacity.mjs","webpack:///./node_modules/jointjs/src/highlighters/addClass.mjs","webpack:///./node_modules/jointjs/src/linkAnchors/index.mjs","webpack:///./node_modules/jointjs/src/connectionPoints/index.mjs","webpack:///./node_modules/jointjs/src/anchors/index.mjs","webpack:///./node_modules/jointjs/src/dia/Paper.mjs","webpack:///./node_modules/jointjs/src/dia/ToolView.mjs","webpack:///./node_modules/jointjs/src/dia/ToolsView.mjs","webpack:///./node_modules/jointjs/src/layout/DirectedGraph/DirectedGraph.mjs","webpack:///./node_modules/jointjs/src/env/index.mjs","webpack:///./node_modules/jointjs/src/shapes/basic.mjs","webpack:///./node_modules/jointjs/src/shapes/standard.mjs","webpack:///./node_modules/jointjs/src/shapes/devs.mjs","webpack:///./node_modules/jointjs/src/shapes/logic.mjs","webpack:///./node_modules/jointjs/src/shapes/chess.mjs","webpack:///./node_modules/jointjs/src/shapes/erd.mjs","webpack:///./node_modules/jointjs/src/shapes/fsa.mjs","webpack:///./node_modules/jointjs/src/shapes/org.mjs","webpack:///./node_modules/jointjs/src/shapes/pn.mjs","webpack:///./node_modules/jointjs/src/shapes/uml.mjs","webpack:///./node_modules/jointjs/src/connectionStrategies/index.mjs","webpack:///./node_modules/jointjs/src/linkTools/index.mjs","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/backbone/backbone.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/underscore/modules/restArguments.js","webpack:///./node_modules/underscore/modules/isObject.js","webpack:///./node_modules/underscore/modules/isNull.js","webpack:///./node_modules/underscore/modules/isUndefined.js","webpack:///./node_modules/underscore/modules/isBoolean.js","webpack:///./node_modules/underscore/modules/isElement.js","webpack:///./node_modules/underscore/modules/_tagTester.js","webpack:///./node_modules/underscore/modules/isString.js","webpack:///./node_modules/underscore/modules/isNumber.js","webpack:///./node_modules/underscore/modules/isDate.js","webpack:///./node_modules/underscore/modules/isRegExp.js","webpack:///./node_modules/underscore/modules/isError.js","webpack:///./node_modules/underscore/modules/isSymbol.js","webpack:///./node_modules/underscore/modules/isArrayBuffer.js","webpack:///./node_modules/underscore/modules/isFunction.js","webpack:///./node_modules/underscore/modules/_hasObjectTag.js","webpack:///./node_modules/underscore/modules/_stringTagBug.js","webpack:///./node_modules/underscore/modules/isDataView.js","webpack:///./node_modules/underscore/modules/isArray.js","webpack:///./node_modules/underscore/modules/_has.js","webpack:///./node_modules/underscore/modules/isArguments.js","webpack:///./node_modules/underscore/modules/isFinite.js","webpack:///./node_modules/underscore/modules/isNaN.js","webpack:///./node_modules/underscore/modules/constant.js","webpack:///./node_modules/underscore/modules/_createSizePropertyCheck.js","webpack:///./node_modules/underscore/modules/_shallowProperty.js","webpack:///./node_modules/underscore/modules/_getByteLength.js","webpack:///./node_modules/underscore/modules/_isBufferLike.js","webpack:///./node_modules/underscore/modules/isTypedArray.js","webpack:///./node_modules/underscore/modules/_getLength.js","webpack:///./node_modules/underscore/modules/_collectNonEnumProps.js","webpack:///./node_modules/underscore/modules/keys.js","webpack:///./node_modules/underscore/modules/isEmpty.js","webpack:///./node_modules/underscore/modules/isMatch.js","webpack:///./node_modules/underscore/modules/underscore.js","webpack:///./node_modules/underscore/modules/_toBufferView.js","webpack:///./node_modules/underscore/modules/isEqual.js","webpack:///./node_modules/underscore/modules/allKeys.js","webpack:///./node_modules/underscore/modules/_methodFingerprint.js","webpack:///./node_modules/underscore/modules/isMap.js","webpack:///./node_modules/underscore/modules/isWeakMap.js","webpack:///./node_modules/underscore/modules/isSet.js","webpack:///./node_modules/underscore/modules/isWeakSet.js","webpack:///./node_modules/underscore/modules/values.js","webpack:///./node_modules/underscore/modules/pairs.js","webpack:///./node_modules/underscore/modules/invert.js","webpack:///./node_modules/underscore/modules/functions.js","webpack:///./node_modules/underscore/modules/_createAssigner.js","webpack:///./node_modules/underscore/modules/extend.js","webpack:///./node_modules/underscore/modules/extendOwn.js","webpack:///./node_modules/underscore/modules/defaults.js","webpack:///./node_modules/underscore/modules/_baseCreate.js","webpack:///./node_modules/underscore/modules/create.js","webpack:///./node_modules/underscore/modules/clone.js","webpack:///./node_modules/underscore/modules/tap.js","webpack:///./node_modules/underscore/modules/toPath.js","webpack:///./node_modules/underscore/modules/_toPath.js","webpack:///./node_modules/underscore/modules/_deepGet.js","webpack:///./node_modules/underscore/modules/get.js","webpack:///./node_modules/underscore/modules/has.js","webpack:///./node_modules/underscore/modules/identity.js","webpack:///./node_modules/underscore/modules/matcher.js","webpack:///./node_modules/underscore/modules/property.js","webpack:///./node_modules/underscore/modules/_optimizeCb.js","webpack:///./node_modules/underscore/modules/_baseIteratee.js","webpack:///./node_modules/underscore/modules/iteratee.js","webpack:///./node_modules/underscore/modules/_cb.js","webpack:///./node_modules/underscore/modules/mapObject.js","webpack:///./node_modules/underscore/modules/noop.js","webpack:///./node_modules/underscore/modules/propertyOf.js","webpack:///./node_modules/underscore/modules/times.js","webpack:///./node_modules/underscore/modules/random.js","webpack:///./node_modules/underscore/modules/now.js","webpack:///./node_modules/underscore/modules/_createEscaper.js","webpack:///./node_modules/underscore/modules/_escapeMap.js","webpack:///./node_modules/underscore/modules/escape.js","webpack:///./node_modules/underscore/modules/_unescapeMap.js","webpack:///./node_modules/underscore/modules/unescape.js","webpack:///./node_modules/underscore/modules/templateSettings.js","webpack:///./node_modules/underscore/modules/template.js","webpack:///./node_modules/underscore/modules/result.js","webpack:///./node_modules/underscore/modules/uniqueId.js","webpack:///./node_modules/underscore/modules/chain.js","webpack:///./node_modules/underscore/modules/_executeBound.js","webpack:///./node_modules/underscore/modules/partial.js","webpack:///./node_modules/underscore/modules/bind.js","webpack:///./node_modules/underscore/modules/_isArrayLike.js","webpack:///./node_modules/underscore/modules/_flatten.js","webpack:///./node_modules/underscore/modules/bindAll.js","webpack:///./node_modules/underscore/modules/memoize.js","webpack:///./node_modules/underscore/modules/delay.js","webpack:///./node_modules/underscore/modules/defer.js","webpack:///./node_modules/underscore/modules/throttle.js","webpack:///./node_modules/underscore/modules/debounce.js","webpack:///./node_modules/underscore/modules/wrap.js","webpack:///./node_modules/underscore/modules/negate.js","webpack:///./node_modules/underscore/modules/compose.js","webpack:///./node_modules/underscore/modules/after.js","webpack:///./node_modules/underscore/modules/before.js","webpack:///./node_modules/underscore/modules/once.js","webpack:///./node_modules/underscore/modules/findKey.js","webpack:///./node_modules/underscore/modules/_createPredicateIndexFinder.js","webpack:///./node_modules/underscore/modules/findIndex.js","webpack:///./node_modules/underscore/modules/findLastIndex.js","webpack:///./node_modules/underscore/modules/sortedIndex.js","webpack:///./node_modules/underscore/modules/_createIndexFinder.js","webpack:///./node_modules/underscore/modules/indexOf.js","webpack:///./node_modules/underscore/modules/lastIndexOf.js","webpack:///./node_modules/underscore/modules/find.js","webpack:///./node_modules/underscore/modules/findWhere.js","webpack:///./node_modules/underscore/modules/each.js","webpack:///./node_modules/underscore/modules/map.js","webpack:///./node_modules/underscore/modules/_createReduce.js","webpack:///./node_modules/underscore/modules/reduce.js","webpack:///./node_modules/underscore/modules/reduceRight.js","webpack:///./node_modules/underscore/modules/filter.js","webpack:///./node_modules/underscore/modules/reject.js","webpack:///./node_modules/underscore/modules/every.js","webpack:///./node_modules/underscore/modules/some.js","webpack:///./node_modules/underscore/modules/contains.js","webpack:///./node_modules/underscore/modules/invoke.js","webpack:///./node_modules/underscore/modules/pluck.js","webpack:///./node_modules/underscore/modules/where.js","webpack:///./node_modules/underscore/modules/max.js","webpack:///./node_modules/underscore/modules/min.js","webpack:///./node_modules/underscore/modules/sample.js","webpack:///./node_modules/underscore/modules/shuffle.js","webpack:///./node_modules/underscore/modules/sortBy.js","webpack:///./node_modules/underscore/modules/_group.js","webpack:///./node_modules/underscore/modules/groupBy.js","webpack:///./node_modules/underscore/modules/indexBy.js","webpack:///./node_modules/underscore/modules/countBy.js","webpack:///./node_modules/underscore/modules/partition.js","webpack:///./node_modules/underscore/modules/toArray.js","webpack:///./node_modules/underscore/modules/size.js","webpack:///./node_modules/underscore/modules/_keyInObj.js","webpack:///./node_modules/underscore/modules/pick.js","webpack:///./node_modules/underscore/modules/omit.js","webpack:///./node_modules/underscore/modules/initial.js","webpack:///./node_modules/underscore/modules/first.js","webpack:///./node_modules/underscore/modules/rest.js","webpack:///./node_modules/underscore/modules/last.js","webpack:///./node_modules/underscore/modules/compact.js","webpack:///./node_modules/underscore/modules/flatten.js","webpack:///./node_modules/underscore/modules/difference.js","webpack:///./node_modules/underscore/modules/without.js","webpack:///./node_modules/underscore/modules/uniq.js","webpack:///./node_modules/underscore/modules/union.js","webpack:///./node_modules/underscore/modules/intersection.js","webpack:///./node_modules/underscore/modules/unzip.js","webpack:///./node_modules/underscore/modules/zip.js","webpack:///./node_modules/underscore/modules/object.js","webpack:///./node_modules/underscore/modules/range.js","webpack:///./node_modules/underscore/modules/chunk.js","webpack:///./node_modules/underscore/modules/_chainResult.js","webpack:///./node_modules/underscore/modules/mixin.js","webpack:///./node_modules/underscore/modules/underscore-array-methods.js","webpack:///./node_modules/underscore/modules/index-default.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","toIndexedObject","$getOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","slice","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","$getOwnPropertyDescriptor","getOwnPropertyDescriptor","O","P","fails","createElement","defineProperty","get","global","factory","document","w","Error","this","noGlobal","arr","getProto","getPrototypeOf","flat","array","concat","push","indexOf","class2type","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","type","src","nonce","noModule","DOMEval","code","node","doc","i","val","script","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","init","isArrayLike","prototype","jquery","constructor","toArray","num","pushStack","elems","ret","merge","prevObject","each","callback","map","elem","first","eq","last","even","grep","_elem","odd","len","j","end","sort","splice","extend","options","name","copy","copyIsArray","clone","target","deep","isPlainObject","Array","isArray","expando","Math","random","replace","isReady","msg","noop","proto","Ctor","isEmptyObject","globalEval","makeArray","results","inArray","second","invert","callbackInverse","matches","callbackExpect","arg","value","guid","Symbol","iterator","split","_i","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","pop","pushNative","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","escape","nonHex","high","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","next","childNodes","e","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","testContext","scope","toSelector","join","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","input","innerHTML","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","_argument","simple","forward","ofType","_context","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","args","setFilters","idx","matched","matcher","unmatched","lang","elemLang","hash","location","activeElement","hasFocus","href","tabIndex","checked","selected","selectedIndex","_matchIndexes","radio","checkbox","file","password","image","submit","reset","tokens","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","filters","parseOnly","soFar","preFilters","cached","token","compiled","_name","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","needsContext","rsingleTag","winnow","qualifier","not","self","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","sibling","targets","l","closest","index","prevAll","add","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","object","_","flag","Identity","v","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","then","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","empty","disable","lock","fireWith","Deferred","func","tuples","state","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","special","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","console","warn","message","readyException","readyList","completed","removeEventListener","catch","readyWait","wait","readyState","doScroll","access","chainable","emptyGet","raw","bulk","_key","rmsPrefix","rdashAlpha","fcamelCase","_all","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","configurable","set","data","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","show","values","hide","toggle","rcheckableType","rtagName","rscriptType","fragment","createDocumentFragment","div","checkClone","cloneNode","noCloneChecked","option","wrapMap","thead","col","tr","td","_default","getAll","setGlobalEval","refElements","tbody","tfoot","colgroup","caption","th","optgroup","buildFragment","scripts","selection","ignored","wrap","attached","nodes","htmlPrefilter","createTextNode","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","err","on","types","one","origFn","event","off","leverageNative","notAsync","saved","isTrigger","delegateType","stopPropagation","stopImmediatePropagation","preventDefault","trigger","Event","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","create","handle","triggered","dispatch","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","button","addProp","hook","enumerable","originalEvent","writable","load","noBubble","click","beforeunload","returnValue","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","swap","old","rboxStyle","curCSS","computed","width","minWidth","maxWidth","getPropertyValue","pixelBoxStyles","addGetHookIf","conditionFn","hookFn","computeStyleTests","container","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","position","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","table","trChild","trStyle","height","parseInt","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","Tween","easing","cssHooks","opacity","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","padding","border","prefix","suffix","expand","expanded","parts","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","bind","complete","timer","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","stripAndCollapse","getClass","classesToArray","removeProp","propFix","tabindex","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","throws","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","0","1223","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","hover","fnOver","fnOut","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","trim","_jQuery","_$","$","noConflict","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","Constructor","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","from","SKIP_CLOSING","ITERATION_SUPPORT","userAgent","asyncGeneratorStep","gen","_next","_throw","info","Promise","_asyncToGenerator","V8_VERSION","SPECIES","METHOD_NAME","foo","Boolean","autoBom","Blob","d","g","dispatchEvent","MouseEvent","createEvent","initMouseEvent","navigator","saveAs","HTMLAnchorElement","h","URL","webkitURL","download","rel","origin","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","title","innerText","HTMLElement","safari","FileReader","k","onloadend","readAsDataURL","anObject","isArrayIteratorMethod","toLength","getIteratorMethod","iteratorClose","Result","iterable","unboundFunction","iterFn","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","condition","callFn","toInteger","min","integer","redefine","setGlobal","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","definePropertyModule","CONSTRUCTOR_NAME","returnMethod","channel","port","IS_IOS","IS_NODE","setImmediate","clear","clearImmediate","MessageChannel","Dispatch","counter","ONREADYSTATECHANGE","runner","listener","post","postMessage","Function","nextTick","port2","port1","onmessage","importScripts","versions","v8","VERSION","LARGE_ARRAY_SIZE","CORE_ERROR_TEXT","FUNC_ERROR_TEXT","INVALID_TEMPL_VAR_ERROR_TEXT","HASH_UNDEFINED","MAX_MEMOIZE_SIZE","PLACEHOLDER","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_BOUND_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","LAZY_WHILE_FLAG","INFINITY","MAX_SAFE_INTEGER","MAX_INTEGER","NAN","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","asyncTag","boolTag","dateTag","domExcTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","weakSetTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsDingbatRange","rsLowerRange","rsMathOpRange","rsNonCharRange","rsPunctuationRange","rsSpaceRange","rsUpperRange","rsVarRange","rsBreakRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsOptJoin","rsOrdLower","rsOrdUpper","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","deburredLetters","htmlEscapes","htmlUnescapes","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","freeSelf","freeExports","freeModule","moduleExports","freeProcess","nodeUtil","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","thisArg","arrayAggregator","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","asciiToArray","asciiWords","baseFindKey","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","baseSortBy","comparer","baseTimes","baseToPairs","baseTrim","trimmedEndIndex","baseUnary","baseValues","cacheHas","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","getValue","hasUnicode","hasUnicodeWord","iteratorToArray","mapToArray","size","overArg","transform","replaceHolders","setToArray","setToPairs","strictLastIndexOf","stringSize","unicodeSize","stringToArray","unicodeToArray","charAt","unescapeHtmlChar","lastIndex","unicodeWords","runInContext","defaults","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Uint8Array","allocUnsafe","getPrototype","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","Map","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","lazyClone","copyArray","lazyReverse","lazyValue","isArr","isRight","arrLength","getView","iteratees","iterLength","takeCount","baseWrapperValue","outer","iterIndex","Hash","entries","entry","hashClear","__data__","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","baseClamp","arrayShuffle","assignMergeValue","baseAssignValue","assignValue","objValue","baseAggregator","baseEach","baseAssign","copyObject","baseAssignIn","keysIn","baseAt","paths","number","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","copySymbolsIn","copySymbols","initCloneByTag","stacked","subValue","keysFunc","getAllKeysIn","getAllKeys","baseConforms","baseConformsTo","baseDelay","baseDifference","includes","isCommon","valuesLength","valuesIndex","templateSettings","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFill","baseFilter","baseFlatten","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","path","castPath","toKey","baseGetAllKeys","symbolsFunc","baseGetTag","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseInRange","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInverter","baseInvoke","baseIsArguments","baseIsArrayBuffer","baseIsDate","baseIsEqual","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsMap","baseIsMatch","matchData","noCustomizer","srcValue","baseIsNative","isMasked","baseIsRegExp","baseIsSet","baseIsTypedArray","isLength","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","baseMergeDeep","newValue","safeGet","mergeFunc","isTyped","isArrayLikeObject","cloneTypedArray","toPlainObject","baseNth","baseOrderBy","orders","getIteratee","criteria","compareMultiple","basePick","basePickBy","baseSet","basePropertyDeep","basePullAll","basePullAt","indexes","previous","baseUnset","baseRange","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","buffer","cloneArrayBuffer","arrayBuffer","byteLength","cloneDataView","dataView","byteOffset","cloneRegExp","regexp","cloneSymbol","symbol","typedArray","compareAscending","valIsDefined","valIsReflexive","objCriteria","othCriteria","ordersLength","order","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","getSymbols","getSymbolsIn","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","createBind","isBind","createCtor","wrapper","createCaseFirst","methodName","trailing","createCompounder","words","deburr","thisBinding","createCurry","arity","getHolder","createRecurry","createHybrid","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","getFuncName","isLaziable","plant","partialsRight","holdersRight","argPos","ary","isAry","isBindKey","isFlip","holdersCount","newHolders","reorder","createInverter","toIteratee","createMathOperation","createOver","arrayFunc","createPadding","chars","charsLength","createPartial","createRange","toFinite","createRelationalOperation","toNumber","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","setData","setWrapToString","createRound","precision","pair","createToPairs","createWrap","mergeData","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","isPartial","arrStacked","othStacked","arrValue","othValue","compared","convert","objProps","objLength","othProps","objStacked","skipCtor","objCtor","othCtor","flatten","otherFunc","isKeyable","isOwn","unmasked","stubArray","transforms","getWrapDetails","hasPath","hasFunc","insertWrapDetails","details","ArrayBuffer","ctorString","isMaskable","stubFalse","memoizeCapped","memoize","srcBitmask","newBitmask","isCombo","otherArgs","oldArray","shortOut","reference","updateWrapDetails","lastCalled","stamp","rand","quote","subString","chunk","compact","difference","differenceBy","differenceWith","drop","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","flattenDeep","flattenDepth","fromPairs","intersection","intersectionBy","intersectionWith","separator","lastIndexOf","nth","pull","pullAll","pullAllBy","pullAllWith","pullAt","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","union","unionBy","unionWith","uniq","uniqBy","uniqWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipObject","zipObjectDeep","zipWith","chain","tap","interceptor","wrapperAt","wrapperChain","wrapperCommit","wrapperNext","wrapperToIterator","wrapperPlant","wrapperReverse","wrapped","wrapperValue","countBy","every","findLast","flatMap","flatMapDeep","flatMapDepth","forEachRight","groupBy","isString","invokeMap","keyBy","orderBy","partition","reduce","reduceRight","negate","sample","sampleSize","shuffle","some","sortBy","bindKey","curry","curryRight","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","flip","resolver","memoized","Cache","overArgs","funcsLength","partial","partialRight","rearg","rest","spread","throttle","unary","castArray","cloneWith","cloneDeep","cloneDeepWith","conformsTo","gt","gte","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isError","isInteger","isMatch","isMatchWith","isNumber","isNative","isNull","isNil","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lt","lte","sign","remainder","isBinary","toSafeInteger","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","functions","functionsIn","invertBy","invoke","mapKeys","mapValues","omit","omitBy","pickBy","setWith","toPairs","toPairsIn","isArrLike","unset","update","updateWith","valuesIn","clamp","inRange","floating","word","capitalize","upperFirst","endsWith","escapeRegExp","kebabCase","lowerCase","lowerFirst","pad","strLength","padEnd","padStart","radix","repeat","snakeCase","limit","startCase","startsWith","template","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","attempt","toLower","toUpper","trimEnd","trimStart","omission","search","substring","newEnd","unescape","upperCase","bindAll","methodNames","cond","conforms","defaultTo","flow","flowRight","matchesProperty","methodOf","mixin","nthArg","over","overEvery","overSome","propertyOf","range","rangeRight","stubObject","stubString","stubTrue","times","toPath","uniqueId","augend","addend","divide","dividend","divisor","maxBy","mean","meanBy","minBy","multiply","multiplier","multiplicand","minuend","subtrahend","sum","sumBy","entriesIn","extendWith","eachRight","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","commit","toJSON","ArrayProto","ObjProto","SymbolProto","supportsArrayBuffer","supportsDataView","nativeIsArray","nativeIsView","isView","_isNaN","_isFinite","hasEnumBug","nonEnumerableProps","pow","classof","Iterators","objectKeys","defineProperties","Properties","_arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_s","_arrayLikeToArray","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","point","UNSCOPABLES","ArrayPrototype","defaultConstructor","S","C","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","toObject","callWithSafeIterationClosing","createProperty","arrayLike","argumentsLength","mapfn","mapping","iteratorMethod","$entries","IS_PURE","store","mode","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","bitmap","IndexedObject","$assign","A","B","alphabet","T","webpackPolyfill","deprecate","requireObjectCoercible","CONVERT_TO_STRING","codeAt","originalArray","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","enforce","TYPE","wmget","wmhas","wmset","metadata","facade","STATE","inspectSource","enforceInternalState","TEMPLATE","unsafe","TO_ENTRIES","wrappedWellKnownSymbolModule","NAME","targetMap","effectStack","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","isEffect","_isEffect","effect","createReactiveEffect","lazy","onStop","scheduler","enableTracking","resetTracking","allowRecurse","deps","delete","shouldTrack","trackStack","pauseTracking","track","depsMap","dep","oldValue","oldTarget","effects","effectsToAdd","isNonTrackableKeys","builtInSymbols","createGetter","shallowGet","readonlyGet","shallowReadonlyGet","arrayInstrumentations","isReadonly","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","res","isRef","shouldUnwrap","readonly","reactive","toRaw","createSetter","shallowSet","hadKey","Number","deleteProperty","ownKeys","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toReactive","toReadonly","toShallow","get$1","isShallow","rawTarget","rawKey","has$1","set$1","deleteEntry","hadItems","createForEach","observed","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","createReadonlyMethod","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","iteratorMethods","createInstrumentationGetter","instrumentations","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","Proxy","isReactive","isProxy","r","__v_isRef","unref","ref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ObjectRefImpl","_object","newVal","toRef","ComputedRefImpl","_setter","_dirty","_value","getterOrOptions","callWithErrorHandling","instance","handleError","callWithAsyncErrorHandling","throwInDev","contextVNode","vnode","exposedInstance","errorInfo","errorCapturedHooks","ec","appErrorHandler","appContext","config","errorHandler","logError","isFlushing","isFlushPending","flushIndex","pendingPreFlushCbs","activePreFlushCbs","preFlushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","currentPreFlushParentJob","findInsertionIndex","job","jobId","getId","middle","middleJobId","queueJob","queueFlush","flushJobs","invalidateJob","queueCb","cb","activeQueue","pendingQueue","queuePreFlushCb","queuePostFlushCb","flushPreFlushCbs","parentJob","flushPostFlushCbs","deduped","rawArgs","isModelListener","modelArg","modifiersKey","handlerName","onceHandler","emitted","normalizeEmitsOptions","comp","asMixin","deopt","__emits","emits","normalized","hasExtends","extendEmits","normalizedFromExtend","mixins","extends","isEmitListener","isRenderingCompiledSlot","setCompiledSlotRendering","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","__scopeId","pushScopeId","popScopeId","withScopeId","_id","withCtx","ctx","renderFnWithContext","openBlock","prevInstance","closeBlock","_c","renderComponentRoot","Component","withProxy","propsOptions","slots","emit","render","renderCache","setupState","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","getFunctionalFallthrough","inheritAttrs","filterModelListeners","cloneVNode","dirs","transition","blockStack","createVNode","Comment","filterSingleRoot","singleRoot","child","isVNode","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","component","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","normalizeSuspenseChildren","fallback","normalizeSuspenseSlot","default","singleChild","queueEffectWithSuspense","suspense","pendingBranch","initProps","rawProps","isStateful","isSSR","InternalObjectKey","propsDefaults","setFullProps","updateProps","rawPrevProps","rawCurrentProps","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","camelKey","hasDefault","setCurrentInstance","normalizePropsOptions","__props","extendProps","normalizedKey","validatePropName","booleanIndex","getTypeIndex","stringIndex","getType","ctor","isSameType","expectedTypes","injectHook","currentInstance","wrappedHook","__weh","isUnmounted","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onUnmounted","onRenderTriggered","onRenderTracked","onErrorCaptured","INITIAL_WATCHER_VALUE","watch","doWatch","immediate","onTrack","onTrigger","cleanup","forceTrigger","_shallow","traverse","onInvalidate","baseGetter","queuePostRenderEffect","isMounted","recordInstanceBoundEffect","instanceWatch","publicThis","useTransitionState","isLeaving","isUnmounting","leavingVNodes","TransitionHookValidator","BaseTransitionImpl","appear","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getCurrentInstance","prevTransitionKey","getTransitionRawChildren","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","isSameVNodeType","leavingHooks","afterLeave","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook","leavingVNode","afterHook","cancelHook","_enterCb","cancelled","isKeepAlive","ssContent","ssFallback","keepComment","keyedFragmentCount","Fragment","__isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","__wdc","isDeactivated","injectToKeepAliveRoot","keepAliveRoot","injected","resetShapeFlag","getInnerChild","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","withDirectives","directives","internalInstance","bindings","modifiers","mounted","updated","invokeDirectiveHook","oldBindings","createAppContext","app","isNativeTag","performance","globalProperties","optionMergeStrategies","isCustomElement","warnHandler","components","provides","createAppAPI","hydrate","rootComponent","rootProps","installedPlugins","_uid","_component","_props","_container","plugin","install","directive","rootContainer","isHydrate","isSVG","__vue_app__","initFeatureFlags","isAsyncWrapper","__asyncLoader","prodEffectOptions","setRef","rawRef","oldRawRef","parentSuspense","exposed","oldRef","refs","doSet","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","patchProp","hostPatchProp","forcePatchProp","hostForcePatchProp","hostCreateElement","createText","hostCreateText","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","hostParentNode","hostNextSibling","setScopeId","hostSetScopeId","hostCloneNode","insertStaticContent","hostInsertStaticContent","patch","n1","n2","anchor","parentComponent","slotScopeIds","getNextHostNode","unmount","dynamicChildren","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","patchElement","vnodeHook","mountChildren","unmountChildren","onVnodeBeforeMount","invokeVNodeHook","scopeId","needCallTransitionHooks","beforeEnter","onVnodeMounted","enter","parentVNode","cloneIfMounted","oldProps","newProps","onVnodeBeforeUpdate","patchProps","class","areChildrenSVG","patchBlockChildren","patchChildren","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","activate","mountComponent","updateComponent","initialVNode","createComponentInstance","renderer","setupComponent","asyncDep","registerDep","setupRenderEffect","asyncResolved","updateComponentPreRender","bu","u","originNext","nextTree","prevTree","bm","hydrateNode","scopedInitialVNode","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","oldLength","newLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","needTransition","leave","performLeave","doRemove","deactivate","shouldInvokeDirs","onVnodeBeforeUnmount","unmountComponent","onVnodeUnmounted","removeFragment","performRemove","bum","um","suspenseId","pendingId","_vnode","mt","mc","pc","pbc","createApp","ch1","ch2","arrI","isTeleport","__isTeleport","COMPONENTS","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","warnMissing","selfName","getComponentName","registry","currentBlock","disableTracking","createBlock","__v_isVNode","normalizeKey","normalizeRef","_createVNode","isBlockNode","cloned","normalizeChildren","isClassComponent","__vccOpts","klass","targetAnchor","staticCount","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","slot","slotFlag","toMerge","existing","incoming","provide","parentProvides","inject","treatDefaultAsFactory","shouldCacheAccess","applyOptions","deferredData","deferredWatch","deferredProvide","extendsOptions","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","beforeMount","beforeUpdate","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","expose","globalMixins","callSyncHook","applyMixins","methodHandler","dataFn","resolveData","createWatcher","callHookWithMixinAndExtends","selfHook","createPathGetter","segments","resolveMergedOptions","__merged","mergeOptions","strats","getPublicInstance","isStatefulComponent","publicPropertiesMap","$el","$data","$props","$attrs","$slots","$refs","$parent","$root","$emit","$options","$forceUpdate","$nextTick","$watch","PublicInstanceProxyHandlers","accessCache","normalizedProps","publicGetter","cssModule","__cssModules","RuntimeCompiledPublicInstanceProxyHandlers","unscopables","emptyAppContext","uid$1","setupContext","bc","da","rtg","rtc","setupResult","setupStatefulComponent","createSetupContext","resolvedResult","handleSetupResult","finishComponentSetup","delimiters","_rc","displayName","propsOrChildren","renderList","renderItem","svgNS","tempContainer","tempSVGContainer","nodeOps","createElementNS","multiple","querySelector","patchClass","transitionClasses","_vtc","patchStyle","setStyle","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","setAttributeNS","patchDOMProp","tagName","_getNow","skipTimestampCheck","ffMatch","cachedNow","getNow","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","initialValue","patchStopImmediatePropagation","originalStop","_stopped","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","TRANSITION","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","classList","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","propCount","getTransitionInfo","endEvent","ended","onEnd","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","toMs","getModelAssigner","vModelRadio","_assign","vModelSelect","isSetModel","selectedVal","setSelected","_binding","isMultiple","optionValue","rendererOptions","ensureRenderer","mount","containerOrSelector","normalizeContainer","SVGElement","Element","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","close","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","F","NullProtoObject","domain","ActiveXObject","$find","addToUnscopables","FIND","SKIPS_HOLES","createIteratorConstructor","setPrototypeOf","setToStringTag","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","propertyKey","functionToString","abs","sin","sqrt","atan2","bezier","curveThroughPoints","points","Path","Curve","throughPoints","getCurveControlPoints","knots","firstControlPoints","secondControlPoints","Point","x","y","rhs","getFirstControlPoints","getCurveDivider","p0","p1","p2","p3","curve","divided","controlPoint1","controlPoint2","getInversionSolver","closestPointT","p4","controlPoints","curves","bbox","t1","t2","b2ac","sqrtb2ac","x0","y0","x1","y1","x2","y2","x3","y3","tvalues","bounds","jlen","X","Y","bottom","Rect","closestPoint","pointAtT","closestPointLength","PRECISION","subdivisions","getSubdivisions","localOpt","lengthAtT","closestPointNormalizedLength","cpLength","investigatedSubdivision","investigatedSubdivisionStartT","investigatedSubdivisionEndT","distFromStart","distFromEnd","chordLength","minSumDist","subdivisionSize","currentSubdivision","startDist","distance","endDist","sumDist","precisionRatio","startPrecisionRatio","endPrecisionRatio","hasRequiredPrecision","hasMinimalStartDistance","hasMinimalEndDistance","hasMinimalDistance","startDist1","endDist1","sumDist1","startDist2","endDist2","sumDist2","closestPointTangent","tangentAtT","containsPoint","polyline","toPolyline","divideAt","ratio","divideAtT","tAt","divideAtLength","tAtLength","dividerPoints","getSkeletonPoints","startControl1","startControlPoint1","startControl2","startControlPoint2","divider","dividerControl1","dividerControlPoint1","dividerControl2","dividerControlPoint2","endpointDistance","equals","control1","control2","midpoint1","Line","pointAt","midpoint2","midpoint3","subControl1","subControl2","output","previousLength","iteration","newSubdivisions","numSubdivisions","numNewSubdivisions","currentNewSubdivision","observedPrecisionRatio","isDifferentiable","subCurve","subCurveLength","pointAtLength","sx","sy","tangentAt","tangentAtLength","skeletonPoints","tangentStart","tangentLine","translate","curveLength","fromStart","baselinePointDistFromStart","baselinePointDistFromEnd","newBaselinePointDistFromStart","newBaselinePointDistFromEnd","baseline1Length","baseline2Length","toPoints","Polyline","tx","ty","Ellipse","fromRect","center","normalizedDistance","ellipse","inflate","dx","dy","intersectionWithLine","line","intersections","a1","a2","rx","ry","vector","mDir","mDiff","dot","ta","tb","lerp","intersectionWithLineFromCenterToPoint","angle","rotate","pointNearestToPoint","mSquared","aSquared","bSquared","tangentTheta","refPointDelta","q1","q3","theta","horizontalPoint","angleBetween","bearing","lat1","toRad","lat2","lon1","lon2","dLon","brng","toDeg","bearings","product","cpNormalizedLength","squaredLength","cross","dividerPoint","intersect","shape","pt1Dir","pt2Dir","det","deltaPt","alpha","beta","midpoint","parallel","eRef","sRef","lineLength","pointOffset","determinant","setLength","currentLength","scaleFactor","acc","isSegment","segment","appendSegment","previousObj","createSegment","pathData","commandRe","commands","numCommands","command","argRe","segmentConstructor","segmentTypes","applyToNew","currentSegment","numSegments","previousSegment","nextSegment","currentArg","prepareSegment","isVisible","segmentBBox","lastSegment","segmentSubdivisions","getSegmentSubdivisions","minSquaredDistance","segmentClosestPointT","segmentClosestPoint","squaredDistance","segmentIndex","polylines","toPolylines","numPolylines","numIntersections","pathLength","dividedSegmentIndex","lastValidSegment","lastValidSegmentIndex","getSegment","pathCopy","replaceSegment","divisionStartIndex","divisionMidIndex","divisionEndIndex","removeSegment","movetoEnd","insertSegment","secondPathSegmentIndexConversion","originalSegment","subpathStartSegment","convertedSegment","firstPath","secondPath","otherSegments","otherSegment","getSubpaths","validatedPath","validate","subpaths","isSubpathStart","polylineIntersection","isValid","tValue","precisison","lastVisibleSegment","updateSubpathStart","updateSubpathStartSegment","removedSegment","replacedSegment","segmentAt","segmentIndexAt","segmentAtLength","segmentIndexAtLength","lastVisibleSegmentIndex","partialPoints","currentSegmentSubdivisions","subdivisionPoints","xy","fromPolar","deg","normalizeAngle","chooseClosest","minSqrDistance","sqrDistance","adhereToRect","NaN","changeInAngle","magnitude","manhattanDistance","normalize","reflection","cosAngle","sinAngle","snapToGrid","gx","gy","rad","toPolar","vectorAngle","zero","svgString","coords","numPoints","newPoints","cp","startIndex","endIndex","xDifference","rayEnd","ray","convexHull","startPoint","sortedPointRecords","record1","record2","sortOutput","startPointRecord","currentPointRecord","currentPoint","lastHullPointRecord","lastHullPoint","secondLastHullPointRecord","secondLastHullPoint","lowestHullIndex","insidePoints","hullPointRecords","correctTurnFound","crossProduct","THRESHOLD","indexOfLowestHullIndexRecord","currentHullIndex","hullPointRecordsReordered","newFirstChunk","newSecondChunk","hullPoints","otherPoints","otherPoint","int","polylineLength","lastPoint","simplify","threshold","currentIndex","firstIndex","middleIndex","firstPoint","middlePoint","chord","closestPointDistance","lastValidLine","fromEllipse","st","bottomLeft","bottomLine","bottomRight","bottomMiddle","containsRect","r0","r1","w0","h0","w1","h1","corner","mr","nr","myOrigin","myCorner","rOrigin","rCorner","pt","rectLines","topLine","rightLine","leftLine","dedupeArr","sides","connector","topLeft","leftMiddle","maxRectScaleToFit","sx1","sx2","sx3","sx4","sy1","sy2","sy3","sy4","ox","oy","topRight","maxRectUniformScaleToFit","moveAndExpand","newx","newy","newwidth","newheight","side","sideNearestToPoint","rightMiddle","distToLeft","distToRight","distToTop","distToBottom","topMiddle","rw","rh","ux","uy","domainSpan","rangeSpan","gridSize","over360","argsArray","inheritedProperty","segmentPrototype","Lineto","outputArray","segmentPoint","segmentCoords","linetoPrototype","Curveto","segmentPoints","curvetoPrototype","Moveto","movetoPrototype","Closepath","closepathPrototype","L","M","Z","z","regexSupportedData","isDataSupported","hasSvg","SVGAngle","hasFeature","ns","svg","xmlns","xlink","xhtml","SVGVersion","math","V","isV","createSvgDocument","svgDoc","arrayOfVels","childNode","importNode","ensureId","setAttributes","VPrototype","createTextPathNode","vel","textPathElement","linkedPath","defs","annotateTextLine","lineNode","lineAnnotations","includeAnnotationIndices","eol","lineHeight","baseSize","maxFontSize","fontMetrics","lastJ","annotation","fontSize","annotationAttrs","vTSpan","tspanNode","annotationClass","annotations","getTransformToElement","isSVGGraphicsElement","targetCTM","toNode","getScreenCTM","nodeCTM","inverse","createSVGMatrix","matrix","transformStringToMatrix","absolute","matrixToTransformString","svgTransform","createSVGTransform","baseVal","appendItem","transformAttr","parseTransformString","newTx","newTy","newTranslate","cx","cy","newAngle","newOrigin","newRotate","newScale","withoutTransformations","ownerSVGElement","getBBox","clientLeft","clientTop","clientWidth","clientHeight","transformRect","outputBBox","recursive","childBBox","currentChild","emRegex","convertEmToPx","em","numerical","calculateDY","alignment","linesMetrics","baseSizePx","lineMetrics","flMaxFont","rLineHeights","lineHeightPx","iLineHeight","llMaxFont","sanitizeText","displayEmpty","textPath","verticalAnchor","textVerticalAnchor","namedVerticalAnchor","iai","defaultLineHeight","autoLineHeight","containerNode","annotatedY","lines","lastI","lineClassName","annotateString","lineNodeStyle","fillOpacity","strokeOpacity","qualifiedName","qualifyAttr","hasAttributeNS","local","hasAttribute","attrName","normalizePath","normalizePathData","SVGSVGElement","defsNode","findOne","found","vels","previousSibling","findParentByClass","terminator","toLocalPoint","createSVGPoint","globalPoint","matrixTransform","globalToLocalMatrix","translateCenterToPoint","translateAndAutoOrient","translateToOrigin","setTranslate","rotateAroundOrigin","setRotate","translateFromOrigin","finalPosition","ctm","setMatrix","animateAlongPath","animateMotion","mpath","beginElement","animators","animationID","id2anim","getTargets","animator","Animator","register","prevClasses","newClasses","toAdd","toRemove","getTotalLength","samples","getPointAtLength","convertToPath","convertToPathData","convertLineToPathData","convertPolygonToPathData","convertPolylineToPathData","convertEllipseToPathData","convertCircleToPathData","convertRectToPathData","toGeometryShape","getPointsFromSvgNode","findIntersection","spot","gRect","rectMatrix","rectMatrixComponents","decomposeMatrix","resetRotation","rotation","gp","centerDistance","refDistance","pathNode","minDistance","closestSamples","XMLString","createSVGStyle","stylesheet","createCDATASection","createDocument","parser","combinedKey","transformRegex","transformSeparatorRegex","transformationListRegex","transformationMatrix","transformationString","transformationMatch","scaleNonUniform","skewX","skewY","decomposedMatrix","translateX","translateY","scaleX","scaleY","transformations","translateMatch","rotateMatch","scaleMatch","deltaTransformPoint","px","py","matrixToScale","matrixToRotate","matrixToTranslate","isVElement","svgDocument","svgMatrix","SVGMatrix","createSVGTransformFromMatrix","corner1","corner2","corner3","corner4","minX","maxX","minY","maxY","transformPoint","transformLine","transformPolyline","inPoints","outPoints","styleToObject","styleString","createSlicePathData","innerRadius","outerRadius","startAngle","endAngle","svgArcMax","a0","df","c0","s0","mergeAttrs","batch","item","compacted","stringify","findAnnotationsAtIndex","findAnnotationsBetweenIndexes","shiftAnnotations","polygon","svgPointsToPath","nodePoints","numberOfItems","getItem","KAPPA","circle","cd","cdx","cdy","rectToPath","topRx","bottomRx","topRy","bottomRy","spaces","pathCommand","pathValues","tan","asin","q2c","ax","ay","_13","_23","a2c","large_arc_flag","sweep_flag","_120","f1","f2","rx2","ry2","toFixed","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","ii","parsePathString","pathString","paramCounts","q","pathToAbsolute","pathArray","pa0","mx","my","jj","pa","kk","bx","by","qx","qy","processPath","pcom","nx","ny","Q","fixArc","pp","pi","pcoms","pfirst","seg","seglen","useCSSSelectors","classNamePrefix","defaultTheme","addClassNamePrefix","_className","substr","removeClassNamePrefix","parseDOMJSON","groupSelectors","svgNamespace","siblingsDef","nodeDef","nodeSelector","nodeGroups","groupSelector","nodeGroup","childrenDef","hashCode","str","getByPath","delimiter","isGetSafe","setByPath","diver","unsetByPath","uuid","toKebabCase","normalizeEvent","normalizedEvent","touchEvt","useElement","correspondingUseElement","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","lastTime","currTime","getTime","timeToCall","cancelFrame","caf","client","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","msCancelRequestAnimationFrame","oCancelAnimationFrame","oCancelRequestAnimationFrame","mozCancelAnimationFrame","mozCancelRequestAnimationFrame","isPercentage","parseCssNumeric","restrictUnits","getUnit","validUnitExp","breakText","textSpan","textElement","textNode","hyphen","maxLineCount","full","isEol","eolWords","jl","getComputedTextLength","hyphenIndex","lastL","heightValue","ellipsis","lastLine","lastLineWithOmission","lastChar","separatorChar","sanitizeHTML","currentNode","currentAttribute","attrValue","sortElements","$elements","placements","sortElement","normalizeSides","vertical","horizontal","timing","quad","cubic","inout","t3","exponential","bounce","reflect","back","elastic","hexColor","ca","ra","rd","ga","gd","ba","bd","ma","mb","outline","tpl","color","highlight","stdDeviation","dropShadow","grayscale","amount","sepia","saturate","hueRotate","amount2","brightness","contrast","regex","_attr","attrArray","customResult","cloneCells","cells","cloneMap","cell","isLink","embeds","newEmbeds","embed","setWrapper","refBBox","isValuePercentage","positionWrapper","axis","valuePercentage","refOrigin","offsetWrapper","nodeBBox","shapeWrapper","shapeConstructor","cacheName","resetOffset","$node","cachedShape","shapeBBox","shapeOrigin","fitScale","dWrapper","pathConstructor","pointsWrapper","atConnectionWrapper","zeroVector","tangent","isTextInUse","_node","isLinkView","model","contextMarker","marker","stroke","attributesNS","xlinkHref","xlinkShow","xlinkRole","xlinkType","xlinkArcrole","xlinkTitle","xlinkActuate","xmlSpace","xmlBase","xmlLang","preserveAspectRatio","requiredExtension","requiredFeatures","systemLanguage","externalResourcesRequired","qualify","paper","defineFilter","defineGradient","sourceMarker","defineMarker","targetMarker","vertexMarker","_text","textWrap","_refBBox","textAttrs","textHash","pathSelector","findBySelector","SVGPathElement","wrappedText","fontFamily","titleNode","refX","refY","refDx","refDy","refWidth","refHeight","refRx","refRy","refRInscribed","widthFn","heightFn","refRCircumscribed","rValue","diagonalLength","refCx","refCy","xAlignment","yAlignment","refDResetOffset","refDKeepOffset","refPointsResetOffset","refPointsKeepOffset","connection","stubs","getConnectionLength","getConnection","sourceParts","targetParts","getSerializedConnection","atConnectionLengthKeepGradient","atConnectionLengthIgnoreGradient","atConnectionRatioKeepGradient","atConnectionRatioIgnoreGradient","refR","refD","refPoints","atConnectionLength","atConnectionRatio","refX2","refY2","refWidth2","refHeight2","Model","cid","changed","initialize","defaultAttrs","finalAttrs","defaultAttr","value2","name2","generateId","silent","_transitionIds","processPorts","previousPorts","ports","removedPorts","graph","inboundLinks","getConnectedLinks","inbound","link","outboundLinks","outbound","startBatch","parentCell","getParentCell","unembed","embeddedCells","getEmbeddedCells","stopBatch","toFront","maxZIndex","breadthFirst","shouldUpdate","toBack","minZIndex","isEmbeddedIn","parentId","getCell","getAncestors","ancestors","cellId","isEmbedded","delim","_isString","pathArrayLength","propertyPath","propertyValue","propertyPathArray","prevProperty","pathItem","isArrayIndex","baseAttributes","rewrite","dirty","nestedPath","timingFunction","valueFunction","interpolatingFunction","firstFrameTime","runtime","transitionId","initiator","stopTransitions","getTransitions","addTo","addCell","findView","findViewByModel","getChangeFlag","hasChanged","getPointFromConnectedLink","getAttributeDefinition","defNS","globalDefNS","define","protoProps","staticProps","Cell","joint","shapes","wrapWith","wrappers","portTransformAttrs","trans","lineLayout","ellipseLayout","elBBox","stepFn","compensateRotation","dr","argPoint","ellipseSpread","stepAngle","labelAttributes","opt1","opt2","outsideLayout","portPosition","autoOrient","textAnchor","getBBoxAngles","orientAngle","tl","bl","br","insideLayout","bBoxAngles","radialLayout","portCenterOffset","manual","outsideOriented","outside","insideOriented","inside","radial","radialOriented","Link","markup","toolMarkup","doubleToolMarkup","vertexMarkup","arrowheadMarkup","defaultLabel","labelMarkup","_builtins","pointerEvents","disconnect","setSource","setOpt","isCellProvided","isPointProvided","setTarget","router","isRouterProvided","localRouter","isConnectorProvided","localConnector","label","labels","insertLabel","appendLabel","removeLabel","vertex","vertices","setVertex","_normalizeVertex","setVertices","insertVertex","removeVertex","translateBy","applyToPoints","getSourcePoint","sourceCell","getSourceCell","getTargetPoint","targetCell","getTargetCell","getPolyline","reparent","newParent","getSourceElement","getTargetElement","prevParent","getCommonAncestor","hasLoop","sourceId","targetId","loop","sourceElement","targetElement","visited","getRelationshipAncestor","connectionAncestor","isRelationshipEmbeddedIn","ancestor","_getDefaultLabel","endsEqual","portsEqual","PortData","clonedData","portLayoutNamespace","portLabelLayoutNamespace","_init","getPorts","getGroup","getPortsByGroup","groupName","getGroupPortsMetrics","groupPosition","groupPositionName","groupArgs","portsArgs","groupPortTransformations","portTransformation","portId","labelTransformation","_getPortLabelLayout","portAttrs","portSize","labelSize","labelPosition","_evaluateGroup","items","_evaluatePort","_getPosition","_getLabel","evaluated","_createPositionNode","_getZIndex","setDefault","positionName","setDefaults","elementPortPrototype","_initializePorts","_createPortData","_processRemovedPort","currentItemsMap","removed","hasPorts","hasPort","getPortIndex","getGroupPorts","groupPorts","getPort","getPortsPositions","portsMetrics","_portSettingsData","positions","metrics","transformation","_isValidPortId","addPort","insertPort","portProp","_validatePorts","portsAttr","errorMessages","generatePortId","addPorts","removePort","removePorts","portsForRemoval","newPorts","currentPorts","rp","rpId","prevPortData","curPortData","added","prevPort","curPort","elementViewPortPrototype","portContainerMarkup","portMarkup","portLabelMarkup","_portElementsCache","_cleanPortsCache","_refreshPorts","_removePorts","_renderPorts","elementReferences","_getContainerElement","portsGropsByZ","withoutZKey","portElement","_getPortElement","groupNames","_appendPorts","_updatePorts","rotatableNode","containerElement","portElements","_createPortElement","findPortNode","portCache","portRoot","portContentElement","portSelectors","portContentSelectors","_updatePortGroup","groupsNames","labelElement","portContainerElement","_getPortMarkup","portDoc","portFragment","labelSelectors","portContainerSelectors","_getPortLabelMarkup","labelDoc","labelFragment","portLabelElement","portLabelSelectors","elementBBox","applyPortTransform","updateDOMSubtreeAttributes","rootBBox","element","transformData","initialAngle","isSetter","parentRelative","parentPosition","currentPosition","elementPosition","restrictedArea","newPosition","translatedPosition","currentSize","resize","direction","quadrant","fixedPoint","imageFixedPoint","radius","atan","scaledBBox","fitEmbeds","getCellsBBox","endType","endDef","portGroup","portsPositions","portCenter","GraphCells","models","cellNamespace","ModelClass","dry","Graph","cellModel","_sortOnChangeZ","_out","_in","_nodes","_edges","_batches","_restructureOnAdd","_restructureOnRemove","_restructureOnReset","_restructureOnChangeSource","_restructureOnChangeTarget","_removeCell","prevSource","prevTarget","getOutboundEdges","getInboundEdges","fromJSON","resetCells","_prepareCell","firstCell","lastCell","addCells","maxPosition","preparedCells","removeCells","disconnectLinks","removeLinks","getCells","getElements","getLinks","getFirstCell","getLastCell","indirect","links","edges","addOutbounds","edge","addInbounds","outCell","inCell","embeddedElements","exists","edgeCell","includeEnclosed","getNeighbors","neighbors","cellsAncestors","commonAncestor","cellAncestors","getSuccessors","cloneSubgraph","subgraph","getSubgraph","cellMap","getPredecessors","bfs","dfs","neighbor","getSources","getSinks","sinks","isSource","isSink","isSuccessor","elementA","elementB","isPredecessor","isNeighbor","findModelsFromPoint","findModelsInArea","strict","findModelsUnderElement","searchBy","memo","resizeCells","batchName","hasActiveBatch","batches","names","validations","multiLinks","sourceModel","connectedLinks","sameLinks","_link","_source","_target","linkPinning","_graph","View","theme","themeClassNamePrefix","requireSetThemeOverride","DETACHABLE","UPDATE_PRIORITY","FLAG_INSERT","FLAG_REMOVE","setTheme","svgElement","renderChildren","findAttribute","attributeName","attributeValue","_ensureElement","setElement","_createElement","_setAttributes","_setStyle","_ensureElClassName","_setElement","prefixedClassName","onRender","confirmUpdate","override","removeThemeClassName","addThemeClassName","onSetTheme","oldTheme","newTheme","onRemove","undelegateDocumentEvents","getEventNamespace","delegateElementEvents","eventNS","eventName","undelegateElementEvents","delegateDocumentEvents","eventData","currentData","propagationStopped","renderFn","__render__","HighlighterView","HIGHLIGHT_FLAG","UPDATABLE","MOUNTABLE","cellView","updateRequested","transformGroup","requestViewUpdate","findLabelNode","cellViewRoot","layer","layerName","getLayerNode","translateMatrix","getRootTranslateMatrix","rotateMatrix","getRootRotateMatrix","transformMatrix","prevNode","findNode","unhighlight","_removeRef","_cellView","_views","views","hid","previousView","_addRef","requestUpdate","HighlightingTypes","EMBEDDING","CONNECTING","MAGNET_AVAILABILITY","ELEMENT_AVAILABILITY","CellView","_presentationAttributes","_flags","setFlags","flags","presentationAttributes","attribute","initFlag","hasFlag","getFlag","removeFlag","cleanNodesCache","startListening","listenTo","onAttributesChange","updateHandled","tool","rootSelector","can","feature","interactive","useModelGeometry","getNodeBBox","localToPaperRect","magnet","getNodeBoundingRect","magnetMatrix","getNodeMatrix","getNodeUnrotatedBBox","_notifyHighlight","rootNode","embedding","connecting","magnetAvailability","elementAvailability","findMagnet","magnetAttribute","isMagnetRoot","findProxyNode","proxyNode","getSelector","prevSelector","nthChild","getLinkEnd","customizeLinkEnd","connectionStrategy","strategy","getMagnetFromLinkEnd","setNodeAttributes","processNodeAttributes","attrVal","def","normalAttrs","setAttrs","positionAttrs","offsetAttrs","relatives","normal","updateRelativeAttributes","rawAttrs","nodeAttrs","setResult","translation","nodeTransform","nodeMatrix","nodePosition","nodeScale","getNodeScale","scalableNode","positioned","offseted","nodeBoundingRect","nodeCache","getNodeData","boundingRect","getNodeShape","geometryShape","isNodeConnection","findNodesAttributes","selectorCache","nodeId","nodesAttrs","mergeIds","prevNodeAttrs","selectedLength","sortIndex","getEventTarget","fromPoint","elementFromPoint","nodeData","processedAttrs","rotatableMatrix","bboxCache","relativeItems","relativeRefItems","roAttrs","roAttributes","nodesAllAttrs","refNode","nodeAllAttrs","refSelector","processedAttributes","allAttributes","itemIndex","vRotatable","refNodeId","isRefNodeRotatable","unrotatedRefBBox","transformationTarget","mergeProcessedAttributes","roProcessedAttrs","removeTools","removeHighlighters","_toolsView","hasTools","toolsView","getName","addTools","configure","relatedView","onToolEvent","updateTools","hideTools","showTools","updateHighlighters","transformHighlighters","pointerdblclick","pointerclick","contextmenu","pointerdown","pointermove","pointerup","mouseover","mouseout","mousewheel","onevent","onmagnet","magnetpointerdblclick","magnetcontextmenu","isAsync","dumpView","setInteractivity","Highlighting","addPresentationAttributes","ElementView","renderingOnlyAttrs","modelAttrs","rotatableSelector","scalableSelector","renderMarkup","renderJSONMarkup","renderStringMarkup","updateTransformation","sgResize","rgTranslate","rgRotate","getTranslateString","rotateString","getRotateString","scalable","scalableBBox","rotatable","rotatableBBox","prepareEmbedding","ui","maxZ","processEmbedding","paperOptions","candidates","findParentBy","frontParentOnly","newCandidateView","prevCandidateView","candidateEmbedView","candidate","validateEmbedding","clearEmbedding","candidateView","finalizeEmbedding","getDelegatedView","proxyPortNode","notifyPointerdown","dragStart","dragMagnet","delegatedView","drag","notifyPointermove","dragMagnetEnd","dragEnd","notifyPointerup","targetMagnet","magnetpointerclick","checkMouseleave","dragMagnetStart","pointerOffset","getRestrictedArea","validateMagnet","magnetThreshold","dragLinkStart","delegateDragEvents","linkView","addLinkFromMagnet","startArrowheadMove","whenNotAllowed","getDefaultLink","grid","elX","elY","embeddingMode","mousemoved","clickThreshold","oneSide","coordinate","sourceBBox","targetBBox","sourcePoint","targetPoint","opposites","N","E","W","freeJoin","getBBoxSize","getBearing","getPointBox","getPaddingBox","elementPadding","getSourceBBox","getTargetBBox","getSourceAnchor","sourceAnchor","getTargetAnchor","vertexVertex","d1","d2","opposite","elementVertex","fromBBox","vertexElement","toBBox","route","freePoints","freeBearingPoints","elementElement","fromBorder","toBorder","startRoute","endRoute","insideElement","boundary","reversed","orthogonal","orthogonalVertices","isOrthogonal","isOrthogonalLoop","maximumLoops","maxAllowedDirectionChange","perpendicular","excludeEnds","excludeTypes","startDirections","endDirections","directionMap","cost","directions","penalties","45","90","paddingBox","fallbackRouter","fallbackRoute","draggingRoute","ObstacleMap","mapGridSize","SortedSet","OPEN","CLOSE","getDirectionAngle","numDirections","angleTheta","fixAngleEnd","normalizedAngle","diffX","diffY","gridStepsX","gridStepsY","distanceX","distanceY","getDirectionChange","angle1","angle2","directionChange","getGridOffsets","gridOffsetX","gridOffsetY","getGrid","getGridDimension","absDiff","numSteps","roundedDiff","stepCorrection","snappedX","snappedY","align","getKey","normalizePoint","reconstructRoute","tailPoint","prevDiff","currentKey","leadPoint","fromDiff","estimateCost","endPoints","getRectPoints","directionList","anchorCenterVector","dirList","rectPoints","farthestIntersectionDistance","endpoint","intersectionLine","farthestIntersection","currentIntersection","findRoute","startPoints","isPointAccessible","openSet","costs","previousRouteDirectionAngle","previousDirectionAngle","isPathBeginning","endPointsKeys","endPoint","loopsRemaining","currentParent","currentCost","isRouteBeginning","isStart","samePoints","skipEndCheck","directionAngle","neighborPoint","neighborKey","isClose","isNeighborEnd","endDirectionAngle","endDirectionChange","neighborCost","neighborPenalty","costFromStart","isOpen","resolveOptions","point1","point2","build","oldVertices","newVertices","partialRoute","isEndingAtPoint","dragFrom","dragTo","excludedEnds","excludedAncestors","isExcludedType","isExcludedEnd","excluded","isExcludedAncestor","isExcluded","gridKey","mapKey","obstacle","manhattan","diagonalCost","l1","intersectionPoint","directionFrom","metro","JUMP_SIZE","JUMP_TYPES","RADIUS","CLOSE_PROXIMITY_PADDING","IGNORED_CONNECTORS","createLines","resultLines","nextPoint","setupUpdating","jumpOverLinkView","updateList","_jumpOverUpdateList","updateJumpOver","listenToOnce","requestConnectionUpdate","findLineIntersections","crossCheckLines","crossCheckLine","sortPoints","createJumps","jumpSize","jumpStart","jumpEnd","endDistance","startDistance","jumpLine","isJump","buildPath","jumpType","xAxisRotate","halfLine","centerLine","xOffset","yOffset","nextLine","buildRoundedSegment","curr","prevDistance","nextDistance","startMove","endMove","roundedStart","roundedEnd","jumpover","jump","ignoreConnectors","allLinks","thisModel","thisIndex","defaultConnector","linkViews","thisLines","linkLines","jumpingLines","thisLine","lineIntersections","rounded","smooth","controlPointX","controlPointY","LinkView","shortLinkLength","doubleLinkTools","longLinkLength","linkToolsOffset","doubleLinkToolsOffset","sampleInterval","_labelCache","_labelSelectors","_markerCache","_V","_dragData","decimalsRounding","updateEndProperties","sourceView","targetView","isViewMounted","renderVertexMarkers","updateLabels","updateLegacyTools","onLabelsChange","renderTools","updateLabelPositions","updateToolsPosition","isLabelsRenderRequired","previousLabels","labelExists","_labels","renderLabels","renderArrowheadMarkers","_getLabelMarkup","_getLabelStringMarkup","_normalizeLabelMarkup","vNode","DocumentFragment","hasChildNodes","vLabels","labelCache","labelsCount","labelNode","builtinDefaultLabel","builtinDefaultLabelMarkup","defaultLabelMarkup","defaultMarkup","labelIndex","labelRoot","_mergeLabelAttrs","hasCustomMarkup","labelAttrs","defaultLabelAttrs","builtinDefaultLabelAttrs","canLabelMove","linkTools","tool2","$tools","toolTemplate","_toolCache","_tool2Cache","markerVertices","$markerVertices","markupTemplate","markerArrowheads","$markerArrowheads","sourceArrowhead","targetArrowhead","updateConnection","updateDefaultConnectionPath","updateArrowheadMarkers","removeRedundantLinearVertices","SIMPLIFY_THRESHOLD","routePoints","numRoutePoints","polylinePoints","numPolylinePoints","connectionWrap","markerSource","markerTarget","_translateAndAutoOrientArrows","getEndView","getEndAnchor","getEndConnectionPoint","getEndMagnet","sourceMagnet","_translateConnectionPoints","anchors","findAnchors","connectionPoints","findConnectionPoints","markerPoints","findMarkerPoints","findPath","sourceMarkerPoint","targetMarkerPoint","firstWaypoint","lastWaypoint","findAnchorsOrdered","firstEndType","firstRef","secondEndType","secondRef","firstAnchor","secondAnchor","firstAnchorRef","secondAnchorRef","firstDef","secondDef","firstView","secondView","firstMagnet","secondMagnet","getAnchor","firstVertex","lastVertex","priority","sourceDef","targetDef","sourceConnectionPointDef","connectionPoint","defaultConnectionPoint","sourcePointRef","sourceLine","getConnectionPoint","targetConnectionPointDef","targetPointRef","targetLine","anchorDef","anchorFn","isConnection","defaultLinkAnchor","perpendicularLinks","defaultAnchor","anchorName","anchorNamespace","connectionPointDef","connectionPointFn","linkConnectionPoint","linkConnectionMagnet","connectionPointName","connectionPointNamespace","_normalizeLabelPosition","builtinDefaultLabelPosition","defaultLabelPosition","defaultPosition","_getLabelTransformationMatrix","_cleanLabelMatrices","connectionLength","toolPosition","endViewProperty","updateEndMagnet","endModel","getModelById","endView","endMagnetProperty","connectedMagnet","sourceArrow","targetArrow","_getLabelPositionAngle","_getLabelPositionArgs","_getDefaultLabelPositionArgs","_mergeLabelPositionArgs","labelPositionArgs","defaultLabelPositionArgs","addLabel","localX","localY","localAngle","positionArgs","getLabelPosition","addVertex","getVertexIndex","sendToken","onAnimationEnd","vToken","isReversed","animationAttributes","dur","repeatCount","calcMode","keyPoints","keyTimes","defaultRouter","routerFn","connectorFn","getConnectionSubdivisions","getPointAtRatio","getTangentAtLength","getTangentAtRatio","getClosestPoint","getClosestPointLength","getClosestPointRatio","labelOffset","isDistanceRelative","absoluteDistance","isDistanceAbsoluteReverse","reverseDistance","isOffsetAbsolute","absoluteOffset","pathOpt","labelPoint","labelDistance","labelOffsetDiff","labelAngle","labelOffsetCoordinates","positionOffset","isKeepGradient","keepGradient","isEnsureLegibility","ensureLegibility","getLabelCoordinates","vertexLength","currentVertex","currentVertexLength","dragVertexStart","dragVertexRemoveStart","dragArrowheadStart","dragConnectionStart","dragData","dragVertex","dragLabel","dragArrowhead","dragVertexEnd","dragLabelEnd","dragArrowheadEnd","linkTool","onlabel","dragLabelStart","vertexIdx","_x","_y","labelIdx","positionAngle","vertexNode","removeNode","arrowheadNode","arrowheadType","ignoreBackwardsCompatibility","snapLabels","snapLinks","_snapArrowhead","_connectArrowhead","_snapArrowheadEnd","_connectArrowheadEnd","linkAllowed","_finishEmbedding","_notifyConnectEvent","_disallow","_afterArrowheadMove","arrowhead","initialEnd","currentEnd","endChanged","initialMagnet","magnetUnderPointer","viewsInArea","findViewsInArea","prevClosestView","closestView","prevClosestMagnet","closestMagnet","prevMagnetProxy","magnetProxy","MAX_VALUE","pointer","isAlreadyValidated","validateConnection","validateConnectionArgs","newClosestMagnet","snapping","eventTarget","viewUnderPointer","_beforeArrowheadMove","markAvailable","_markAvailableMagnets","_unmarkAvailableMagnets","_createValidateConnectionArgs","oppositeArrowhead","isMagnetAvailable","marked","magnets","availableMagnets","markedMagnets","markedKeys","useFirstSubpath","secondSubpathIndex","highlightMatrix","paddingMatrix","getPathData","highlightConnection","highlightNode","MASK_CLIP","forEachDescendant","descendants","descendant","mask","maskClip","VISIBLE","INVISIBLE","MASK_ROOT_ATTRIBUTE_BLACKLIST","MASK_CHILD_ATTRIBUTE_BLACKLIST","MASK_REPLACE_TAGS","MASK_REMOVE_TAGS","childEl","childTagName","originalChild","originalNode","replacement","rootEl","maskRoot","maskChild","transformMaskChild","transformMaskRoot","strokeWidth","hasNodeFill","magnetStrokeWidth","minStrokeWidth","maxStrokeWidth","maskEl","getMaskShape","getMaskId","maskNode","highlighterBBox","getMask","addMask","removeMask","opacityClassName","connectionRatio","_magnet","_refPoint","_connectionPerpendicular","refPoint","OFFSET","verticalLine","horizontalLine","verticalIntersections","horizontalIntersections","getPointAtLink","fallbackAt","connectionClosest","_connectionClosest","_opt","resolveRef","refView","fixedAt","parsedValue","connectionPerpendicular","offsetPoint","alignLine","anchorConnectionPoint","_view","alignOffset","bboxIntersection","rectangleIntersection","bboxWORotation","lineWORotation","findShapeNode","nextElementSibling","BNDR_SUBDIVISIONS","BNDR_SHAPE_BBOX","boundaryIntersection","localShape","targetMatrix","localMatrix","localLine","localRef","insideout","localBBox","extrapolate","sticky","cpOffset","rectangle","bboxWrapper","dxPercentage","dyPercentage","_perpendicular","_midSide","_modelCenter","midSide","modelCenter","sortingTypes","NONE","APPROX","EXACT","LayersNames","CELLS","BACK","FRONT","TOOLS","MOUNT_BATCH_SIZE","UPDATE_BATCH_SIZE","MIN_PRIORITY","defaultHighlighting","Paper","drawGrid","background","elementView","highlighting","preventContextMenu","preventDefaultBlankAction","restrictTranslate","defaultLink","_evt","cellViewS","_magnetS","cellViewT","_magnetT","_linkView","childView","parentView","labelMove","allowLink","moveThreshold","sorting","frozen","onViewUpdate","mounting","requestConnectedLinksUpdate","onViewPostponed","forcePostponedViewUpdate","beforeRender","afterRender","viewport","cellViewNamespace","highlighterNamespace","linkAnchorNamespace","documentEvents","tools","$background","layers","$grid","$document","_zPivots","_viewportMatrix","_viewportTransformString","_updates","_layers","SORT_DELAYING_BATCHES","UPDATE_DELAYING_BATCHES","MIN_SCALE","setGrid","cloneOptions","setDimensions","resetViews","isFrozen","updateViewsAsync","_resetUpdates","priorities","unmountedCids","mountedCids","keyFrozen","freezeKey","onCellAdded","onCellRemoved","onCellChange","onGraphReset","onGraphSort","onGraphBatchStop","onCellHighlight","onCellUnhighlight","renderView","freeze","unfreeze","removeZPivots","sortViews","updateDelayingBatches","updateViews","sortDelayingBatches","front","drawBackground","_background","updateBackgroundImage","transformString","getCTM","ctmString","clientMatrix","flagLabels","nextPriority","scheduleViewUpdate","sourceFlag","targetFlag","stats","notifyAfterRender","updates","priorityUpdates","prevPriorityUpdates","currentType","viewUpdateFn","dumpViewUpdate","registerMountedView","updateView","removeView","insertView","requireView","registerUnmountedView","dumpViews","passingOpt","checkViewport","batchStats","notifyBeforeRender","updateCount","batchCount","updateViewsBatch","hasScheduledUpdates","priorityIndexes","processed","mountBatchSize","unmountBatchSize","checkStats","unmountCount","mountCount","total","progressFn","beforeFn","afterFn","batchSize","postponeCount","maxPriority","viewportFn","postponeViewFn","main","currentFlag","isDetached","leftoverFlag","postponed","getUnmountedViews","unmountedViews","getMountedViews","mountedViews","checkUnmountedViews","checkMountedViews","unmountedCount","mountedCount","isExactSorting","removeViews","getComputedSize","computedSize","setOrigin","fitToContent","gridWidth","gridHeight","area","contentArea","getContentArea","currentScale","currentTranslate","calcWidth","calcHeight","allowNewOrigin","minHeight","maxHeight","dimensionChange","originChange","scaleContentToFit","contentBBox","contentLocalOrigin","getContentBBox","paperToLocalPoint","scaleGrid","minScale","maxScale","fittingBBox","minScaleX","maxScaleX","minScaleY","maxScaleY","newSx","newSy","newOx","newOy","getArea","paperToLocalRect","createViewForModel","optionalViewClass","defaultViewClass","namespaceViewClass","ViewClass","onImageDragStart","sortViewsExact","$cells","cellA","cellB","zA","zB","pivot","addZPivot","pivots","neighborZ","currentZ","neighborPivot","findViewsFromPoint","dispatchToolsEvent","clientToLocalPoint","localToPaperPoint","localPoint","paperPoint","localRect","paperRect","localToClientPoint","clientPoint","localToClientRect","clientRect","clientToLocalRect","localToPagePoint","pageOffset","localToPageRect","pageToLocalPoint","pagePoint","pageToLocalRect","clientOffset","scrollX","scrollY","resolveHighlighter","highlighter","highlighterDef","magnetEl","highlighterDescriptor","normalizedEvt","delegateEvents","wheelDelta","eventNode","magnetEvent","magnetNode","magnetValue","undelegateEvents","guarded","setGridSize","clearGrid","_getGridRefs","_gridCache","patterns","exist","_gridSettings","optionsList","_resolveDrawGridOption","gridPatterns","localOptions","gridLayerSetting","patternUnits","patternDefVel","patternUri","XMLSerializer","serializeToString","btoa","backgroundPosition","backgroundSize","drawBackgroundImage","img","HTMLImageElement","backgroundImage","backgroundRepeat","backgroundOpacity","backgroundQuality","quality","backgroundPattern","backgroundPatterns","canvas","HTMLCanvasElement","toDataURL","updateBackgroundColor","isDefined","defId","filterId","filterSVGString","filterAttrs","filterUnits","gradient","gradientId","stops","stopTemplate","gradientStopsStrings","gradientSVGString","gradientAttrs","markerId","pathMarker","orient","markerUnits","Layers","flipXy","imgWidth","imgHeight","getContext","drawImage","setTransform","flipX","flipY","watermark","watermarkAngle","radians","stepX","stepY","thickness","fixedDot","mesh","doubleMesh","ToolView","_visible","simulateRelatedView","focusOpacity","focusTool","blurTool","ToolsView","isRendered","focusedTool","blurredTool","DirectedGraph","exportElement","exportLink","weight","labelpos","labeloffset","importElement","gl","glNode","setPosition","importLink","edgeObj","glEdge","setLinkVertices","setLabels","layout","graphOrCells","resizeClusters","clusterPadding","dagreUtil","dagre","glGraph","toGraphLib","graphlib","directed","multigraph","compound","setNodeLabel","setEdgeLabel","setEdgeName","glLabel","marginX","marginY","rankDir","rankdir","nodeSep","nodesep","edgeSep","edgesep","rankSep","ranksep","ranker","marginx","marginy","setGraph","debugTiming","fromGraphLib","importEdge","clusters","aCluster","bCluster","glSize","graphlibUtil","glGraphType","setEdge","setNode","isCompound","setParent","env","_results","_tests","svgforeignobject","addTest","Generic","TextView","Circle","Polygon","Image","Rhombus","svgForeignObjectSupported","TextBlock","updateSize","updateContent","setForeignObjectSize","setDivContent","TextBlockView","noTextAttrs","Rectangle","BorderedImage","EmbeddedImage","InscribedImage","HeaderedRectangle","header","headerText","bodyText","CYLINDER_TILT","Cylinder","lateralArea","isPercentageSetter","bodyAttrs","topAttrs","kappa","xLeft","xCenter","xRight","ySideTop","yCurveTop","ySideBottom","yCurveBottom","foLabelMarkup","backgroundColor","textAlign","boxSizing","alignItems","justifyContent","svgLabelMarkup","foreignObject","wrapValue","wrapAttrs","strokeLinejoin","DoubleLink","ShadowLink","shadow","inPorts","outPorts","updatePortItems","inPortItems","createPortItems","outPortItems","createPortItem","_addGroupPort","addOutPort","addInPort","_removeGroupPort","removeOutPort","removeInPort","_changeGroup","changeInGroup","changeOutGroup","Atomic","Coupled","Gate","operation","IO","Input","Output","Gate11","Gate21","Repeater","Not","Or","input1","input2","And","Nor","Nand","Xor","Xnor","Wire","KingWhite","KingBlack","QueenWhite","QueenBlack","RookWhite","RookBlack","BishopWhite","BishopBlack","KnightWhite","KnightBlack","PawnWhite","PawnBlack","Entity","WeakEntity","Relationship","IdentifyingRelationship","Attribute","Multivalued","Derived","Key","Normal","ISA","cardinality","State","StartState","EndState","Arrow","Member","Place","PlaceView","renderTokens","vTokens","Class","updateRectangles","getClassName","rects","rectHeight","ClassView","Abstract","AbstractView","Interface","InterfaceView","Generalization","Implementation","Aggregation","Composition","Association","updateName","updateEvents","updatePath","abs2rel","pin","pinnedLinkEnd","pinnedElementEnd","totalLength","pinRelative","snapAnchor","toolView","snapRadius","refIndex","getViewBBox","VertexHandle","mousedown","touchstart","dblclick","mousemove","touchmove","mouseup","touchend","touchcancel","onPointerDown","onPointerMove","onDoubleClick","onPointerUp","SegmentHandle","handleClass","redundancyRemoval","vertexAdding","handles","resetHandles","renderHandles","updateHandles","stopListening","startHandleListening","onHandleWillChange","onHandleChanging","onHandleChanged","onHandleRemove","getNeighborPoints","_handle","getPointerArgs","snapVertex","verticesRemoved","vertexAdded","onPathPointerDown","viewPoint","Arrowhead","segmentLengthThreshold","snapHandle","nextVertex","renderHandle","updateHandle","onHandleChangeStart","onHandleChangeEnd","shiftHandleIndexes","resetAnchor","relatedModel","changeSourceAnchor","deleteSourceAnchor","sourceAnchorPosition","sourceAnchorDef","changeTargetAnchor","deleteTargetAnchor","targetAnchorPosition","targetAnchorDef","segmentLine","xAxisVector","Button","getLinkMatrix","getElementMatrix","actionFn","Anchor","snap","customAnchorAttributes","defaultAnchorAttributes","areaPadding","restrictArea","toggleArea","updateAnchor","updateArea","anchorNode","customAnchor","anchorAttributes","areaNode","snapFn","pointAtConnection","rotatedCoords","onPointerDblClick","postfix","detection","POLYFILL","NATIVE","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","isGeneratorFunction","genFun","mark","__proto__","awrap","iter","skipTempReset","rootEntry","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","spreadable","$defineProperty","Attributes","makeMap","expectsLowerCase","GLOBALS_WHITE_LISTED","isGloballyWhitelisted","specialBooleanAttrs","isSpecialBooleanAttr","normalizeStyle","parseStringStyle","listDelimiterRE","propertyDelimiterRE","normalizeClass","HTML_TAGS","SVG_TAGS","isHTMLTag","isSVGTag","looseCompareArrays","equal","looseEqual","aValidType","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","toDisplayString","replacer","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE","isOn","toTypeString","isPromise","toRawType","isIntegerKey","isReservedProp","cacheStringFunction","hit","camelizeRE","camelize","hyphenateRE","hyphenate","toHandlerKey","invokeArrayFns","HAS_SPECIES_SUPPORT","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","space","$replacer","checkCorrectnessOfIteration","INCORRECT_ITERATION","NativePromise","speciesConstructor","promiseResolve","NON_GENERIC","real","onFinally","Backbone","previousBackbone","emulateHTTP","emulateJSON","_listening","Events","eventSplitter","eventsApi","_events","onApi","listening","listeners","_listeners","interop","_listenId","listeningTo","_listeningTo","Listening","tryCatchOn","offApi","ids","_callback","onceMap","offer","triggerApi","objEvents","allEvents","all","triggerEvents","ev","a3","preinitialize","cidPrefix","validationError","idAttribute","sync","_validate","changes","changing","_changing","_previousAttributes","_pending","changedAttributes","previousAttributes","fetch","resp","serverAttrs","wrapError","save","destroy","urlError","_reset","setOptions","addOptions","singular","_removeModels","merged","_isModel","modelMap","sortable","sortAttr","_prepareModel","_addReference","orderChanged","_removeReference","previousModels","_byId","modelId","where","findWhere","pluck","callbackOpts","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","ITERATOR_KEYSVALUES","_onModelEvent","prevId","$$iterator","kind","_collection","_kind","_index","viewOptions","delegateEventSplitter","_removeElement","addMethod","defaultVal","addUnderscoreMethods","modelMatcher","collectionMethods","collect","foldl","foldr","detect","any","include","indexBy","modelMethods","Base","mappings","methodMap","_method","textStatus","errorThrown","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","_routeToRegExp","history","_extractParameters","execute","navigate","optional","decodeURIComponent","History","checkUrl","routeStripper","rootStripper","pathStripper","started","atRoot","pathname","getSearch","matchRoot","decodeFragment","rootPath","decodeURI","getHash","getPath","getFragment","_usePushState","_wantsHashChange","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","iWindow","_checkUrlInterval","setInterval","loadUrl","detachEvent","clearInterval","decodedFragment","_updateHash","__super__","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","macrotask","IS_WEBOS_WEBKIT","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","exit","observe","characterData","task","createWellKnownSymbol","withoutSetter","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","specificCreate","boundFunction","filterOut","_defineProperties","_createClass","PREFERRED_STRING","restArguments","tagTester","nodelist","Int8Array","hasStringTagBug","isIE11","isDataView","ie10IsDataView","getInt8","createSizePropertyCheck","getSizeProperty","sizeProperty","shallowProperty","typedArrayPattern","emulatedSet","collectNonEnumProps","nonEnumIdx","_keys","_wrapped","toBufferView","bufferSource","tagDataView","aStack","bStack","deepEq","areArrays","aCtor","bCtor","allKeys","ie11fingerprint","weakMapMethods","forEachName","hasName","commonInit","mapTail","mapMethods","setMethods","extendOwn","deepGet","optimizeCb","argCount","mapObject","accum","createEscaper","escaper","testRegexp","replaceRegexp","noMatch","escapes","escapeChar","bareIdentifier","oldSettings","_chain","executeBound","sourceFunc","boundFunc","callingContext","boundArgs","bound","callArgs","hasher","address","later","throttled","_now","passed","_args","compose","createPredicateIndexFinder","createIndexFinder","predicateFind","keyFinder","createReduce","reducer","contextPath","lastComputed","behavior","pass","reStrSymbol","keyInObj","otherArrays","isSorted","chainResult","SHARED","EXISTS","newPromiseCapability","promiseCapability","NASHORN_BUG","1","aPossiblePrototype","CORRECT_SETTER","TAG","_classCallCheck","globalThis","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","native","desc","CORRECT_PROTOTYPE_GETTER","ARRAY_ITERATOR","Arguments","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","redefineAll","setSpecies","anInstance","iterate","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","FakePromise","isThenable","isReject","notified","reactions","ok","exited","reaction","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","IS_UNHANDLED","isUnhandled","internalReject","internalResolve","executor","capability","$promiseResolve","alreadyCalled","race","PromiseCapability","$$resolve","$$reject","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","nativeSlice","fin","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-vendors.a300e20c.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.5.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( _i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px\";\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = parseInt( trStyle.height ) > 3;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = (\n\t\t\t\t\tdataPriv.get( cur, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script\n\t\t\tif ( !isSuccess && jQuery.inArray( \"script\", s.dataTypes ) > -1 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tif ( typeof props.top === \"number\" ) {\n\t\t\t\tprops.top += \"px\";\n\t\t\t}\n\t\t\tif ( typeof props.left === \"number\" ) {\n\t\t\t\tprops.left += \"px\";\n\t\t\t}\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t} );\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","// Current version.\nexport var VERSION = '1.13.1';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = typeof self == 'object' && self.self === self && self ||\n          typeof global == 'object' && global.global === global && global ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // eslint-disable-next-line es/no-symbol -- required for testing\n  return !Symbol.sham &&\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.10.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","import { EMPTY_OBJ, isArray, isMap, isIntegerKey, isSymbol, extend, hasOwn, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nconst targetMap = new WeakMap();\r\nconst effectStack = [];\r\nlet activeEffect;\r\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\r\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\r\nfunction isEffect(fn) {\r\n    return fn && fn._isEffect === true;\r\n}\r\nfunction effect(fn, options = EMPTY_OBJ) {\r\n    if (isEffect(fn)) {\r\n        fn = fn.raw;\r\n    }\r\n    const effect = createReactiveEffect(fn, options);\r\n    if (!options.lazy) {\r\n        effect();\r\n    }\r\n    return effect;\r\n}\r\nfunction stop(effect) {\r\n    if (effect.active) {\r\n        cleanup(effect);\r\n        if (effect.options.onStop) {\r\n            effect.options.onStop();\r\n        }\r\n        effect.active = false;\r\n    }\r\n}\r\nlet uid = 0;\r\nfunction createReactiveEffect(fn, options) {\r\n    const effect = function reactiveEffect() {\r\n        if (!effect.active) {\r\n            return options.scheduler ? undefined : fn();\r\n        }\r\n        if (!effectStack.includes(effect)) {\r\n            cleanup(effect);\r\n            try {\r\n                enableTracking();\r\n                effectStack.push(effect);\r\n                activeEffect = effect;\r\n                return fn();\r\n            }\r\n            finally {\r\n                effectStack.pop();\r\n                resetTracking();\r\n                activeEffect = effectStack[effectStack.length - 1];\r\n            }\r\n        }\r\n    };\r\n    effect.id = uid++;\r\n    effect.allowRecurse = !!options.allowRecurse;\r\n    effect._isEffect = true;\r\n    effect.active = true;\r\n    effect.raw = fn;\r\n    effect.deps = [];\r\n    effect.options = options;\r\n    return effect;\r\n}\r\nfunction cleanup(effect) {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].delete(effect);\r\n        }\r\n        deps.length = 0;\r\n    }\r\n}\r\nlet shouldTrack = true;\r\nconst trackStack = [];\r\nfunction pauseTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = false;\r\n}\r\nfunction enableTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = true;\r\n}\r\nfunction resetTracking() {\r\n    const last = trackStack.pop();\r\n    shouldTrack = last === undefined ? true : last;\r\n}\r\nfunction track(target, type, key) {\r\n    if (!shouldTrack || activeEffect === undefined) {\r\n        return;\r\n    }\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        targetMap.set(target, (depsMap = new Map()));\r\n    }\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n        depsMap.set(key, (dep = new Set()));\r\n    }\r\n    if (!dep.has(activeEffect)) {\r\n        dep.add(activeEffect);\r\n        activeEffect.deps.push(dep);\r\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.options.onTrack) {\r\n            activeEffect.options.onTrack({\r\n                effect: activeEffect,\r\n                target,\r\n                type,\r\n                key\r\n            });\r\n        }\r\n    }\r\n}\r\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        // never been tracked\r\n        return;\r\n    }\r\n    const effects = new Set();\r\n    const add = (effectsToAdd) => {\r\n        if (effectsToAdd) {\r\n            effectsToAdd.forEach(effect => {\r\n                if (effect !== activeEffect || effect.allowRecurse) {\r\n                    effects.add(effect);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    if (type === \"clear\" /* CLEAR */) {\r\n        // collection being cleared\r\n        // trigger all effects for target\r\n        depsMap.forEach(add);\r\n    }\r\n    else if (key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key >= newValue) {\r\n                add(dep);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // schedule runs for SET | ADD | DELETE\r\n        if (key !== void 0) {\r\n            add(depsMap.get(key));\r\n        }\r\n        // also run for iteration key on ADD | DELETE | Map.SET\r\n        switch (type) {\r\n            case \"add\" /* ADD */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                else if (isIntegerKey(key)) {\r\n                    // new index added to array -> length changes\r\n                    add(depsMap.get('length'));\r\n                }\r\n                break;\r\n            case \"delete\" /* DELETE */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                break;\r\n            case \"set\" /* SET */:\r\n                if (isMap(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    const run = (effect) => {\r\n        if ((process.env.NODE_ENV !== 'production') && effect.options.onTrigger) {\r\n            effect.options.onTrigger({\r\n                effect,\r\n                target,\r\n                key,\r\n                type,\r\n                newValue,\r\n                oldValue,\r\n                oldTarget\r\n            });\r\n        }\r\n        if (effect.options.scheduler) {\r\n            effect.options.scheduler(effect);\r\n        }\r\n        else {\r\n            effect();\r\n        }\r\n    };\r\n    effects.forEach(run);\r\n}\n\nconst isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);\r\nconst builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)\r\n    .map(key => Symbol[key])\r\n    .filter(isSymbol));\r\nconst get = /*#__PURE__*/ createGetter();\r\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\r\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\r\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\r\nconst arrayInstrumentations = {};\r\n['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\r\n    const method = Array.prototype[key];\r\n    arrayInstrumentations[key] = function (...args) {\r\n        const arr = toRaw(this);\r\n        for (let i = 0, l = this.length; i < l; i++) {\r\n            track(arr, \"get\" /* GET */, i + '');\r\n        }\r\n        // we run the method using the original args first (which may be reactive)\r\n        const res = method.apply(arr, args);\r\n        if (res === -1 || res === false) {\r\n            // if that didn't work, run it again using raw values.\r\n            return method.apply(arr, args.map(toRaw));\r\n        }\r\n        else {\r\n            return res;\r\n        }\r\n    };\r\n});\r\n['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\r\n    const method = Array.prototype[key];\r\n    arrayInstrumentations[key] = function (...args) {\r\n        pauseTracking();\r\n        const res = method.apply(this, args);\r\n        resetTracking();\r\n        return res;\r\n    };\r\n});\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */ &&\r\n            receiver ===\r\n                (isReadonly\r\n                    ? shallow\r\n                        ? shallowReadonlyMap\r\n                        : readonlyMap\r\n                    : shallow\r\n                        ? shallowReactiveMap\r\n                        : reactiveMap).get(target)) {\r\n            return target;\r\n        }\r\n        const targetIsArray = isArray(target);\r\n        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\r\n            return Reflect.get(arrayInstrumentations, key, receiver);\r\n        }\r\n        const res = Reflect.get(target, key, receiver);\r\n        if (isSymbol(key)\r\n            ? builtInSymbols.has(key)\r\n            : isNonTrackableKeys(key)) {\r\n            return res;\r\n        }\r\n        if (!isReadonly) {\r\n            track(target, \"get\" /* GET */, key);\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isRef(res)) {\r\n            // ref unwrapping - does not apply for Array + integer key.\r\n            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);\r\n            return shouldUnwrap ? res.value : res;\r\n        }\r\n        if (isObject(res)) {\r\n            // Convert returned value into a proxy as well. we do the isObject check\r\n            // here to avoid invalid value warning. Also need to lazy access readonly\r\n            // and reactive here to avoid circular dependency.\r\n            return isReadonly ? readonly(res) : reactive(res);\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst set = /*#__PURE__*/ createSetter();\r\nconst shallowSet = /*#__PURE__*/ createSetter(true);\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        let oldValue = target[key];\r\n        if (!shallow) {\r\n            value = toRaw(value);\r\n            oldValue = toRaw(oldValue);\r\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\r\n                oldValue.value = value;\r\n                return true;\r\n            }\r\n        }\r\n        const hadKey = isArray(target) && isIntegerKey(key)\r\n            ? Number(key) < target.length\r\n            : hasOwn(target, key);\r\n        const result = Reflect.set(target, key, value, receiver);\r\n        // don't trigger if target is something up in the prototype chain of original\r\n        if (target === toRaw(receiver)) {\r\n            if (!hadKey) {\r\n                trigger(target, \"add\" /* ADD */, key, value);\r\n            }\r\n            else if (hasChanged(value, oldValue)) {\r\n                trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\nfunction deleteProperty(target, key) {\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction has(target, key) {\r\n    const result = Reflect.has(target, key);\r\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\r\n        track(target, \"has\" /* HAS */, key);\r\n    }\r\n    return result;\r\n}\r\nfunction ownKeys(target) {\r\n    track(target, \"iterate\" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\r\n    return Reflect.ownKeys(target);\r\n}\r\nconst mutableHandlers = {\r\n    get,\r\n    set,\r\n    deleteProperty,\r\n    has,\r\n    ownKeys\r\n};\r\nconst readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    },\r\n    deleteProperty(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    }\r\n};\r\nconst shallowReactiveHandlers = extend({}, mutableHandlers, {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n});\r\n// Props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nconst shallowReadonlyHandlers = extend({}, readonlyHandlers, {\r\n    get: shallowReadonlyGet\r\n});\n\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\r\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\r\nconst toShallow = (value) => value;\r\nconst getProto = (v) => Reflect.getPrototypeOf(v);\r\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\r\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\r\n    // of the value\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"get\" /* GET */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"get\" /* GET */, rawKey);\r\n    const { has } = getProto(rawTarget);\r\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n    if (has.call(rawTarget, key)) {\r\n        return wrap(target.get(key));\r\n    }\r\n    else if (has.call(rawTarget, rawKey)) {\r\n        return wrap(target.get(rawKey));\r\n    }\r\n}\r\nfunction has$1(key, isReadonly = false) {\r\n    const target = this[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"has\" /* HAS */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"has\" /* HAS */, rawKey);\r\n    return key === rawKey\r\n        ? target.has(key)\r\n        : target.has(key) || target.has(rawKey);\r\n}\r\nfunction size(target, isReadonly = false) {\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    !isReadonly && track(toRaw(target), \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n    return Reflect.get(target, 'size', target);\r\n}\r\nfunction add(value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const proto = getProto(target);\r\n    const hadKey = proto.has.call(target, value);\r\n    if (!hadKey) {\r\n        target.add(value);\r\n        trigger(target, \"add\" /* ADD */, value, value);\r\n    }\r\n    return this;\r\n}\r\nfunction set$1(key, value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get.call(target, key);\r\n    target.set(key, value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* ADD */, key, value);\r\n    }\r\n    else if (hasChanged(value, oldValue)) {\r\n        trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n    }\r\n    return this;\r\n}\r\nfunction deleteEntry(key) {\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get ? get.call(target, key) : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.delete(key);\r\n    if (hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction clear() {\r\n    const target = toRaw(this);\r\n    const hadItems = target.size !== 0;\r\n    const oldTarget = (process.env.NODE_ENV !== 'production')\r\n        ? isMap(target)\r\n            ? new Map(target)\r\n            : new Set(target)\r\n        : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.clear();\r\n    if (hadItems) {\r\n        trigger(target, \"clear\" /* CLEAR */, undefined, undefined, oldTarget);\r\n    }\r\n    return result;\r\n}\r\nfunction createForEach(isReadonly, isShallow) {\r\n    return function forEach(callback, thisArg) {\r\n        const observed = this;\r\n        const target = observed[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly && track(rawTarget, \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n        return target.forEach((value, key) => {\r\n            // important: make sure the callback is\r\n            // 1. invoked with the reactive map as `this` and 3rd arg\r\n            // 2. the value received should be a corresponding reactive/readonly.\r\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\r\n        });\r\n    };\r\n}\r\nfunction createIterableMethod(method, isReadonly, isShallow) {\r\n    return function (...args) {\r\n        const target = this[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const targetIsMap = isMap(rawTarget);\r\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\r\n        const isKeyOnly = method === 'keys' && targetIsMap;\r\n        const innerIterator = target[method](...args);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly &&\r\n            track(rawTarget, \"iterate\" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\r\n        // return a wrapped iterator which returns observed versions of the\r\n        // values emitted from the real iterator\r\n        return {\r\n            // iterator protocol\r\n            next() {\r\n                const { value, done } = innerIterator.next();\r\n                return done\r\n                    ? { value, done }\r\n                    : {\r\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n                        done\r\n                    };\r\n            },\r\n            // iterable protocol\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n}\r\nfunction createReadonlyMethod(type) {\r\n    return function (...args) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\r\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\r\n        }\r\n        return type === \"delete\" /* DELETE */ ? false : this;\r\n    };\r\n}\r\nconst mutableInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key);\r\n    },\r\n    get size() {\r\n        return size(this);\r\n    },\r\n    has: has$1,\r\n    add,\r\n    set: set$1,\r\n    delete: deleteEntry,\r\n    clear,\r\n    forEach: createForEach(false, false)\r\n};\r\nconst shallowInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key, false, true);\r\n    },\r\n    get size() {\r\n        return size(this);\r\n    },\r\n    has: has$1,\r\n    add,\r\n    set: set$1,\r\n    delete: deleteEntry,\r\n    clear,\r\n    forEach: createForEach(false, true)\r\n};\r\nconst readonlyInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key, true);\r\n    },\r\n    get size() {\r\n        return size(this, true);\r\n    },\r\n    has(key) {\r\n        return has$1.call(this, key, true);\r\n    },\r\n    add: createReadonlyMethod(\"add\" /* ADD */),\r\n    set: createReadonlyMethod(\"set\" /* SET */),\r\n    delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n    clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n    forEach: createForEach(true, false)\r\n};\r\nconst shallowReadonlyInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key, true, true);\r\n    },\r\n    get size() {\r\n        return size(this, true);\r\n    },\r\n    has(key) {\r\n        return has$1.call(this, key, true);\r\n    },\r\n    add: createReadonlyMethod(\"add\" /* ADD */),\r\n    set: createReadonlyMethod(\"set\" /* SET */),\r\n    delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n    clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n    forEach: createForEach(true, true)\r\n};\r\nconst iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\r\niteratorMethods.forEach(method => {\r\n    mutableInstrumentations[method] = createIterableMethod(method, false, false);\r\n    readonlyInstrumentations[method] = createIterableMethod(method, true, false);\r\n    shallowInstrumentations[method] = createIterableMethod(method, false, true);\r\n    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\r\n});\r\nfunction createInstrumentationGetter(isReadonly, shallow) {\r\n    const instrumentations = shallow\r\n        ? isReadonly\r\n            ? shallowReadonlyInstrumentations\r\n            : shallowInstrumentations\r\n        : isReadonly\r\n            ? readonlyInstrumentations\r\n            : mutableInstrumentations;\r\n    return (target, key, receiver) => {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */) {\r\n            return target;\r\n        }\r\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\r\n            ? instrumentations\r\n            : target, key, receiver);\r\n    };\r\n}\r\nconst mutableCollectionHandlers = {\r\n    get: createInstrumentationGetter(false, false)\r\n};\r\nconst shallowCollectionHandlers = {\r\n    get: createInstrumentationGetter(false, true)\r\n};\r\nconst readonlyCollectionHandlers = {\r\n    get: createInstrumentationGetter(true, false)\r\n};\r\nconst shallowReadonlyCollectionHandlers = {\r\n    get: createInstrumentationGetter(true, true)\r\n};\r\nfunction checkIdentityKeys(target, has, key) {\r\n    const rawKey = toRaw(key);\r\n    if (rawKey !== key && has.call(target, rawKey)) {\r\n        const type = toRawType(target);\r\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\r\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\r\n            `which can lead to inconsistencies. ` +\r\n            `Avoid differentiating between the raw and reactive versions ` +\r\n            `of an object and only use the reactive version if possible.`);\r\n    }\r\n}\n\nconst reactiveMap = new WeakMap();\r\nconst shallowReactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nconst shallowReadonlyMap = new WeakMap();\r\nfunction targetTypeMap(rawType) {\r\n    switch (rawType) {\r\n        case 'Object':\r\n        case 'Array':\r\n            return 1 /* COMMON */;\r\n        case 'Map':\r\n        case 'Set':\r\n        case 'WeakMap':\r\n        case 'WeakSet':\r\n            return 2 /* COLLECTION */;\r\n        default:\r\n            return 0 /* INVALID */;\r\n    }\r\n}\r\nfunction getTargetType(value) {\r\n    return value[\"__v_skip\" /* SKIP */] || !Object.isExtensible(value)\r\n        ? 0 /* INVALID */\r\n        : targetTypeMap(toRawType(value));\r\n}\r\nfunction reactive(target) {\r\n    // if trying to observe a readonly proxy, return the readonly version.\r\n    if (target && target[\"__v_isReadonly\" /* IS_READONLY */]) {\r\n        return target;\r\n    }\r\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\r\n}\r\n/**\r\n * Return a shallowly-reactive copy of the original object, where only the root\r\n * level properties are reactive. It also does not auto-unwrap refs (even at the\r\n * root level).\r\n */\r\nfunction shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\r\n}\r\n/**\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\r\n}\r\n/**\r\n * Returns a reactive-copy of the original object, where only the root level\r\n * properties are readonly, and does NOT unwrap refs nor recursively convert\r\n * returned properties.\r\n * This is used for creating the props proxy object for stateful components.\r\n */\r\nfunction shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);\r\n}\r\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\r\n    if (!isObject(target)) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`value cannot be made reactive: ${String(target)}`);\r\n        }\r\n        return target;\r\n    }\r\n    // target is already a Proxy, return it.\r\n    // exception: calling readonly() on a reactive object\r\n    if (target[\"__v_raw\" /* RAW */] &&\r\n        !(isReadonly && target[\"__v_isReactive\" /* IS_REACTIVE */])) {\r\n        return target;\r\n    }\r\n    // target already has corresponding Proxy\r\n    const existingProxy = proxyMap.get(target);\r\n    if (existingProxy) {\r\n        return existingProxy;\r\n    }\r\n    // only a whitelist of value types can be observed.\r\n    const targetType = getTargetType(target);\r\n    if (targetType === 0 /* INVALID */) {\r\n        return target;\r\n    }\r\n    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\nfunction isReactive(value) {\r\n    if (isReadonly(value)) {\r\n        return isReactive(value[\"__v_raw\" /* RAW */]);\r\n    }\r\n    return !!(value && value[\"__v_isReactive\" /* IS_REACTIVE */]);\r\n}\r\nfunction isReadonly(value) {\r\n    return !!(value && value[\"__v_isReadonly\" /* IS_READONLY */]);\r\n}\r\nfunction isProxy(value) {\r\n    return isReactive(value) || isReadonly(value);\r\n}\r\nfunction toRaw(observed) {\r\n    return ((observed && toRaw(observed[\"__v_raw\" /* RAW */])) || observed);\r\n}\r\nfunction markRaw(value) {\r\n    def(value, \"__v_skip\" /* SKIP */, true);\r\n    return value;\r\n}\n\nconst convert = (val) => isObject(val) ? reactive(val) : val;\r\nfunction isRef(r) {\r\n    return Boolean(r && r.__v_isRef === true);\r\n}\r\nfunction ref(value) {\r\n    return createRef(value);\r\n}\r\nfunction shallowRef(value) {\r\n    return createRef(value, true);\r\n}\r\nclass RefImpl {\r\n    constructor(_rawValue, _shallow = false) {\r\n        this._rawValue = _rawValue;\r\n        this._shallow = _shallow;\r\n        this.__v_isRef = true;\r\n        this._value = _shallow ? _rawValue : convert(_rawValue);\r\n    }\r\n    get value() {\r\n        track(toRaw(this), \"get\" /* GET */, 'value');\r\n        return this._value;\r\n    }\r\n    set value(newVal) {\r\n        if (hasChanged(toRaw(newVal), this._rawValue)) {\r\n            this._rawValue = newVal;\r\n            this._value = this._shallow ? newVal : convert(newVal);\r\n            trigger(toRaw(this), \"set\" /* SET */, 'value', newVal);\r\n        }\r\n    }\r\n}\r\nfunction createRef(rawValue, shallow = false) {\r\n    if (isRef(rawValue)) {\r\n        return rawValue;\r\n    }\r\n    return new RefImpl(rawValue, shallow);\r\n}\r\nfunction triggerRef(ref) {\r\n    trigger(toRaw(ref), \"set\" /* SET */, 'value', (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nconst shallowUnwrapHandlers = {\r\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\r\n    set: (target, key, value, receiver) => {\r\n        const oldValue = target[key];\r\n        if (isRef(oldValue) && !isRef(value)) {\r\n            oldValue.value = value;\r\n            return true;\r\n        }\r\n        else {\r\n            return Reflect.set(target, key, value, receiver);\r\n        }\r\n    }\r\n};\r\nfunction proxyRefs(objectWithRefs) {\r\n    return isReactive(objectWithRefs)\r\n        ? objectWithRefs\r\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\r\n}\r\nclass CustomRefImpl {\r\n    constructor(factory) {\r\n        this.__v_isRef = true;\r\n        const { get, set } = factory(() => track(this, \"get\" /* GET */, 'value'), () => trigger(this, \"set\" /* SET */, 'value'));\r\n        this._get = get;\r\n        this._set = set;\r\n    }\r\n    get value() {\r\n        return this._get();\r\n    }\r\n    set value(newVal) {\r\n        this._set(newVal);\r\n    }\r\n}\r\nfunction customRef(factory) {\r\n    return new CustomRefImpl(factory);\r\n}\r\nfunction toRefs(object) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\r\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\r\n    }\r\n    const ret = isArray(object) ? new Array(object.length) : {};\r\n    for (const key in object) {\r\n        ret[key] = toRef(object, key);\r\n    }\r\n    return ret;\r\n}\r\nclass ObjectRefImpl {\r\n    constructor(_object, _key) {\r\n        this._object = _object;\r\n        this._key = _key;\r\n        this.__v_isRef = true;\r\n    }\r\n    get value() {\r\n        return this._object[this._key];\r\n    }\r\n    set value(newVal) {\r\n        this._object[this._key] = newVal;\r\n    }\r\n}\r\nfunction toRef(object, key) {\r\n    return isRef(object[key])\r\n        ? object[key]\r\n        : new ObjectRefImpl(object, key);\r\n}\n\nclass ComputedRefImpl {\r\n    constructor(getter, _setter, isReadonly) {\r\n        this._setter = _setter;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this.effect = effect(getter, {\r\n            lazy: true,\r\n            scheduler: () => {\r\n                if (!this._dirty) {\r\n                    this._dirty = true;\r\n                    trigger(toRaw(this), \"set\" /* SET */, 'value');\r\n                }\r\n            }\r\n        });\r\n        this[\"__v_isReadonly\" /* IS_READONLY */] = isReadonly;\r\n    }\r\n    get value() {\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        const self = toRaw(this);\r\n        if (self._dirty) {\r\n            self._value = this.effect();\r\n            self._dirty = false;\r\n        }\r\n        track(self, \"get\" /* GET */, 'value');\r\n        return self._value;\r\n    }\r\n    set value(newValue) {\r\n        this._setter(newValue);\r\n    }\r\n}\r\nfunction computed(getterOrOptions) {\r\n    let getter;\r\n    let setter;\r\n    if (isFunction(getterOrOptions)) {\r\n        getter = getterOrOptions;\r\n        setter = (process.env.NODE_ENV !== 'production')\r\n            ? () => {\r\n                console.warn('Write operation failed: computed value is readonly');\r\n            }\r\n            : NOOP;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);\r\n}\n\nexport { ITERATE_KEY, computed, customRef, effect, enableTracking, isProxy, isReactive, isReadonly, isRef, markRaw, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, shallowReactive, trigger, isReactive, effect, stop, ref, isProxy, proxyRefs, toRef, reactive, shallowReadonly, track, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { customRef, isProxy, isReactive, isReadonly, isRef, markRaw, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, toRaw, toRef, toRefs, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, extend, EMPTY_OBJ, toHandlerKey, toNumber, hyphenate, camelize, isOn, hasOwn, isModelListener, def, isReservedProp, EMPTY_ARR, isObject, capitalize, toRawType, makeMap, remove, NOOP, hasChanged, isSet, isMap, invokeArrayFns, NO, getGlobalThis, normalizeClass, normalizeStyle, isGloballyWhitelisted } from '@vue/shared';\nexport { camelize, capitalize, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\r\nfunction pushWarningContext(vnode) {\r\n    stack.push(vnode);\r\n}\r\nfunction popWarningContext() {\r\n    stack.pop();\r\n}\r\nfunction warn(msg, ...args) {\r\n    // avoid props formatting or warn handler tracking deps that might be mutated\r\n    // during patch, leading to infinite recursion.\r\n    pauseTracking();\r\n    const instance = stack.length ? stack[stack.length - 1].component : null;\r\n    const appWarnHandler = instance && instance.appContext.config.warnHandler;\r\n    const trace = getComponentTrace();\r\n    if (appWarnHandler) {\r\n        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [\r\n            msg + args.join(''),\r\n            instance && instance.proxy,\r\n            trace\r\n                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)\r\n                .join('\\n'),\r\n            trace\r\n        ]);\r\n    }\r\n    else {\r\n        const warnArgs = [`[Vue warn]: ${msg}`, ...args];\r\n        /* istanbul ignore if */\r\n        if (trace.length &&\r\n            // avoid spamming console during tests\r\n            !false) {\r\n            warnArgs.push(`\\n`, ...formatTrace(trace));\r\n        }\r\n        console.warn(...warnArgs);\r\n    }\r\n    resetTracking();\r\n}\r\nfunction getComponentTrace() {\r\n    let currentVNode = stack[stack.length - 1];\r\n    if (!currentVNode) {\r\n        return [];\r\n    }\r\n    // we can't just use the stack because it will be incomplete during updates\r\n    // that did not start from the root. Re-construct the parent chain using\r\n    // instance parent pointers.\r\n    const normalizedStack = [];\r\n    while (currentVNode) {\r\n        const last = normalizedStack[0];\r\n        if (last && last.vnode === currentVNode) {\r\n            last.recurseCount++;\r\n        }\r\n        else {\r\n            normalizedStack.push({\r\n                vnode: currentVNode,\r\n                recurseCount: 0\r\n            });\r\n        }\r\n        const parentInstance = currentVNode.component && currentVNode.component.parent;\r\n        currentVNode = parentInstance && parentInstance.vnode;\r\n    }\r\n    return normalizedStack;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatTrace(trace) {\r\n    const logs = [];\r\n    trace.forEach((entry, i) => {\r\n        logs.push(...(i === 0 ? [] : [`\\n`]), ...formatTraceEntry(entry));\r\n    });\r\n    return logs;\r\n}\r\nfunction formatTraceEntry({ vnode, recurseCount }) {\r\n    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\r\n    const isRoot = vnode.component ? vnode.component.parent == null : false;\r\n    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;\r\n    const close = `>` + postfix;\r\n    return vnode.props\r\n        ? [open, ...formatProps(vnode.props), close]\r\n        : [open + close];\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProps(props) {\r\n    const res = [];\r\n    const keys = Object.keys(props);\r\n    keys.slice(0, 3).forEach(key => {\r\n        res.push(...formatProp(key, props[key]));\r\n    });\r\n    if (keys.length > 3) {\r\n        res.push(` ...`);\r\n    }\r\n    return res;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProp(key, value, raw) {\r\n    if (isString(value)) {\r\n        value = JSON.stringify(value);\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (typeof value === 'number' ||\r\n        typeof value === 'boolean' ||\r\n        value == null) {\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (isRef(value)) {\r\n        value = formatProp(key, toRaw(value.value), true);\r\n        return raw ? value : [`${key}=Ref<`, value, `>`];\r\n    }\r\n    else if (isFunction(value)) {\r\n        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\r\n    }\r\n    else {\r\n        value = toRaw(value);\r\n        return raw ? value : [`${key}=`, value];\r\n    }\r\n}\n\nconst ErrorTypeStrings = {\r\n    [\"bc\" /* BEFORE_CREATE */]: 'beforeCreate hook',\r\n    [\"c\" /* CREATED */]: 'created hook',\r\n    [\"bm\" /* BEFORE_MOUNT */]: 'beforeMount hook',\r\n    [\"m\" /* MOUNTED */]: 'mounted hook',\r\n    [\"bu\" /* BEFORE_UPDATE */]: 'beforeUpdate hook',\r\n    [\"u\" /* UPDATED */]: 'updated',\r\n    [\"bum\" /* BEFORE_UNMOUNT */]: 'beforeUnmount hook',\r\n    [\"um\" /* UNMOUNTED */]: 'unmounted hook',\r\n    [\"a\" /* ACTIVATED */]: 'activated hook',\r\n    [\"da\" /* DEACTIVATED */]: 'deactivated hook',\r\n    [\"ec\" /* ERROR_CAPTURED */]: 'errorCaptured hook',\r\n    [\"rtc\" /* RENDER_TRACKED */]: 'renderTracked hook',\r\n    [\"rtg\" /* RENDER_TRIGGERED */]: 'renderTriggered hook',\r\n    [0 /* SETUP_FUNCTION */]: 'setup function',\r\n    [1 /* RENDER_FUNCTION */]: 'render function',\r\n    [2 /* WATCH_GETTER */]: 'watcher getter',\r\n    [3 /* WATCH_CALLBACK */]: 'watcher callback',\r\n    [4 /* WATCH_CLEANUP */]: 'watcher cleanup function',\r\n    [5 /* NATIVE_EVENT_HANDLER */]: 'native event handler',\r\n    [6 /* COMPONENT_EVENT_HANDLER */]: 'component event handler',\r\n    [7 /* VNODE_HOOK */]: 'vnode hook',\r\n    [8 /* DIRECTIVE_HOOK */]: 'directive hook',\r\n    [9 /* TRANSITION_HOOK */]: 'transition hook',\r\n    [10 /* APP_ERROR_HANDLER */]: 'app errorHandler',\r\n    [11 /* APP_WARN_HANDLER */]: 'app warnHandler',\r\n    [12 /* FUNCTION_REF */]: 'ref function',\r\n    [13 /* ASYNC_COMPONENT_LOADER */]: 'async component loader',\r\n    [14 /* SCHEDULER */]: 'scheduler flush. This is likely a Vue internals bug. ' +\r\n        'Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next'\r\n};\r\nfunction callWithErrorHandling(fn, instance, type, args) {\r\n    let res;\r\n    try {\r\n        res = args ? fn(...args) : fn();\r\n    }\r\n    catch (err) {\r\n        handleError(err, instance, type);\r\n    }\r\n    return res;\r\n}\r\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\r\n    if (isFunction(fn)) {\r\n        const res = callWithErrorHandling(fn, instance, type, args);\r\n        if (res && isPromise(res)) {\r\n            res.catch(err => {\r\n                handleError(err, instance, type);\r\n            });\r\n        }\r\n        return res;\r\n    }\r\n    const values = [];\r\n    for (let i = 0; i < fn.length; i++) {\r\n        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\r\n    }\r\n    return values;\r\n}\r\nfunction handleError(err, instance, type, throwInDev = true) {\r\n    const contextVNode = instance ? instance.vnode : null;\r\n    if (instance) {\r\n        let cur = instance.parent;\r\n        // the exposed instance is the render proxy to keep it consistent with 2.x\r\n        const exposedInstance = instance.proxy;\r\n        // in production the hook receives only the error code\r\n        const errorInfo = (process.env.NODE_ENV !== 'production') ? ErrorTypeStrings[type] : type;\r\n        while (cur) {\r\n            const errorCapturedHooks = cur.ec;\r\n            if (errorCapturedHooks) {\r\n                for (let i = 0; i < errorCapturedHooks.length; i++) {\r\n                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            cur = cur.parent;\r\n        }\r\n        // app-level handling\r\n        const appErrorHandler = instance.appContext.config.errorHandler;\r\n        if (appErrorHandler) {\r\n            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);\r\n            return;\r\n        }\r\n    }\r\n    logError(err, type, contextVNode, throwInDev);\r\n}\r\nfunction logError(err, type, contextVNode, throwInDev = true) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const info = ErrorTypeStrings[type];\r\n        if (contextVNode) {\r\n            pushWarningContext(contextVNode);\r\n        }\r\n        warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\r\n        if (contextVNode) {\r\n            popWarningContext();\r\n        }\r\n        // crash in dev by default so it's more noticeable\r\n        if (throwInDev) {\r\n            throw err;\r\n        }\r\n        else {\r\n            console.error(err);\r\n        }\r\n    }\r\n    else {\r\n        // recover in prod to reduce the impact on end-user\r\n        console.error(err);\r\n    }\r\n}\n\nlet isFlushing = false;\r\nlet isFlushPending = false;\r\nconst queue = [];\r\nlet flushIndex = 0;\r\nconst pendingPreFlushCbs = [];\r\nlet activePreFlushCbs = null;\r\nlet preFlushIndex = 0;\r\nconst pendingPostFlushCbs = [];\r\nlet activePostFlushCbs = null;\r\nlet postFlushIndex = 0;\r\nconst resolvedPromise = Promise.resolve();\r\nlet currentFlushPromise = null;\r\nlet currentPreFlushParentJob = null;\r\nconst RECURSION_LIMIT = 100;\r\nfunction nextTick(fn) {\r\n    const p = currentFlushPromise || resolvedPromise;\r\n    return fn ? p.then(this ? fn.bind(this) : fn) : p;\r\n}\r\n// #2768\r\n// Use binary-search to find a suitable position in the queue,\r\n// so that the queue maintains the increasing order of job's id,\r\n// which can prevent the job from being skipped and also can avoid repeated patching.\r\nfunction findInsertionIndex(job) {\r\n    // the start index should be `flushIndex + 1`\r\n    let start = flushIndex + 1;\r\n    let end = queue.length;\r\n    const jobId = getId(job);\r\n    while (start < end) {\r\n        const middle = (start + end) >>> 1;\r\n        const middleJobId = getId(queue[middle]);\r\n        middleJobId < jobId ? (start = middle + 1) : (end = middle);\r\n    }\r\n    return start;\r\n}\r\nfunction queueJob(job) {\r\n    // the dedupe search uses the startIndex argument of Array.includes()\r\n    // by default the search index includes the current job that is being run\r\n    // so it cannot recursively trigger itself again.\r\n    // if the job is a watch() callback, the search will start with a +1 index to\r\n    // allow it recursively trigger itself - it is the user's responsibility to\r\n    // ensure it doesn't end up in an infinite loop.\r\n    if ((!queue.length ||\r\n        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&\r\n        job !== currentPreFlushParentJob) {\r\n        const pos = findInsertionIndex(job);\r\n        if (pos > -1) {\r\n            queue.splice(pos, 0, job);\r\n        }\r\n        else {\r\n            queue.push(job);\r\n        }\r\n        queueFlush();\r\n    }\r\n}\r\nfunction queueFlush() {\r\n    if (!isFlushing && !isFlushPending) {\r\n        isFlushPending = true;\r\n        currentFlushPromise = resolvedPromise.then(flushJobs);\r\n    }\r\n}\r\nfunction invalidateJob(job) {\r\n    const i = queue.indexOf(job);\r\n    if (i > flushIndex) {\r\n        queue.splice(i, 1);\r\n    }\r\n}\r\nfunction queueCb(cb, activeQueue, pendingQueue, index) {\r\n    if (!isArray(cb)) {\r\n        if (!activeQueue ||\r\n            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {\r\n            pendingQueue.push(cb);\r\n        }\r\n    }\r\n    else {\r\n        // if cb is an array, it is a component lifecycle hook which can only be\r\n        // triggered by a job, which is already deduped in the main queue, so\r\n        // we can skip duplicate check here to improve perf\r\n        pendingQueue.push(...cb);\r\n    }\r\n    queueFlush();\r\n}\r\nfunction queuePreFlushCb(cb) {\r\n    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);\r\n}\r\nfunction queuePostFlushCb(cb) {\r\n    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);\r\n}\r\nfunction flushPreFlushCbs(seen, parentJob = null) {\r\n    if (pendingPreFlushCbs.length) {\r\n        currentPreFlushParentJob = parentJob;\r\n        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];\r\n        pendingPreFlushCbs.length = 0;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkRecursiveUpdates(seen, activePreFlushCbs[preFlushIndex]);\r\n            }\r\n            activePreFlushCbs[preFlushIndex]();\r\n        }\r\n        activePreFlushCbs = null;\r\n        preFlushIndex = 0;\r\n        currentPreFlushParentJob = null;\r\n        // recursively flush until it drains\r\n        flushPreFlushCbs(seen, parentJob);\r\n    }\r\n}\r\nfunction flushPostFlushCbs(seen) {\r\n    if (pendingPostFlushCbs.length) {\r\n        const deduped = [...new Set(pendingPostFlushCbs)];\r\n        pendingPostFlushCbs.length = 0;\r\n        // #1947 already has active queue, nested flushPostFlushCbs call\r\n        if (activePostFlushCbs) {\r\n            activePostFlushCbs.push(...deduped);\r\n            return;\r\n        }\r\n        activePostFlushCbs = deduped;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\r\n        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex]);\r\n            }\r\n            activePostFlushCbs[postFlushIndex]();\r\n        }\r\n        activePostFlushCbs = null;\r\n        postFlushIndex = 0;\r\n    }\r\n}\r\nconst getId = (job) => job.id == null ? Infinity : job.id;\r\nfunction flushJobs(seen) {\r\n    isFlushPending = false;\r\n    isFlushing = true;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        seen = seen || new Map();\r\n    }\r\n    flushPreFlushCbs(seen);\r\n    // Sort queue before flush.\r\n    // This ensures that:\r\n    // 1. Components are updated from parent to child. (because parent is always\r\n    //    created before the child so its render effect will have smaller\r\n    //    priority number)\r\n    // 2. If a component is unmounted during a parent component's update,\r\n    //    its update can be skipped.\r\n    queue.sort((a, b) => getId(a) - getId(b));\r\n    try {\r\n        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\r\n            const job = queue[flushIndex];\r\n            if (job) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkRecursiveUpdates(seen, job);\r\n                }\r\n                callWithErrorHandling(job, null, 14 /* SCHEDULER */);\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        flushIndex = 0;\r\n        queue.length = 0;\r\n        flushPostFlushCbs(seen);\r\n        isFlushing = false;\r\n        currentFlushPromise = null;\r\n        // some postFlushCb queued jobs!\r\n        // keep flushing until it drains.\r\n        if (queue.length || pendingPostFlushCbs.length) {\r\n            flushJobs(seen);\r\n        }\r\n    }\r\n}\r\nfunction checkRecursiveUpdates(seen, fn) {\r\n    if (!seen.has(fn)) {\r\n        seen.set(fn, 1);\r\n    }\r\n    else {\r\n        const count = seen.get(fn);\r\n        if (count > RECURSION_LIMIT) {\r\n            throw new Error(`Maximum recursive updates exceeded. ` +\r\n                `This means you have a reactive effect that is mutating its own ` +\r\n                `dependencies and thus recursively triggering itself. Possible sources ` +\r\n                `include component template, render function, updated hook or ` +\r\n                `watcher source function.`);\r\n        }\r\n        else {\r\n            seen.set(fn, count + 1);\r\n        }\r\n    }\r\n}\n\n/* eslint-disable no-restricted-globals */\r\nlet isHmrUpdating = false;\r\nconst hmrDirtyComponents = new Set();\r\n// Expose the HMR runtime on the global object\r\n// This makes it entirely tree-shakable without polluting the exports and makes\r\n// it easier to be used in toolings like vue-loader\r\n// Note: for a component to be eligible for HMR it also needs the __hmrId option\r\n// to be set so that its instances can be registered / removed.\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    const globalObject = typeof global !== 'undefined'\r\n        ? global\r\n        : typeof self !== 'undefined'\r\n            ? self\r\n            : typeof window !== 'undefined'\r\n                ? window\r\n                : {};\r\n    globalObject.__VUE_HMR_RUNTIME__ = {\r\n        createRecord: tryWrap(createRecord),\r\n        rerender: tryWrap(rerender),\r\n        reload: tryWrap(reload)\r\n    };\r\n}\r\nconst map = new Map();\r\nfunction registerHMR(instance) {\r\n    const id = instance.type.__hmrId;\r\n    let record = map.get(id);\r\n    if (!record) {\r\n        createRecord(id, instance.type);\r\n        record = map.get(id);\r\n    }\r\n    record.instances.add(instance);\r\n}\r\nfunction unregisterHMR(instance) {\r\n    map.get(instance.type.__hmrId).instances.delete(instance);\r\n}\r\nfunction createRecord(id, component) {\r\n    if (!component) {\r\n        warn(`HMR API usage is out of date.\\n` +\r\n            `Please upgrade vue-loader/vite/rollup-plugin-vue or other relevant ` +\r\n            `dependency that handles Vue SFC compilation.`);\r\n        component = {};\r\n    }\r\n    if (map.has(id)) {\r\n        return false;\r\n    }\r\n    map.set(id, {\r\n        component: isClassComponent(component) ? component.__vccOpts : component,\r\n        instances: new Set()\r\n    });\r\n    return true;\r\n}\r\nfunction rerender(id, newRender) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    if (newRender)\r\n        record.component.render = newRender;\r\n    // Array.from creates a snapshot which avoids the set being mutated during\r\n    // updates\r\n    Array.from(record.instances).forEach(instance => {\r\n        if (newRender) {\r\n            instance.render = newRender;\r\n        }\r\n        instance.renderCache = [];\r\n        // this flag forces child components with slot content to update\r\n        isHmrUpdating = true;\r\n        instance.update();\r\n        isHmrUpdating = false;\r\n    });\r\n}\r\nfunction reload(id, newComp) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    // Array.from creates a snapshot which avoids the set being mutated during\r\n    // updates\r\n    const { component, instances } = record;\r\n    if (!hmrDirtyComponents.has(component)) {\r\n        // 1. Update existing comp definition to match new one\r\n        newComp = isClassComponent(newComp) ? newComp.__vccOpts : newComp;\r\n        extend(component, newComp);\r\n        for (const key in component) {\r\n            if (!(key in newComp)) {\r\n                delete component[key];\r\n            }\r\n        }\r\n        // 2. Mark component dirty. This forces the renderer to replace the component\r\n        // on patch.\r\n        hmrDirtyComponents.add(component);\r\n        // 3. Make sure to unmark the component after the reload.\r\n        queuePostFlushCb(() => {\r\n            hmrDirtyComponents.delete(component);\r\n        });\r\n    }\r\n    Array.from(instances).forEach(instance => {\r\n        if (instance.parent) {\r\n            // 4. Force the parent instance to re-render. This will cause all updated\r\n            // components to be unmounted and re-mounted. Queue the update so that we\r\n            // don't end up forcing the same parent to re-render multiple times.\r\n            queueJob(instance.parent.update);\r\n        }\r\n        else if (instance.appContext.reload) {\r\n            // root instance mounted via createApp() has a reload method\r\n            instance.appContext.reload();\r\n        }\r\n        else if (typeof window !== 'undefined') {\r\n            // root instance inside tree created via raw render(). Force reload.\r\n            window.location.reload();\r\n        }\r\n        else {\r\n            console.warn('[HMR] Root or manually mounted instance modified. Full reload required.');\r\n        }\r\n    });\r\n}\r\nfunction tryWrap(fn) {\r\n    return (id, arg) => {\r\n        try {\r\n            return fn(id, arg);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            console.warn(`[HMR] Something went wrong during Vue component hot-reload. ` +\r\n                `Full reload required.`);\r\n        }\r\n    };\r\n}\n\nlet devtools;\r\nfunction setDevtoolsHook(hook) {\r\n    devtools = hook;\r\n}\r\nfunction devtoolsInitApp(app, version) {\r\n    // TODO queue if devtools is undefined\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"app:init\" /* APP_INIT */, app, version, {\r\n        Fragment,\r\n        Text,\r\n        Comment,\r\n        Static\r\n    });\r\n}\r\nfunction devtoolsUnmountApp(app) {\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"app:unmount\" /* APP_UNMOUNT */, app);\r\n}\r\nconst devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\r\nconst devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\r\nconst devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook(\"component:removed\" /* COMPONENT_REMOVED */);\r\nfunction createDevtoolsComponentHook(hook) {\r\n    return (component) => {\r\n        if (!devtools)\r\n            return;\r\n        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);\r\n    };\r\n}\r\nfunction devtoolsComponentEmit(component, event, params) {\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"component:emit\" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);\r\n}\n\nfunction emit(instance, event, ...rawArgs) {\r\n    const props = instance.vnode.props || EMPTY_OBJ;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const { emitsOptions, propsOptions: [propsOptions] } = instance;\r\n        if (emitsOptions) {\r\n            if (!(event in emitsOptions)) {\r\n                if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\r\n                    warn(`Component emitted event \"${event}\" but it is neither declared in ` +\r\n                        `the emits option nor as an \"${toHandlerKey(event)}\" prop.`);\r\n                }\r\n            }\r\n            else {\r\n                const validator = emitsOptions[event];\r\n                if (isFunction(validator)) {\r\n                    const isValid = validator(...rawArgs);\r\n                    if (!isValid) {\r\n                        warn(`Invalid event arguments: event validation failed for event \"${event}\".`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let args = rawArgs;\r\n    const isModelListener = event.startsWith('update:');\r\n    // for v-model update:xxx events, apply modifiers on args\r\n    const modelArg = isModelListener && event.slice(7);\r\n    if (modelArg && modelArg in props) {\r\n        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;\r\n        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\r\n        if (trim) {\r\n            args = rawArgs.map(a => a.trim());\r\n        }\r\n        else if (number) {\r\n            args = rawArgs.map(toNumber);\r\n        }\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsComponentEmit(instance, event, args);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const lowerCaseEvent = event.toLowerCase();\r\n        if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\r\n            warn(`Event \"${lowerCaseEvent}\" is emitted in component ` +\r\n                `${formatComponentName(instance, instance.type)} but the handler is registered for \"${event}\". ` +\r\n                `Note that HTML attributes are case-insensitive and you cannot use ` +\r\n                `v-on to listen to camelCase events when using in-DOM templates. ` +\r\n                `You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`);\r\n        }\r\n    }\r\n    let handlerName;\r\n    let handler = props[(handlerName = toHandlerKey(event))] ||\r\n        // also try camelCase event handler (#2249)\r\n        props[(handlerName = toHandlerKey(camelize(event)))];\r\n    // for v-model update:xxx events, also trigger kebab-case equivalent\r\n    // for props passed via kebab-case\r\n    if (!handler && isModelListener) {\r\n        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];\r\n    }\r\n    if (handler) {\r\n        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n    const onceHandler = props[handlerName + `Once`];\r\n    if (onceHandler) {\r\n        if (!instance.emitted) {\r\n            (instance.emitted = {})[handlerName] = true;\r\n        }\r\n        else if (instance.emitted[handlerName]) {\r\n            return;\r\n        }\r\n        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n}\r\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\r\n    if (!appContext.deopt && comp.__emits !== undefined) {\r\n        return comp.__emits;\r\n    }\r\n    const raw = comp.emits;\r\n    let normalized = {};\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendEmits = (raw) => {\r\n            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);\r\n            if (normalizedFromExtend) {\r\n                hasExtends = true;\r\n                extend(normalized, normalizedFromExtend);\r\n            }\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendEmits);\r\n        }\r\n        if (comp.extends) {\r\n            extendEmits(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendEmits);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        return (comp.__emits = null);\r\n    }\r\n    if (isArray(raw)) {\r\n        raw.forEach(key => (normalized[key] = null));\r\n    }\r\n    else {\r\n        extend(normalized, raw);\r\n    }\r\n    return (comp.__emits = normalized);\r\n}\r\n// Check if an incoming prop key is a declared emit event listener.\r\n// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are\r\n// both considered matched listeners.\r\nfunction isEmitListener(options, key) {\r\n    if (!options || !isOn(key)) {\r\n        return false;\r\n    }\r\n    key = key.slice(2).replace(/Once$/, '');\r\n    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||\r\n        hasOwn(options, hyphenate(key)) ||\r\n        hasOwn(options, key));\r\n}\n\nlet isRenderingCompiledSlot = 0;\r\nconst setCompiledSlotRendering = (n) => (isRenderingCompiledSlot += n);\r\n/**\r\n * Compiler runtime helper for rendering `<slot/>`\r\n * @private\r\n */\r\nfunction renderSlot(slots, name, props = {}, \r\n// this is not a user-facing function, so the fallback is always generated by\r\n// the compiler and guaranteed to be a function returning an array\r\nfallback, noSlotted) {\r\n    let slot = slots[name];\r\n    if ((process.env.NODE_ENV !== 'production') && slot && slot.length > 1) {\r\n        warn(`SSR-optimized slot function detected in a non-SSR-optimized render ` +\r\n            `function. You need to mark this component with $dynamic-slots in the ` +\r\n            `parent template.`);\r\n        slot = () => [];\r\n    }\r\n    // a compiled slot disables block tracking by default to avoid manual\r\n    // invocation interfering with template-based block tracking, but in\r\n    // `renderSlot` we can be sure that it's template-based so we can force\r\n    // enable it.\r\n    isRenderingCompiledSlot++;\r\n    openBlock();\r\n    const validSlotContent = slot && ensureValidVNode(slot(props));\r\n    const rendered = createBlock(Fragment, { key: props.key || `_${name}` }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 /* STABLE */\r\n        ? 64 /* STABLE_FRAGMENT */\r\n        : -2 /* BAIL */);\r\n    if (!noSlotted && rendered.scopeId) {\r\n        rendered.slotScopeIds = [rendered.scopeId + '-s'];\r\n    }\r\n    isRenderingCompiledSlot--;\r\n    return rendered;\r\n}\r\nfunction ensureValidVNode(vnodes) {\r\n    return vnodes.some(child => {\r\n        if (!isVNode(child))\r\n            return true;\r\n        if (child.type === Comment)\r\n            return false;\r\n        if (child.type === Fragment &&\r\n            !ensureValidVNode(child.children))\r\n            return false;\r\n        return true;\r\n    })\r\n        ? vnodes\r\n        : null;\r\n}\n\n/**\r\n * mark the current rendering instance for asset resolution (e.g.\r\n * resolveComponent, resolveDirective) during render\r\n */\r\nlet currentRenderingInstance = null;\r\nlet currentScopeId = null;\r\n/**\r\n * Note: rendering calls maybe nested. The function returns the parent rendering\r\n * instance if present, which should be restored after the render is done:\r\n *\r\n * ```js\r\n * const prev = setCurrentRenderingInstance(i)\r\n * // ...render\r\n * setCurrentRenderingInstance(prev)\r\n * ```\r\n */\r\nfunction setCurrentRenderingInstance(instance) {\r\n    const prev = currentRenderingInstance;\r\n    currentRenderingInstance = instance;\r\n    currentScopeId = (instance && instance.type.__scopeId) || null;\r\n    return prev;\r\n}\r\n/**\r\n * Set scope id when creating hoisted vnodes.\r\n * @private compiler helper\r\n */\r\nfunction pushScopeId(id) {\r\n    currentScopeId = id;\r\n}\r\n/**\r\n * Technically we no longer need this after 3.0.8 but we need to keep the same\r\n * API for backwards compat w/ code generated by compilers.\r\n * @private\r\n */\r\nfunction popScopeId() {\r\n    currentScopeId = null;\r\n}\r\n/**\r\n * Only for backwards compat\r\n * @private\r\n */\r\nconst withScopeId = (_id) => withCtx;\r\n/**\r\n * Wrap a slot function to memoize current rendering instance\r\n * @private compiler helper\r\n */\r\nfunction withCtx(fn, ctx = currentRenderingInstance) {\r\n    if (!ctx)\r\n        return fn;\r\n    const renderFnWithContext = (...args) => {\r\n        // If a user calls a compiled slot inside a template expression (#1745), it\r\n        // can mess up block tracking, so by default we need to push a null block to\r\n        // avoid that. This isn't necessary if rendering a compiled `<slot>`.\r\n        if (!isRenderingCompiledSlot) {\r\n            openBlock(true /* null block that disables tracking */);\r\n        }\r\n        const prevInstance = setCurrentRenderingInstance(ctx);\r\n        const res = fn(...args);\r\n        setCurrentRenderingInstance(prevInstance);\r\n        if (!isRenderingCompiledSlot) {\r\n            closeBlock();\r\n        }\r\n        return res;\r\n    };\r\n    // mark this as a compiled slot function.\r\n    // this is used in vnode.ts -> normalizeChildren() to set the slot\r\n    // rendering flag.\r\n    renderFnWithContext._c = true;\r\n    return renderFnWithContext;\r\n}\n\n/**\r\n * dev only flag to track whether $attrs was used during render.\r\n * If $attrs was used during render then the warning for failed attrs\r\n * fallthrough can be suppressed.\r\n */\r\nlet accessedAttrs = false;\r\nfunction markAttrsAccessed() {\r\n    accessedAttrs = true;\r\n}\r\nfunction renderComponentRoot(instance) {\r\n    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx } = instance;\r\n    let result;\r\n    const prev = setCurrentRenderingInstance(instance);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        accessedAttrs = false;\r\n    }\r\n    try {\r\n        let fallthroughAttrs;\r\n        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {\r\n            // withProxy is a proxy with a different `has` trap only for\r\n            // runtime-compiled render functions using `with` block.\r\n            const proxyToUse = withProxy || proxy;\r\n            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));\r\n            fallthroughAttrs = attrs;\r\n        }\r\n        else {\r\n            // functional\r\n            const render = Component;\r\n            // in dev, mark attrs accessed if optional props (attrs === props)\r\n            if ((process.env.NODE_ENV !== 'production') && attrs === props) {\r\n                markAttrsAccessed();\r\n            }\r\n            result = normalizeVNode(render.length > 1\r\n                ? render(props, (process.env.NODE_ENV !== 'production')\r\n                    ? {\r\n                        get attrs() {\r\n                            markAttrsAccessed();\r\n                            return attrs;\r\n                        },\r\n                        slots,\r\n                        emit\r\n                    }\r\n                    : { attrs, slots, emit })\r\n                : render(props, null /* we know it doesn't need it */));\r\n            fallthroughAttrs = Component.props\r\n                ? attrs\r\n                : getFunctionalFallthrough(attrs);\r\n        }\r\n        // attr merging\r\n        // in dev mode, comments are preserved, and it's possible for a template\r\n        // to have comments along side the root element which makes it a fragment\r\n        let root = result;\r\n        let setRoot = undefined;\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            result.patchFlag > 0 &&\r\n            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) {\r\n            ;\r\n            [root, setRoot] = getChildRoot(result);\r\n        }\r\n        if (Component.inheritAttrs !== false && fallthroughAttrs) {\r\n            const keys = Object.keys(fallthroughAttrs);\r\n            const { shapeFlag } = root;\r\n            if (keys.length) {\r\n                if (shapeFlag & 1 /* ELEMENT */ ||\r\n                    shapeFlag & 6 /* COMPONENT */) {\r\n                    if (propsOptions && keys.some(isModelListener)) {\r\n                        // If a v-model listener (onUpdate:xxx) has a corresponding declared\r\n                        // prop, it indicates this component expects to handle v-model and\r\n                        // it should not fallthrough.\r\n                        // related: #1543, #1643, #1989\r\n                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);\r\n                    }\r\n                    root = cloneVNode(root, fallthroughAttrs);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production') && !accessedAttrs && root.type !== Comment) {\r\n                    const allAttrs = Object.keys(attrs);\r\n                    const eventAttrs = [];\r\n                    const extraAttrs = [];\r\n                    for (let i = 0, l = allAttrs.length; i < l; i++) {\r\n                        const key = allAttrs[i];\r\n                        if (isOn(key)) {\r\n                            // ignore v-model handlers when they fail to fallthrough\r\n                            if (!isModelListener(key)) {\r\n                                // remove `on`, lowercase first letter to reflect event casing\r\n                                // accurately\r\n                                eventAttrs.push(key[2].toLowerCase() + key.slice(3));\r\n                            }\r\n                        }\r\n                        else {\r\n                            extraAttrs.push(key);\r\n                        }\r\n                    }\r\n                    if (extraAttrs.length) {\r\n                        warn(`Extraneous non-props attributes (` +\r\n                            `${extraAttrs.join(', ')}) ` +\r\n                            `were passed to component but could not be automatically inherited ` +\r\n                            `because component renders fragment or text root nodes.`);\r\n                    }\r\n                    if (eventAttrs.length) {\r\n                        warn(`Extraneous non-emits event listeners (` +\r\n                            `${eventAttrs.join(', ')}) ` +\r\n                            `were passed to component but could not be automatically inherited ` +\r\n                            `because component renders fragment or text root nodes. ` +\r\n                            `If the listener is intended to be a component custom event listener only, ` +\r\n                            `declare it using the \"emits\" option.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inherit directives\r\n        if (vnode.dirs) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n                warn(`Runtime directive used on component with non-element root node. ` +\r\n                    `The directives will not function as intended.`);\r\n            }\r\n            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\r\n        }\r\n        // inherit transition data\r\n        if (vnode.transition) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n                warn(`Component inside <Transition> renders non-element root node ` +\r\n                    `that cannot be animated.`);\r\n            }\r\n            root.transition = vnode.transition;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && setRoot) {\r\n            setRoot(root);\r\n        }\r\n        else {\r\n            result = root;\r\n        }\r\n    }\r\n    catch (err) {\r\n        blockStack.length = 0;\r\n        handleError(err, instance, 1 /* RENDER_FUNCTION */);\r\n        result = createVNode(Comment);\r\n    }\r\n    setCurrentRenderingInstance(prev);\r\n    return result;\r\n}\r\n/**\r\n * dev only\r\n * In dev mode, template root level comments are rendered, which turns the\r\n * template into a fragment root, but we need to locate the single element\r\n * root for attrs and scope id processing.\r\n */\r\nconst getChildRoot = (vnode) => {\r\n    const rawChildren = vnode.children;\r\n    const dynamicChildren = vnode.dynamicChildren;\r\n    const childRoot = filterSingleRoot(rawChildren);\r\n    if (!childRoot) {\r\n        return [vnode, undefined];\r\n    }\r\n    const index = rawChildren.indexOf(childRoot);\r\n    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\r\n    const setRoot = (updatedRoot) => {\r\n        rawChildren[index] = updatedRoot;\r\n        if (dynamicChildren) {\r\n            if (dynamicIndex > -1) {\r\n                dynamicChildren[dynamicIndex] = updatedRoot;\r\n            }\r\n            else if (updatedRoot.patchFlag > 0) {\r\n                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\r\n            }\r\n        }\r\n    };\r\n    return [normalizeVNode(childRoot), setRoot];\r\n};\r\nfunction filterSingleRoot(children) {\r\n    let singleRoot;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        if (isVNode(child)) {\r\n            // ignore user comment\r\n            if (child.type !== Comment || child.children === 'v-if') {\r\n                if (singleRoot) {\r\n                    // has more than 1 non-comment child, return now\r\n                    return;\r\n                }\r\n                else {\r\n                    singleRoot = child;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    return singleRoot;\r\n}\r\nconst getFunctionalFallthrough = (attrs) => {\r\n    let res;\r\n    for (const key in attrs) {\r\n        if (key === 'class' || key === 'style' || isOn(key)) {\r\n            (res || (res = {}))[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst filterModelListeners = (attrs, props) => {\r\n    const res = {};\r\n    for (const key in attrs) {\r\n        if (!isModelListener(key) || !(key.slice(9) in props)) {\r\n            res[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst isElementRoot = (vnode) => {\r\n    return (vnode.shapeFlag & 6 /* COMPONENT */ ||\r\n        vnode.shapeFlag & 1 /* ELEMENT */ ||\r\n        vnode.type === Comment // potential v-if branch switch\r\n    );\r\n};\r\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\r\n    const { props: prevProps, children: prevChildren, component } = prevVNode;\r\n    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\r\n    const emits = component.emitsOptions;\r\n    // Parent component's render function was hot-updated. Since this may have\r\n    // caused the child component's slots content to have changed, we need to\r\n    // force the child to update as well.\r\n    if ((process.env.NODE_ENV !== 'production') && (prevChildren || nextChildren) && isHmrUpdating) {\r\n        return true;\r\n    }\r\n    // force child update for runtime directive or transition on component vnode.\r\n    if (nextVNode.dirs || nextVNode.transition) {\r\n        return true;\r\n    }\r\n    if (optimized && patchFlag >= 0) {\r\n        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {\r\n            // slot content that references values that might have changed,\r\n            // e.g. in a v-for\r\n            return true;\r\n        }\r\n        if (patchFlag & 16 /* FULL_PROPS */) {\r\n            if (!prevProps) {\r\n                return !!nextProps;\r\n            }\r\n            // presence of this flag indicates props are always non-null\r\n            return hasPropsChanged(prevProps, nextProps, emits);\r\n        }\r\n        else if (patchFlag & 8 /* PROPS */) {\r\n            const dynamicProps = nextVNode.dynamicProps;\r\n            for (let i = 0; i < dynamicProps.length; i++) {\r\n                const key = dynamicProps[i];\r\n                if (nextProps[key] !== prevProps[key] &&\r\n                    !isEmitListener(emits, key)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // this path is only taken by manually written render functions\r\n        // so presence of any children leads to a forced update\r\n        if (prevChildren || nextChildren) {\r\n            if (!nextChildren || !nextChildren.$stable) {\r\n                return true;\r\n            }\r\n        }\r\n        if (prevProps === nextProps) {\r\n            return false;\r\n        }\r\n        if (!prevProps) {\r\n            return !!nextProps;\r\n        }\r\n        if (!nextProps) {\r\n            return true;\r\n        }\r\n        return hasPropsChanged(prevProps, nextProps, emits);\r\n    }\r\n    return false;\r\n}\r\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\r\n    const nextKeys = Object.keys(nextProps);\r\n    if (nextKeys.length !== Object.keys(prevProps).length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < nextKeys.length; i++) {\r\n        const key = nextKeys[i];\r\n        if (nextProps[key] !== prevProps[key] &&\r\n            !isEmitListener(emitsOptions, key)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction updateHOCHostEl({ vnode, parent }, el // HostNode\r\n) {\r\n    while (parent && parent.subTree === vnode) {\r\n        (vnode = parent.vnode).el = el;\r\n        parent = parent.parent;\r\n    }\r\n}\n\nconst isSuspense = (type) => type.__isSuspense;\r\n// Suspense exposes a component-like API, and is treated like a component\r\n// in the compiler, but internally it's a special built-in type that hooks\r\n// directly into the renderer.\r\nconst SuspenseImpl = {\r\n    name: 'Suspense',\r\n    // In order to make Suspense tree-shakable, we need to avoid importing it\r\n    // directly in the renderer. The renderer checks for the __isSuspense flag\r\n    // on a vnode's type and calls the `process` method, passing in renderer\r\n    // internals.\r\n    __isSuspense: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, \r\n    // platform-specific impl passed from renderer\r\n    rendererInternals) {\r\n        if (n1 == null) {\r\n            mountSuspense(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n        else {\r\n            patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n    },\r\n    hydrate: hydrateSuspense,\r\n    create: createSuspenseBoundary\r\n};\r\n// Force-casted public typing for h and TSX props inference\r\nconst Suspense = (SuspenseImpl\r\n    );\r\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\r\n    const { p: patch, o: { createElement } } = rendererInternals;\r\n    const hiddenContainer = createElement('div');\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals));\r\n    // start mounting the content subtree in an off-dom container\r\n    patch(null, (suspense.pendingBranch = vnode.ssContent), hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds);\r\n    // now check if we have encountered any async deps\r\n    if (suspense.deps > 0) {\r\n        // has async\r\n        // mount the fallback tree\r\n        patch(null, vnode.ssFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n        isSVG, slotScopeIds);\r\n        setActiveBranch(suspense, vnode.ssFallback);\r\n    }\r\n    else {\r\n        // Suspense has no async deps. Just resolve.\r\n        suspense.resolve();\r\n    }\r\n}\r\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\r\n    const suspense = (n2.suspense = n1.suspense);\r\n    suspense.vnode = n2;\r\n    n2.el = n1.el;\r\n    const newBranch = n2.ssContent;\r\n    const newFallback = n2.ssFallback;\r\n    const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\r\n    if (pendingBranch) {\r\n        suspense.pendingBranch = newBranch;\r\n        if (isSameVNodeType(newBranch, pendingBranch)) {\r\n            // same root type but content may have changed.\r\n            patch(pendingBranch, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                suspense.resolve();\r\n            }\r\n            else if (isInFallback) {\r\n                patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, newFallback);\r\n            }\r\n        }\r\n        else {\r\n            // toggled before pending tree is resolved\r\n            suspense.pendingId++;\r\n            if (isHydrating) {\r\n                // if toggled before hydration is finished, the current DOM tree is\r\n                // no longer valid. set it as the active branch so it will be unmounted\r\n                // when resolved\r\n                suspense.isHydrating = false;\r\n                suspense.activeBranch = pendingBranch;\r\n            }\r\n            else {\r\n                unmount(pendingBranch, parentComponent, suspense);\r\n            }\r\n            // increment pending ID. this is used to invalidate async callbacks\r\n            // reset suspense state\r\n            suspense.deps = 0;\r\n            // discard effects from pending branch\r\n            suspense.effects.length = 0;\r\n            // discard previous container\r\n            suspense.hiddenContainer = createElement('div');\r\n            if (isInFallback) {\r\n                // already in fallback state\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n                else {\r\n                    patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                    isSVG, slotScopeIds, optimized);\r\n                    setActiveBranch(suspense, newFallback);\r\n                }\r\n            }\r\n            else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n                // toggled \"back\" to current active branch\r\n                patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                // force resolve\r\n                suspense.resolve(true);\r\n            }\r\n            else {\r\n                // switched to a 3rd branch\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n            // root did not change, just normal patch\r\n            patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            setActiveBranch(suspense, newBranch);\r\n        }\r\n        else {\r\n            // root node toggled\r\n            // invoke @pending event\r\n            const onPending = n2.props && n2.props.onPending;\r\n            if (isFunction(onPending)) {\r\n                onPending();\r\n            }\r\n            // mount pending branch in off-dom container\r\n            suspense.pendingBranch = newBranch;\r\n            suspense.pendingId++;\r\n            patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                // incoming branch has no async deps, resolve now.\r\n                suspense.resolve();\r\n            }\r\n            else {\r\n                const { timeout, pendingId } = suspense;\r\n                if (timeout > 0) {\r\n                    setTimeout(() => {\r\n                        if (suspense.pendingId === pendingId) {\r\n                            suspense.fallback(newFallback);\r\n                        }\r\n                    }, timeout);\r\n                }\r\n                else if (timeout === 0) {\r\n                    suspense.fallback(newFallback);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet hasWarned = false;\r\nfunction createSuspenseBoundary(vnode, parent, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\r\n    /* istanbul ignore if */\r\n    if ((process.env.NODE_ENV !== 'production') && !false && !hasWarned) {\r\n        hasWarned = true;\r\n        // @ts-ignore `console.info` cannot be null error\r\n        console[console.info ? 'info' : 'log'](`<Suspense> is an experimental feature and its API will likely change.`);\r\n    }\r\n    const { p: patch, m: move, um: unmount, n: next, o: { parentNode, remove } } = rendererInternals;\r\n    const timeout = toNumber(vnode.props && vnode.props.timeout);\r\n    const suspense = {\r\n        vnode,\r\n        parent,\r\n        parentComponent,\r\n        isSVG,\r\n        container,\r\n        hiddenContainer,\r\n        anchor,\r\n        deps: 0,\r\n        pendingId: 0,\r\n        timeout: typeof timeout === 'number' ? timeout : -1,\r\n        activeBranch: null,\r\n        pendingBranch: null,\r\n        isInFallback: true,\r\n        isHydrating,\r\n        isUnmounted: false,\r\n        effects: [],\r\n        resolve(resume = false) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!resume && !suspense.pendingBranch) {\r\n                    throw new Error(`suspense.resolve() is called without a pending branch.`);\r\n                }\r\n                if (suspense.isUnmounted) {\r\n                    throw new Error(`suspense.resolve() is called on an already unmounted suspense boundary.`);\r\n                }\r\n            }\r\n            const { vnode, activeBranch, pendingBranch, pendingId, effects, parentComponent, container } = suspense;\r\n            if (suspense.isHydrating) {\r\n                suspense.isHydrating = false;\r\n            }\r\n            else if (!resume) {\r\n                const delayEnter = activeBranch &&\r\n                    pendingBranch.transition &&\r\n                    pendingBranch.transition.mode === 'out-in';\r\n                if (delayEnter) {\r\n                    activeBranch.transition.afterLeave = () => {\r\n                        if (pendingId === suspense.pendingId) {\r\n                            move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                        }\r\n                    };\r\n                }\r\n                // this is initial anchor on mount\r\n                let { anchor } = suspense;\r\n                // unmount current active tree\r\n                if (activeBranch) {\r\n                    // if the fallback tree was mounted, it may have been moved\r\n                    // as part of a parent suspense. get the latest anchor for insertion\r\n                    anchor = next(activeBranch);\r\n                    unmount(activeBranch, parentComponent, suspense, true);\r\n                }\r\n                if (!delayEnter) {\r\n                    // move content from off-dom container to actual container\r\n                    move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                }\r\n            }\r\n            setActiveBranch(suspense, pendingBranch);\r\n            suspense.pendingBranch = null;\r\n            suspense.isInFallback = false;\r\n            // flush buffered effects\r\n            // check if there is a pending parent suspense\r\n            let parent = suspense.parent;\r\n            let hasUnresolvedAncestor = false;\r\n            while (parent) {\r\n                if (parent.pendingBranch) {\r\n                    // found a pending parent suspense, merge buffered post jobs\r\n                    // into that parent\r\n                    parent.effects.push(...effects);\r\n                    hasUnresolvedAncestor = true;\r\n                    break;\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n            // no pending parent suspense, flush all jobs\r\n            if (!hasUnresolvedAncestor) {\r\n                queuePostFlushCb(effects);\r\n            }\r\n            suspense.effects = [];\r\n            // invoke @resolve event\r\n            const onResolve = vnode.props && vnode.props.onResolve;\r\n            if (isFunction(onResolve)) {\r\n                onResolve();\r\n            }\r\n        },\r\n        fallback(fallbackVNode) {\r\n            if (!suspense.pendingBranch) {\r\n                return;\r\n            }\r\n            const { vnode, activeBranch, parentComponent, container, isSVG } = suspense;\r\n            // invoke @fallback event\r\n            const onFallback = vnode.props && vnode.props.onFallback;\r\n            if (isFunction(onFallback)) {\r\n                onFallback();\r\n            }\r\n            const anchor = next(activeBranch);\r\n            const mountFallback = () => {\r\n                if (!suspense.isInFallback) {\r\n                    return;\r\n                }\r\n                // mount the fallback tree\r\n                patch(null, fallbackVNode, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, fallbackVNode);\r\n            };\r\n            const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === 'out-in';\r\n            if (delayEnter) {\r\n                activeBranch.transition.afterLeave = mountFallback;\r\n            }\r\n            // unmount current active branch\r\n            unmount(activeBranch, parentComponent, null, // no suspense so unmount hooks fire now\r\n            true // shouldRemove\r\n            );\r\n            suspense.isInFallback = true;\r\n            if (!delayEnter) {\r\n                mountFallback();\r\n            }\r\n        },\r\n        move(container, anchor, type) {\r\n            suspense.activeBranch &&\r\n                move(suspense.activeBranch, container, anchor, type);\r\n            suspense.container = container;\r\n        },\r\n        next() {\r\n            return suspense.activeBranch && next(suspense.activeBranch);\r\n        },\r\n        registerDep(instance, setupRenderEffect) {\r\n            const isInPendingSuspense = !!suspense.pendingBranch;\r\n            if (isInPendingSuspense) {\r\n                suspense.deps++;\r\n            }\r\n            const hydratedEl = instance.vnode.el;\r\n            instance\r\n                .asyncDep.catch(err => {\r\n                handleError(err, instance, 0 /* SETUP_FUNCTION */);\r\n            })\r\n                .then(asyncSetupResult => {\r\n                // retry when the setup() promise resolves.\r\n                // component may have been unmounted before resolve.\r\n                if (instance.isUnmounted ||\r\n                    suspense.isUnmounted ||\r\n                    suspense.pendingId !== instance.suspenseId) {\r\n                    return;\r\n                }\r\n                // retry from this component\r\n                instance.asyncResolved = true;\r\n                const { vnode } = instance;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(vnode);\r\n                }\r\n                handleSetupResult(instance, asyncSetupResult, false);\r\n                if (hydratedEl) {\r\n                    // vnode may have been replaced if an update happened before the\r\n                    // async dep is resolved.\r\n                    vnode.el = hydratedEl;\r\n                }\r\n                const placeholder = !hydratedEl && instance.subTree.el;\r\n                setupRenderEffect(instance, vnode, \r\n                // component may have been moved before resolve.\r\n                // if this is not a hydration, instance.subTree will be the comment\r\n                // placeholder.\r\n                parentNode(hydratedEl || instance.subTree.el), \r\n                // anchor will not be used if this is hydration, so only need to\r\n                // consider the comment placeholder case.\r\n                hydratedEl ? null : next(instance.subTree), suspense, isSVG, optimized);\r\n                if (placeholder) {\r\n                    remove(placeholder);\r\n                }\r\n                updateHOCHostEl(instance, vnode.el);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                // only decrease deps count if suspense is not already resolved\r\n                if (isInPendingSuspense && --suspense.deps === 0) {\r\n                    suspense.resolve();\r\n                }\r\n            });\r\n        },\r\n        unmount(parentSuspense, doRemove) {\r\n            suspense.isUnmounted = true;\r\n            if (suspense.activeBranch) {\r\n                unmount(suspense.activeBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n            if (suspense.pendingBranch) {\r\n                unmount(suspense.pendingBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n        }\r\n    };\r\n    return suspense;\r\n}\r\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\r\n    /* eslint-disable no-restricted-globals */\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, node.parentNode, document.createElement('div'), null, isSVG, slotScopeIds, optimized, rendererInternals, true /* hydrating */));\r\n    // there are two possible scenarios for server-rendered suspense:\r\n    // - success: ssr content should be fully resolved\r\n    // - failure: ssr content should be the fallback branch.\r\n    // however, on the client we don't really know if it has failed or not\r\n    // attempt to hydrate the DOM assuming it has succeeded, but we still\r\n    // need to construct a suspense boundary first\r\n    const result = hydrateNode(node, (suspense.pendingBranch = vnode.ssContent), parentComponent, suspense, slotScopeIds, optimized);\r\n    if (suspense.deps === 0) {\r\n        suspense.resolve();\r\n    }\r\n    return result;\r\n    /* eslint-enable no-restricted-globals */\r\n}\r\nfunction normalizeSuspenseChildren(vnode) {\r\n    const { shapeFlag, children } = vnode;\r\n    let content;\r\n    let fallback;\r\n    if (shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        content = normalizeSuspenseSlot(children.default);\r\n        fallback = normalizeSuspenseSlot(children.fallback);\r\n    }\r\n    else {\r\n        content = normalizeSuspenseSlot(children);\r\n        fallback = normalizeVNode(null);\r\n    }\r\n    return {\r\n        content,\r\n        fallback\r\n    };\r\n}\r\nfunction normalizeSuspenseSlot(s) {\r\n    if (isFunction(s)) {\r\n        s = s();\r\n    }\r\n    if (isArray(s)) {\r\n        const singleChild = filterSingleRoot(s);\r\n        if ((process.env.NODE_ENV !== 'production') && !singleChild) {\r\n            warn(`<Suspense> slots expect a single root node.`);\r\n        }\r\n        s = singleChild;\r\n    }\r\n    return normalizeVNode(s);\r\n}\r\nfunction queueEffectWithSuspense(fn, suspense) {\r\n    if (suspense && suspense.pendingBranch) {\r\n        if (isArray(fn)) {\r\n            suspense.effects.push(...fn);\r\n        }\r\n        else {\r\n            suspense.effects.push(fn);\r\n        }\r\n    }\r\n    else {\r\n        queuePostFlushCb(fn);\r\n    }\r\n}\r\nfunction setActiveBranch(suspense, branch) {\r\n    suspense.activeBranch = branch;\r\n    const { vnode, parentComponent } = suspense;\r\n    const el = (vnode.el = branch.el);\r\n    // in case suspense is the root node of a component,\r\n    // recursively update the HOC el\r\n    if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el;\r\n        updateHOCHostEl(parentComponent, el);\r\n    }\r\n}\n\nfunction initProps(instance, rawProps, isStateful, // result of bitwise flag comparison\r\nisSSR = false) {\r\n    const props = {};\r\n    const attrs = {};\r\n    def(attrs, InternalObjectKey, 1);\r\n    instance.propsDefaults = Object.create(null);\r\n    setFullProps(instance, rawProps, props, attrs);\r\n    // validation\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n    if (isStateful) {\r\n        // stateful\r\n        instance.props = isSSR ? props : shallowReactive(props);\r\n    }\r\n    else {\r\n        if (!instance.type.props) {\r\n            // functional w/ optional props, props === attrs\r\n            instance.props = attrs;\r\n        }\r\n        else {\r\n            // functional w/ declared props\r\n            instance.props = props;\r\n        }\r\n    }\r\n    instance.attrs = attrs;\r\n}\r\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\r\n    const { props, attrs, vnode: { patchFlag } } = instance;\r\n    const rawCurrentProps = toRaw(props);\r\n    const [options] = instance.propsOptions;\r\n    if (\r\n    // always force full diff in dev\r\n    // - #1942 if hmr is enabled with sfc component\r\n    // - vite#872 non-sfc component used by sfc component\r\n    !((process.env.NODE_ENV !== 'production') &&\r\n        (instance.type.__hmrId ||\r\n            (instance.parent && instance.parent.type.__hmrId))) &&\r\n        (optimized || patchFlag > 0) &&\r\n        !(patchFlag & 16 /* FULL_PROPS */)) {\r\n        if (patchFlag & 8 /* PROPS */) {\r\n            // Compiler-generated props & no keys change, just set the updated\r\n            // the props.\r\n            const propsToUpdate = instance.vnode.dynamicProps;\r\n            for (let i = 0; i < propsToUpdate.length; i++) {\r\n                const key = propsToUpdate[i];\r\n                // PROPS flag guarantees rawProps to be non-null\r\n                const value = rawProps[key];\r\n                if (options) {\r\n                    // attr / props separation was done on init and will be consistent\r\n                    // in this code path, so just check if attrs have it.\r\n                    if (hasOwn(attrs, key)) {\r\n                        attrs[key] = value;\r\n                    }\r\n                    else {\r\n                        const camelizedKey = camelize(key);\r\n                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance);\r\n                    }\r\n                }\r\n                else {\r\n                    attrs[key] = value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // full props update.\r\n        setFullProps(instance, rawProps, props, attrs);\r\n        // in case of dynamic props, check if we need to delete keys from\r\n        // the props object\r\n        let kebabKey;\r\n        for (const key in rawCurrentProps) {\r\n            if (!rawProps ||\r\n                // for camelCase\r\n                (!hasOwn(rawProps, key) &&\r\n                    // it's possible the original props was passed in as kebab-case\r\n                    // and converted to camelCase (#955)\r\n                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {\r\n                if (options) {\r\n                    if (rawPrevProps &&\r\n                        // for camelCase\r\n                        (rawPrevProps[key] !== undefined ||\r\n                            // for kebab-case\r\n                            rawPrevProps[kebabKey] !== undefined)) {\r\n                        props[key] = resolvePropValue(options, rawProps || EMPTY_OBJ, key, undefined, instance);\r\n                    }\r\n                }\r\n                else {\r\n                    delete props[key];\r\n                }\r\n            }\r\n        }\r\n        // in the case of functional component w/o props declaration, props and\r\n        // attrs point to the same object so it should already have been updated.\r\n        if (attrs !== rawCurrentProps) {\r\n            for (const key in attrs) {\r\n                if (!rawProps || !hasOwn(rawProps, key)) {\r\n                    delete attrs[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // trigger updates for $attrs in case it's used in component slots\r\n    trigger(instance, \"set\" /* SET */, '$attrs');\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n}\r\nfunction setFullProps(instance, rawProps, props, attrs) {\r\n    const [options, needCastKeys] = instance.propsOptions;\r\n    if (rawProps) {\r\n        for (const key in rawProps) {\r\n            const value = rawProps[key];\r\n            // key, ref are reserved and never passed down\r\n            if (isReservedProp(key)) {\r\n                continue;\r\n            }\r\n            // prop option names are camelized during normalization, so to support\r\n            // kebab -> camel conversion here we need to camelize the key.\r\n            let camelKey;\r\n            if (options && hasOwn(options, (camelKey = camelize(key)))) {\r\n                props[camelKey] = value;\r\n            }\r\n            else if (!isEmitListener(instance.emitsOptions, key)) {\r\n                // Any non-declared (either as a prop or an emitted event) props are put\r\n                // into a separate `attrs` object for spreading. Make sure to preserve\r\n                // original key casing\r\n                attrs[key] = value;\r\n            }\r\n        }\r\n    }\r\n    if (needCastKeys) {\r\n        const rawCurrentProps = toRaw(props);\r\n        for (let i = 0; i < needCastKeys.length; i++) {\r\n            const key = needCastKeys[i];\r\n            props[key] = resolvePropValue(options, rawCurrentProps, key, rawCurrentProps[key], instance);\r\n        }\r\n    }\r\n}\r\nfunction resolvePropValue(options, props, key, value, instance) {\r\n    const opt = options[key];\r\n    if (opt != null) {\r\n        const hasDefault = hasOwn(opt, 'default');\r\n        // default values\r\n        if (hasDefault && value === undefined) {\r\n            const defaultValue = opt.default;\r\n            if (opt.type !== Function && isFunction(defaultValue)) {\r\n                const { propsDefaults } = instance;\r\n                if (key in propsDefaults) {\r\n                    value = propsDefaults[key];\r\n                }\r\n                else {\r\n                    setCurrentInstance(instance);\r\n                    value = propsDefaults[key] = defaultValue(props);\r\n                    setCurrentInstance(null);\r\n                }\r\n            }\r\n            else {\r\n                value = defaultValue;\r\n            }\r\n        }\r\n        // boolean casting\r\n        if (opt[0 /* shouldCast */]) {\r\n            if (!hasOwn(props, key) && !hasDefault) {\r\n                value = false;\r\n            }\r\n            else if (opt[1 /* shouldCastTrue */] &&\r\n                (value === '' || value === hyphenate(key))) {\r\n                value = true;\r\n            }\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\r\n    if (!appContext.deopt && comp.__props) {\r\n        return comp.__props;\r\n    }\r\n    const raw = comp.props;\r\n    const normalized = {};\r\n    const needCastKeys = [];\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendProps = (raw) => {\r\n            hasExtends = true;\r\n            const [props, keys] = normalizePropsOptions(raw, appContext, true);\r\n            extend(normalized, props);\r\n            if (keys)\r\n                needCastKeys.push(...keys);\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendProps);\r\n        }\r\n        if (comp.extends) {\r\n            extendProps(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendProps);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        return (comp.__props = EMPTY_ARR);\r\n    }\r\n    if (isArray(raw)) {\r\n        for (let i = 0; i < raw.length; i++) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isString(raw[i])) {\r\n                warn(`props must be strings when using array syntax.`, raw[i]);\r\n            }\r\n            const normalizedKey = camelize(raw[i]);\r\n            if (validatePropName(normalizedKey)) {\r\n                normalized[normalizedKey] = EMPTY_OBJ;\r\n            }\r\n        }\r\n    }\r\n    else if (raw) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isObject(raw)) {\r\n            warn(`invalid props options`, raw);\r\n        }\r\n        for (const key in raw) {\r\n            const normalizedKey = camelize(key);\r\n            if (validatePropName(normalizedKey)) {\r\n                const opt = raw[key];\r\n                const prop = (normalized[normalizedKey] =\r\n                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);\r\n                if (prop) {\r\n                    const booleanIndex = getTypeIndex(Boolean, prop.type);\r\n                    const stringIndex = getTypeIndex(String, prop.type);\r\n                    prop[0 /* shouldCast */] = booleanIndex > -1;\r\n                    prop[1 /* shouldCastTrue */] =\r\n                        stringIndex < 0 || booleanIndex < stringIndex;\r\n                    // if the prop needs boolean casting or default value\r\n                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {\r\n                        needCastKeys.push(normalizedKey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return (comp.__props = [normalized, needCastKeys]);\r\n}\r\nfunction validatePropName(key) {\r\n    if (key[0] !== '$') {\r\n        return true;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid prop name: \"${key}\" is a reserved property.`);\r\n    }\r\n    return false;\r\n}\r\n// use function string name to check type constructors\r\n// so that it works across vms / iframes.\r\nfunction getType(ctor) {\r\n    const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/);\r\n    return match ? match[1] : '';\r\n}\r\nfunction isSameType(a, b) {\r\n    return getType(a) === getType(b);\r\n}\r\nfunction getTypeIndex(type, expectedTypes) {\r\n    if (isArray(expectedTypes)) {\r\n        return expectedTypes.findIndex(t => isSameType(t, type));\r\n    }\r\n    else if (isFunction(expectedTypes)) {\r\n        return isSameType(expectedTypes, type) ? 0 : -1;\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProps(rawProps, props, instance) {\r\n    const resolvedValues = toRaw(props);\r\n    const options = instance.propsOptions[0];\r\n    for (const key in options) {\r\n        let opt = options[key];\r\n        if (opt == null)\r\n            continue;\r\n        validateProp(key, resolvedValues[key], opt, !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key)));\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProp(name, value, prop, isAbsent) {\r\n    const { type, required, validator } = prop;\r\n    // required!\r\n    if (required && isAbsent) {\r\n        warn('Missing required prop: \"' + name + '\"');\r\n        return;\r\n    }\r\n    // missing but optional\r\n    if (value == null && !prop.required) {\r\n        return;\r\n    }\r\n    // type check\r\n    if (type != null && type !== true) {\r\n        let isValid = false;\r\n        const types = isArray(type) ? type : [type];\r\n        const expectedTypes = [];\r\n        // value is valid as long as one of the specified types match\r\n        for (let i = 0; i < types.length && !isValid; i++) {\r\n            const { valid, expectedType } = assertType(value, types[i]);\r\n            expectedTypes.push(expectedType || '');\r\n            isValid = valid;\r\n        }\r\n        if (!isValid) {\r\n            warn(getInvalidTypeMessage(name, value, expectedTypes));\r\n            return;\r\n        }\r\n    }\r\n    // custom validator\r\n    if (validator && !validator(value)) {\r\n        warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\r\n    }\r\n}\r\nconst isSimpleType = /*#__PURE__*/ makeMap('String,Number,Boolean,Function,Symbol,BigInt');\r\n/**\r\n * dev only\r\n */\r\nfunction assertType(value, type) {\r\n    let valid;\r\n    const expectedType = getType(type);\r\n    if (isSimpleType(expectedType)) {\r\n        const t = typeof value;\r\n        valid = t === expectedType.toLowerCase();\r\n        // for primitive wrapper objects\r\n        if (!valid && t === 'object') {\r\n            valid = value instanceof type;\r\n        }\r\n    }\r\n    else if (expectedType === 'Object') {\r\n        valid = isObject(value);\r\n    }\r\n    else if (expectedType === 'Array') {\r\n        valid = isArray(value);\r\n    }\r\n    else {\r\n        valid = value instanceof type;\r\n    }\r\n    return {\r\n        valid,\r\n        expectedType\r\n    };\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\r\n    let message = `Invalid prop: type check failed for prop \"${name}\".` +\r\n        ` Expected ${expectedTypes.map(capitalize).join(', ')}`;\r\n    const expectedType = expectedTypes[0];\r\n    const receivedType = toRawType(value);\r\n    const expectedValue = styleValue(value, expectedType);\r\n    const receivedValue = styleValue(value, receivedType);\r\n    // check if we need to specify expected value\r\n    if (expectedTypes.length === 1 &&\r\n        isExplicable(expectedType) &&\r\n        !isBoolean(expectedType, receivedType)) {\r\n        message += ` with value ${expectedValue}`;\r\n    }\r\n    message += `, got ${receivedType} `;\r\n    // check if we need to specify received value\r\n    if (isExplicable(receivedType)) {\r\n        message += `with value ${receivedValue}.`;\r\n    }\r\n    return message;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction styleValue(value, type) {\r\n    if (type === 'String') {\r\n        return `\"${value}\"`;\r\n    }\r\n    else if (type === 'Number') {\r\n        return `${Number(value)}`;\r\n    }\r\n    else {\r\n        return `${value}`;\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isExplicable(type) {\r\n    const explicitTypes = ['string', 'number', 'boolean'];\r\n    return explicitTypes.some(elem => type.toLowerCase() === elem);\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isBoolean(...args) {\r\n    return args.some(elem => elem.toLowerCase() === 'boolean');\r\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\r\n    if (target) {\r\n        const hooks = target[type] || (target[type] = []);\r\n        // cache the error handling wrapper for injected hooks so the same hook\r\n        // can be properly deduped by the scheduler. \"__weh\" stands for \"with error\r\n        // handling\".\r\n        const wrappedHook = hook.__weh ||\r\n            (hook.__weh = (...args) => {\r\n                if (target.isUnmounted) {\r\n                    return;\r\n                }\r\n                // disable tracking inside all lifecycle hooks\r\n                // since they can potentially be called inside effects.\r\n                pauseTracking();\r\n                // Set currentInstance during hook invocation.\r\n                // This assumes the hook does not synchronously trigger other hooks, which\r\n                // can only be false when the user does something really funky.\r\n                setCurrentInstance(target);\r\n                const res = callWithAsyncErrorHandling(hook, target, type, args);\r\n                setCurrentInstance(null);\r\n                resetTracking();\r\n                return res;\r\n            });\r\n        if (prepend) {\r\n            hooks.unshift(wrappedHook);\r\n        }\r\n        else {\r\n            hooks.push(wrappedHook);\r\n        }\r\n        return wrappedHook;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, ''));\r\n        warn(`${apiName} is called when there is no active component instance to be ` +\r\n            `associated with. ` +\r\n            `Lifecycle injection APIs can only be used during execution of setup().` +\r\n            (` If you are using async setup(), make sure to register lifecycle ` +\r\n                    `hooks before the first await statement.`\r\n                ));\r\n    }\r\n}\r\nconst createHook = (lifecycle) => (hook, target = currentInstance) => \r\n// post-create lifecycle registrations are noops during SSR\r\n!isInSSRComponentSetup && injectHook(lifecycle, hook, target);\r\nconst onBeforeMount = createHook(\"bm\" /* BEFORE_MOUNT */);\r\nconst onMounted = createHook(\"m\" /* MOUNTED */);\r\nconst onBeforeUpdate = createHook(\"bu\" /* BEFORE_UPDATE */);\r\nconst onUpdated = createHook(\"u\" /* UPDATED */);\r\nconst onBeforeUnmount = createHook(\"bum\" /* BEFORE_UNMOUNT */);\r\nconst onUnmounted = createHook(\"um\" /* UNMOUNTED */);\r\nconst onRenderTriggered = createHook(\"rtg\" /* RENDER_TRIGGERED */);\r\nconst onRenderTracked = createHook(\"rtc\" /* RENDER_TRACKED */);\r\nconst onErrorCaptured = (hook, target = currentInstance) => {\r\n    injectHook(\"ec\" /* ERROR_CAPTURED */, hook, target);\r\n};\n\n// Simple effect.\r\nfunction watchEffect(effect, options) {\r\n    return doWatch(effect, null, options);\r\n}\r\n// initial value for watchers to trigger on undefined initial values\r\nconst INITIAL_WATCHER_VALUE = {};\r\n// implementation\r\nfunction watch(source, cb, options) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(cb)) {\r\n        warn(`\\`watch(fn, options?)\\` signature has been moved to a separate API. ` +\r\n            `Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only ` +\r\n            `supports \\`watch(source, cb, options?) signature.`);\r\n    }\r\n    return doWatch(source, cb, options);\r\n}\r\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {\r\n    if ((process.env.NODE_ENV !== 'production') && !cb) {\r\n        if (immediate !== undefined) {\r\n            warn(`watch() \"immediate\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n        if (deep !== undefined) {\r\n            warn(`watch() \"deep\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n    }\r\n    const warnInvalidSource = (s) => {\r\n        warn(`Invalid watch source: `, s, `A watch source can only be a getter/effect function, a ref, ` +\r\n            `a reactive object, or an array of these types.`);\r\n    };\r\n    let getter;\r\n    let forceTrigger = false;\r\n    if (isRef(source)) {\r\n        getter = () => source.value;\r\n        forceTrigger = !!source._shallow;\r\n    }\r\n    else if (isReactive(source)) {\r\n        getter = () => source;\r\n        deep = true;\r\n    }\r\n    else if (isArray(source)) {\r\n        getter = () => source.map(s => {\r\n            if (isRef(s)) {\r\n                return s.value;\r\n            }\r\n            else if (isReactive(s)) {\r\n                return traverse(s);\r\n            }\r\n            else if (isFunction(s)) {\r\n                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */, [\r\n                    instance && instance.proxy\r\n                ]);\r\n            }\r\n            else {\r\n                (process.env.NODE_ENV !== 'production') && warnInvalidSource(s);\r\n            }\r\n        });\r\n    }\r\n    else if (isFunction(source)) {\r\n        if (cb) {\r\n            // getter with cb\r\n            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */, [\r\n                instance && instance.proxy\r\n            ]);\r\n        }\r\n        else {\r\n            // no cb -> simple effect\r\n            getter = () => {\r\n                if (instance && instance.isUnmounted) {\r\n                    return;\r\n                }\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        getter = NOOP;\r\n        (process.env.NODE_ENV !== 'production') && warnInvalidSource(source);\r\n    }\r\n    if (cb && deep) {\r\n        const baseGetter = getter;\r\n        getter = () => traverse(baseGetter());\r\n    }\r\n    let cleanup;\r\n    let onInvalidate = (fn) => {\r\n        cleanup = runner.options.onStop = () => {\r\n            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);\r\n        };\r\n    };\r\n    let oldValue = isArray(source) ? [] : INITIAL_WATCHER_VALUE;\r\n    const job = () => {\r\n        if (!runner.active) {\r\n            return;\r\n        }\r\n        if (cb) {\r\n            // watch(source, cb)\r\n            const newValue = runner();\r\n            if (deep || forceTrigger || hasChanged(newValue, oldValue)) {\r\n                // cleanup before running cb again\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [\r\n                    newValue,\r\n                    // pass undefined as the old value when it's changed for the first time\r\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\r\n                    onInvalidate\r\n                ]);\r\n                oldValue = newValue;\r\n            }\r\n        }\r\n        else {\r\n            // watchEffect\r\n            runner();\r\n        }\r\n    };\r\n    // important: mark the job as a watcher callback so that scheduler knows\r\n    // it is allowed to self-trigger (#1727)\r\n    job.allowRecurse = !!cb;\r\n    let scheduler;\r\n    if (flush === 'sync') {\r\n        scheduler = job;\r\n    }\r\n    else if (flush === 'post') {\r\n        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\r\n    }\r\n    else {\r\n        // default: 'pre'\r\n        scheduler = () => {\r\n            if (!instance || instance.isMounted) {\r\n                queuePreFlushCb(job);\r\n            }\r\n            else {\r\n                // with 'pre' option, the first call must happen before\r\n                // the component is mounted so it is called synchronously.\r\n                job();\r\n            }\r\n        };\r\n    }\r\n    const runner = effect(getter, {\r\n        lazy: true,\r\n        onTrack,\r\n        onTrigger,\r\n        scheduler\r\n    });\r\n    recordInstanceBoundEffect(runner, instance);\r\n    // initial run\r\n    if (cb) {\r\n        if (immediate) {\r\n            job();\r\n        }\r\n        else {\r\n            oldValue = runner();\r\n        }\r\n    }\r\n    else if (flush === 'post') {\r\n        queuePostRenderEffect(runner, instance && instance.suspense);\r\n    }\r\n    else {\r\n        runner();\r\n    }\r\n    return () => {\r\n        stop(runner);\r\n        if (instance) {\r\n            remove(instance.effects, runner);\r\n        }\r\n    };\r\n}\r\n// this.$watch\r\nfunction instanceWatch(source, cb, options) {\r\n    const publicThis = this.proxy;\r\n    const getter = isString(source)\r\n        ? () => publicThis[source]\r\n        : source.bind(publicThis);\r\n    return doWatch(getter, cb.bind(publicThis), options, this);\r\n}\r\nfunction traverse(value, seen = new Set()) {\r\n    if (!isObject(value) || seen.has(value)) {\r\n        return value;\r\n    }\r\n    seen.add(value);\r\n    if (isRef(value)) {\r\n        traverse(value.value, seen);\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            traverse(value[i], seen);\r\n        }\r\n    }\r\n    else if (isSet(value) || isMap(value)) {\r\n        value.forEach((v) => {\r\n            traverse(v, seen);\r\n        });\r\n    }\r\n    else {\r\n        for (const key in value) {\r\n            traverse(value[key], seen);\r\n        }\r\n    }\r\n    return value;\r\n}\n\nfunction useTransitionState() {\r\n    const state = {\r\n        isMounted: false,\r\n        isLeaving: false,\r\n        isUnmounting: false,\r\n        leavingVNodes: new Map()\r\n    };\r\n    onMounted(() => {\r\n        state.isMounted = true;\r\n    });\r\n    onBeforeUnmount(() => {\r\n        state.isUnmounting = true;\r\n    });\r\n    return state;\r\n}\r\nconst TransitionHookValidator = [Function, Array];\r\nconst BaseTransitionImpl = {\r\n    name: `BaseTransition`,\r\n    props: {\r\n        mode: String,\r\n        appear: Boolean,\r\n        persisted: Boolean,\r\n        // enter\r\n        onBeforeEnter: TransitionHookValidator,\r\n        onEnter: TransitionHookValidator,\r\n        onAfterEnter: TransitionHookValidator,\r\n        onEnterCancelled: TransitionHookValidator,\r\n        // leave\r\n        onBeforeLeave: TransitionHookValidator,\r\n        onLeave: TransitionHookValidator,\r\n        onAfterLeave: TransitionHookValidator,\r\n        onLeaveCancelled: TransitionHookValidator,\r\n        // appear\r\n        onBeforeAppear: TransitionHookValidator,\r\n        onAppear: TransitionHookValidator,\r\n        onAfterAppear: TransitionHookValidator,\r\n        onAppearCancelled: TransitionHookValidator\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevTransitionKey;\r\n        return () => {\r\n            const children = slots.default && getTransitionRawChildren(slots.default(), true);\r\n            if (!children || !children.length) {\r\n                return;\r\n            }\r\n            // warn multiple elements\r\n            if ((process.env.NODE_ENV !== 'production') && children.length > 1) {\r\n                warn('<transition> can only be used on a single element or component. Use ' +\r\n                    '<transition-group> for lists.');\r\n            }\r\n            // there's no need to track reactivity for these props so use the raw\r\n            // props for a bit better perf\r\n            const rawProps = toRaw(props);\r\n            const { mode } = rawProps;\r\n            // check mode\r\n            if ((process.env.NODE_ENV !== 'production') && mode && !['in-out', 'out-in', 'default'].includes(mode)) {\r\n                warn(`invalid <transition> mode: ${mode}`);\r\n            }\r\n            // at this point children has a guaranteed length of 1.\r\n            const child = children[0];\r\n            if (state.isLeaving) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            // in the case of <transition><keep-alive/></transition>, we need to\r\n            // compare the type of the kept-alive children.\r\n            const innerChild = getKeepAliveChild(child);\r\n            if (!innerChild) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            const enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);\r\n            setTransitionHooks(innerChild, enterHooks);\r\n            const oldChild = instance.subTree;\r\n            const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\r\n            let transitionKeyChanged = false;\r\n            const { getTransitionKey } = innerChild.type;\r\n            if (getTransitionKey) {\r\n                const key = getTransitionKey();\r\n                if (prevTransitionKey === undefined) {\r\n                    prevTransitionKey = key;\r\n                }\r\n                else if (key !== prevTransitionKey) {\r\n                    prevTransitionKey = key;\r\n                    transitionKeyChanged = true;\r\n                }\r\n            }\r\n            // handle mode\r\n            if (oldInnerChild &&\r\n                oldInnerChild.type !== Comment &&\r\n                (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\r\n                const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);\r\n                // update old tree's hooks in case of dynamic transition\r\n                setTransitionHooks(oldInnerChild, leavingHooks);\r\n                // switching between different views\r\n                if (mode === 'out-in') {\r\n                    state.isLeaving = true;\r\n                    // return placeholder node and queue update when leave finishes\r\n                    leavingHooks.afterLeave = () => {\r\n                        state.isLeaving = false;\r\n                        instance.update();\r\n                    };\r\n                    return emptyPlaceholder(child);\r\n                }\r\n                else if (mode === 'in-out' && innerChild.type !== Comment) {\r\n                    leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\r\n                        const leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);\r\n                        leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\r\n                        // early removal callback\r\n                        el._leaveCb = () => {\r\n                            earlyRemove();\r\n                            el._leaveCb = undefined;\r\n                            delete enterHooks.delayedLeave;\r\n                        };\r\n                        enterHooks.delayedLeave = delayedLeave;\r\n                    };\r\n                }\r\n            }\r\n            return child;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst BaseTransition = BaseTransitionImpl;\r\nfunction getLeavingNodesForType(state, vnode) {\r\n    const { leavingVNodes } = state;\r\n    let leavingVNodesCache = leavingVNodes.get(vnode.type);\r\n    if (!leavingVNodesCache) {\r\n        leavingVNodesCache = Object.create(null);\r\n        leavingVNodes.set(vnode.type, leavingVNodesCache);\r\n    }\r\n    return leavingVNodesCache;\r\n}\r\n// The transition hooks are attached to the vnode as vnode.transition\r\n// and will be called at appropriate timing in the renderer.\r\nfunction resolveTransitionHooks(vnode, props, state, instance) {\r\n    const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;\r\n    const key = String(vnode.key);\r\n    const leavingVNodesCache = getLeavingNodesForType(state, vnode);\r\n    const callHook = (hook, args) => {\r\n        hook &&\r\n            callWithAsyncErrorHandling(hook, instance, 9 /* TRANSITION_HOOK */, args);\r\n    };\r\n    const hooks = {\r\n        mode,\r\n        persisted,\r\n        beforeEnter(el) {\r\n            let hook = onBeforeEnter;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onBeforeAppear || onBeforeEnter;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            // for same element (v-show)\r\n            if (el._leaveCb) {\r\n                el._leaveCb(true /* cancelled */);\r\n            }\r\n            // for toggled element with same key (v-if)\r\n            const leavingVNode = leavingVNodesCache[key];\r\n            if (leavingVNode &&\r\n                isSameVNodeType(vnode, leavingVNode) &&\r\n                leavingVNode.el._leaveCb) {\r\n                // force early removal (not cancelled)\r\n                leavingVNode.el._leaveCb();\r\n            }\r\n            callHook(hook, [el]);\r\n        },\r\n        enter(el) {\r\n            let hook = onEnter;\r\n            let afterHook = onAfterEnter;\r\n            let cancelHook = onEnterCancelled;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onAppear || onEnter;\r\n                    afterHook = onAfterAppear || onAfterEnter;\r\n                    cancelHook = onAppearCancelled || onEnterCancelled;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            let called = false;\r\n            const done = (el._enterCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                if (cancelled) {\r\n                    callHook(cancelHook, [el]);\r\n                }\r\n                else {\r\n                    callHook(afterHook, [el]);\r\n                }\r\n                if (hooks.delayedLeave) {\r\n                    hooks.delayedLeave();\r\n                }\r\n                el._enterCb = undefined;\r\n            });\r\n            if (hook) {\r\n                hook(el, done);\r\n                if (hook.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        leave(el, remove) {\r\n            const key = String(vnode.key);\r\n            if (el._enterCb) {\r\n                el._enterCb(true /* cancelled */);\r\n            }\r\n            if (state.isUnmounting) {\r\n                return remove();\r\n            }\r\n            callHook(onBeforeLeave, [el]);\r\n            let called = false;\r\n            const done = (el._leaveCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                remove();\r\n                if (cancelled) {\r\n                    callHook(onLeaveCancelled, [el]);\r\n                }\r\n                else {\r\n                    callHook(onAfterLeave, [el]);\r\n                }\r\n                el._leaveCb = undefined;\r\n                if (leavingVNodesCache[key] === vnode) {\r\n                    delete leavingVNodesCache[key];\r\n                }\r\n            });\r\n            leavingVNodesCache[key] = vnode;\r\n            if (onLeave) {\r\n                onLeave(el, done);\r\n                if (onLeave.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        clone(vnode) {\r\n            return resolveTransitionHooks(vnode, props, state, instance);\r\n        }\r\n    };\r\n    return hooks;\r\n}\r\n// the placeholder really only handles one special case: KeepAlive\r\n// in the case of a KeepAlive in a leave phase we need to return a KeepAlive\r\n// placeholder with empty content to avoid the KeepAlive instance from being\r\n// unmounted.\r\nfunction emptyPlaceholder(vnode) {\r\n    if (isKeepAlive(vnode)) {\r\n        vnode = cloneVNode(vnode);\r\n        vnode.children = null;\r\n        return vnode;\r\n    }\r\n}\r\nfunction getKeepAliveChild(vnode) {\r\n    return isKeepAlive(vnode)\r\n        ? vnode.children\r\n            ? vnode.children[0]\r\n            : undefined\r\n        : vnode;\r\n}\r\nfunction setTransitionHooks(vnode, hooks) {\r\n    if (vnode.shapeFlag & 6 /* COMPONENT */ && vnode.component) {\r\n        setTransitionHooks(vnode.component.subTree, hooks);\r\n    }\r\n    else if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        vnode.ssContent.transition = hooks.clone(vnode.ssContent);\r\n        vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\r\n    }\r\n    else {\r\n        vnode.transition = hooks;\r\n    }\r\n}\r\nfunction getTransitionRawChildren(children, keepComment = false) {\r\n    let ret = [];\r\n    let keyedFragmentCount = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        // handle fragment children case, e.g. v-for\r\n        if (child.type === Fragment) {\r\n            if (child.patchFlag & 128 /* KEYED_FRAGMENT */)\r\n                keyedFragmentCount++;\r\n            ret = ret.concat(getTransitionRawChildren(child.children, keepComment));\r\n        }\r\n        // comment placeholders should be skipped, e.g. v-if\r\n        else if (keepComment || child.type !== Comment) {\r\n            ret.push(child);\r\n        }\r\n    }\r\n    // #1126 if a transition children list contains multiple sub fragments, these\r\n    // fragments will be merged into a flat children array. Since each v-for\r\n    // fragment may contain different static bindings inside, we need to de-op\r\n    // these children to force full diffs to ensure correct behavior.\r\n    if (keyedFragmentCount > 1) {\r\n        for (let i = 0; i < ret.length; i++) {\r\n            ret[i].patchFlag = -2 /* BAIL */;\r\n        }\r\n    }\r\n    return ret;\r\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\r\nconst KeepAliveImpl = {\r\n    name: `KeepAlive`,\r\n    // Marker for special handling inside the renderer. We are not using a ===\r\n    // check directly on KeepAlive in the renderer, because importing it directly\r\n    // would prevent it from being tree-shaken.\r\n    __isKeepAlive: true,\r\n    props: {\r\n        include: [String, RegExp, Array],\r\n        exclude: [String, RegExp, Array],\r\n        max: [String, Number]\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        // KeepAlive communicates with the instantiated renderer via the\r\n        // ctx where the renderer passes in its internals,\r\n        // and the KeepAlive instance exposes activate/deactivate implementations.\r\n        // The whole point of this is to avoid importing KeepAlive directly in the\r\n        // renderer to facilitate tree-shaking.\r\n        const sharedContext = instance.ctx;\r\n        // if the internal renderer is not registered, it indicates that this is server-side rendering,\r\n        // for KeepAlive, we just need to render its children\r\n        if (!sharedContext.renderer) {\r\n            return slots.default;\r\n        }\r\n        const cache = new Map();\r\n        const keys = new Set();\r\n        let current = null;\r\n        const parentSuspense = instance.suspense;\r\n        const { renderer: { p: patch, m: move, um: _unmount, o: { createElement } } } = sharedContext;\r\n        const storageContainer = createElement('div');\r\n        sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\r\n            const instance = vnode.component;\r\n            move(vnode, container, anchor, 0 /* ENTER */, parentSuspense);\r\n            // in case props have changed\r\n            patch(instance.vnode, vnode, container, anchor, instance, parentSuspense, isSVG, vnode.slotScopeIds, optimized);\r\n            queuePostRenderEffect(() => {\r\n                instance.isDeactivated = false;\r\n                if (instance.a) {\r\n                    invokeArrayFns(instance.a);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n            }, parentSuspense);\r\n        };\r\n        sharedContext.deactivate = (vnode) => {\r\n            const instance = vnode.component;\r\n            move(vnode, storageContainer, null, 1 /* LEAVE */, parentSuspense);\r\n            queuePostRenderEffect(() => {\r\n                if (instance.da) {\r\n                    invokeArrayFns(instance.da);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n                instance.isDeactivated = true;\r\n            }, parentSuspense);\r\n        };\r\n        function unmount(vnode) {\r\n            // reset the shapeFlag so it can be properly unmounted\r\n            resetShapeFlag(vnode);\r\n            _unmount(vnode, instance, parentSuspense);\r\n        }\r\n        function pruneCache(filter) {\r\n            cache.forEach((vnode, key) => {\r\n                const name = getComponentName(vnode.type);\r\n                if (name && (!filter || !filter(name))) {\r\n                    pruneCacheEntry(key);\r\n                }\r\n            });\r\n        }\r\n        function pruneCacheEntry(key) {\r\n            const cached = cache.get(key);\r\n            if (!current || cached.type !== current.type) {\r\n                unmount(cached);\r\n            }\r\n            else if (current) {\r\n                // current active instance should no longer be kept-alive.\r\n                // we can't unmount it now but it might be later, so reset its flag now.\r\n                resetShapeFlag(current);\r\n            }\r\n            cache.delete(key);\r\n            keys.delete(key);\r\n        }\r\n        // prune cache on include/exclude prop change\r\n        watch(() => [props.include, props.exclude], ([include, exclude]) => {\r\n            include && pruneCache(name => matches(include, name));\r\n            exclude && pruneCache(name => !matches(exclude, name));\r\n        }, \r\n        // prune post-render after `current` has been updated\r\n        { flush: 'post', deep: true });\r\n        // cache sub tree after render\r\n        let pendingCacheKey = null;\r\n        const cacheSubtree = () => {\r\n            // fix #1621, the pendingCacheKey could be 0\r\n            if (pendingCacheKey != null) {\r\n                cache.set(pendingCacheKey, getInnerChild(instance.subTree));\r\n            }\r\n        };\r\n        onMounted(cacheSubtree);\r\n        onUpdated(cacheSubtree);\r\n        onBeforeUnmount(() => {\r\n            cache.forEach(cached => {\r\n                const { subTree, suspense } = instance;\r\n                const vnode = getInnerChild(subTree);\r\n                if (cached.type === vnode.type) {\r\n                    // current instance will be unmounted as part of keep-alive's unmount\r\n                    resetShapeFlag(vnode);\r\n                    // but invoke its deactivated hook here\r\n                    const da = vnode.component.da;\r\n                    da && queuePostRenderEffect(da, suspense);\r\n                    return;\r\n                }\r\n                unmount(cached);\r\n            });\r\n        });\r\n        return () => {\r\n            pendingCacheKey = null;\r\n            if (!slots.default) {\r\n                return null;\r\n            }\r\n            const children = slots.default();\r\n            const rawVNode = children[0];\r\n            if (children.length > 1) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`KeepAlive should contain exactly one component child.`);\r\n                }\r\n                current = null;\r\n                return children;\r\n            }\r\n            else if (!isVNode(rawVNode) ||\r\n                (!(rawVNode.shapeFlag & 4 /* STATEFUL_COMPONENT */) &&\r\n                    !(rawVNode.shapeFlag & 128 /* SUSPENSE */))) {\r\n                current = null;\r\n                return rawVNode;\r\n            }\r\n            let vnode = getInnerChild(rawVNode);\r\n            const comp = vnode.type;\r\n            const name = getComponentName(comp);\r\n            const { include, exclude, max } = props;\r\n            if ((include && (!name || !matches(include, name))) ||\r\n                (exclude && name && matches(exclude, name))) {\r\n                current = vnode;\r\n                return rawVNode;\r\n            }\r\n            const key = vnode.key == null ? comp : vnode.key;\r\n            const cachedVNode = cache.get(key);\r\n            // clone vnode if it's reused because we are going to mutate it\r\n            if (vnode.el) {\r\n                vnode = cloneVNode(vnode);\r\n                if (rawVNode.shapeFlag & 128 /* SUSPENSE */) {\r\n                    rawVNode.ssContent = vnode;\r\n                }\r\n            }\r\n            // #1513 it's possible for the returned vnode to be cloned due to attr\r\n            // fallthrough or scopeId, so the vnode here may not be the final vnode\r\n            // that is mounted. Instead of caching it directly, we store the pending\r\n            // key and cache `instance.subTree` (the normalized vnode) in\r\n            // beforeMount/beforeUpdate hooks.\r\n            pendingCacheKey = key;\r\n            if (cachedVNode) {\r\n                // copy over mounted state\r\n                vnode.el = cachedVNode.el;\r\n                vnode.component = cachedVNode.component;\r\n                if (vnode.transition) {\r\n                    // recursively update transition hooks on subTree\r\n                    setTransitionHooks(vnode, vnode.transition);\r\n                }\r\n                // avoid vnode being mounted as fresh\r\n                vnode.shapeFlag |= 512 /* COMPONENT_KEPT_ALIVE */;\r\n                // make this key the freshest\r\n                keys.delete(key);\r\n                keys.add(key);\r\n            }\r\n            else {\r\n                keys.add(key);\r\n                // prune oldest entry\r\n                if (max && keys.size > parseInt(max, 10)) {\r\n                    pruneCacheEntry(keys.values().next().value);\r\n                }\r\n            }\r\n            // avoid vnode being unmounted\r\n            vnode.shapeFlag |= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n            current = vnode;\r\n            return rawVNode;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst KeepAlive = KeepAliveImpl;\r\nfunction matches(pattern, name) {\r\n    if (isArray(pattern)) {\r\n        return pattern.some((p) => matches(p, name));\r\n    }\r\n    else if (isString(pattern)) {\r\n        return pattern.split(',').indexOf(name) > -1;\r\n    }\r\n    else if (pattern.test) {\r\n        return pattern.test(name);\r\n    }\r\n    /* istanbul ignore next */\r\n    return false;\r\n}\r\nfunction onActivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"a\" /* ACTIVATED */, target);\r\n}\r\nfunction onDeactivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"da\" /* DEACTIVATED */, target);\r\n}\r\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\r\n    // cache the deactivate branch check wrapper for injected hooks so the same\r\n    // hook can be properly deduped by the scheduler. \"__wdc\" stands for \"with\r\n    // deactivation check\".\r\n    const wrappedHook = hook.__wdc ||\r\n        (hook.__wdc = () => {\r\n            // only fire the hook if the target instance is NOT in a deactivated branch.\r\n            let current = target;\r\n            while (current) {\r\n                if (current.isDeactivated) {\r\n                    return;\r\n                }\r\n                current = current.parent;\r\n            }\r\n            hook();\r\n        });\r\n    injectHook(type, wrappedHook, target);\r\n    // In addition to registering it on the target instance, we walk up the parent\r\n    // chain and register it on all ancestor instances that are keep-alive roots.\r\n    // This avoids the need to walk the entire component tree when invoking these\r\n    // hooks, and more importantly, avoids the need to track child components in\r\n    // arrays.\r\n    if (target) {\r\n        let current = target.parent;\r\n        while (current && current.parent) {\r\n            if (isKeepAlive(current.parent.vnode)) {\r\n                injectToKeepAliveRoot(wrappedHook, type, target, current);\r\n            }\r\n            current = current.parent;\r\n        }\r\n    }\r\n}\r\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\r\n    // injectHook wraps the original for error handling, so make sure to remove\r\n    // the wrapped version.\r\n    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);\r\n    onUnmounted(() => {\r\n        remove(keepAliveRoot[type], injected);\r\n    }, target);\r\n}\r\nfunction resetShapeFlag(vnode) {\r\n    let shapeFlag = vnode.shapeFlag;\r\n    if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n        shapeFlag -= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n    }\r\n    if (shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n        shapeFlag -= 512 /* COMPONENT_KEPT_ALIVE */;\r\n    }\r\n    vnode.shapeFlag = shapeFlag;\r\n}\r\nfunction getInnerChild(vnode) {\r\n    return vnode.shapeFlag & 128 /* SUSPENSE */ ? vnode.ssContent : vnode;\r\n}\n\nconst isInternalKey = (key) => key[0] === '_' || key === '$stable';\r\nconst normalizeSlotValue = (value) => isArray(value)\r\n    ? value.map(normalizeVNode)\r\n    : [normalizeVNode(value)];\r\nconst normalizeSlot = (key, rawSlot, ctx) => withCtx((props) => {\r\n    if ((process.env.NODE_ENV !== 'production') && currentInstance) {\r\n        warn(`Slot \"${key}\" invoked outside of the render function: ` +\r\n            `this will not track dependencies used in the slot. ` +\r\n            `Invoke the slot function inside the render function instead.`);\r\n    }\r\n    return normalizeSlotValue(rawSlot(props));\r\n}, ctx);\r\nconst normalizeObjectSlots = (rawSlots, slots) => {\r\n    const ctx = rawSlots._ctx;\r\n    for (const key in rawSlots) {\r\n        if (isInternalKey(key))\r\n            continue;\r\n        const value = rawSlots[key];\r\n        if (isFunction(value)) {\r\n            slots[key] = normalizeSlot(key, value, ctx);\r\n        }\r\n        else if (value != null) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Non-function value encountered for slot \"${key}\". ` +\r\n                    `Prefer function slots for better performance.`);\r\n            }\r\n            const normalized = normalizeSlotValue(value);\r\n            slots[key] = () => normalized;\r\n        }\r\n    }\r\n};\r\nconst normalizeVNodeSlots = (instance, children) => {\r\n    if ((process.env.NODE_ENV !== 'production') && !isKeepAlive(instance.vnode)) {\r\n        warn(`Non-function value encountered for default slot. ` +\r\n            `Prefer function slots for better performance.`);\r\n    }\r\n    const normalized = normalizeSlotValue(children);\r\n    instance.slots.default = () => normalized;\r\n};\r\nconst initSlots = (instance, children) => {\r\n    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            instance.slots = children;\r\n            // make compiler marker non-enumerable\r\n            def(children, '_', type);\r\n        }\r\n        else {\r\n            normalizeObjectSlots(children, (instance.slots = {}));\r\n        }\r\n    }\r\n    else {\r\n        instance.slots = {};\r\n        if (children) {\r\n            normalizeVNodeSlots(instance, children);\r\n        }\r\n    }\r\n    def(instance.slots, InternalObjectKey, 1);\r\n};\r\nconst updateSlots = (instance, children, optimized) => {\r\n    const { vnode, slots } = instance;\r\n    let needDeletionCheck = true;\r\n    let deletionComparisonTarget = EMPTY_OBJ;\r\n    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // compiled slots.\r\n            if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n                // Parent was HMR updated so slot content may have changed.\r\n                // force update slots and mark instance for hmr as well\r\n                extend(slots, children);\r\n            }\r\n            else if (optimized && type === 1 /* STABLE */) {\r\n                // compiled AND stable.\r\n                // no need to update, and skip stale slots removal.\r\n                needDeletionCheck = false;\r\n            }\r\n            else {\r\n                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip\r\n                // normalization.\r\n                extend(slots, children);\r\n                // #2893\r\n                // when rendering the optimized slots by manually written render function,\r\n                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,\r\n                // i.e. let the `renderSlot` create the bailed Fragment\r\n                if (!optimized && type === 1 /* STABLE */) {\r\n                    delete slots._;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            needDeletionCheck = !children.$stable;\r\n            normalizeObjectSlots(children, slots);\r\n        }\r\n        deletionComparisonTarget = children;\r\n    }\r\n    else if (children) {\r\n        // non slot object children (direct value) passed to a component\r\n        normalizeVNodeSlots(instance, children);\r\n        deletionComparisonTarget = { default: 1 };\r\n    }\r\n    // delete stale slots\r\n    if (needDeletionCheck) {\r\n        for (const key in slots) {\r\n            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\r\n                delete slots[key];\r\n            }\r\n        }\r\n    }\r\n};\n\n/**\r\nRuntime helper for applying directives to a vnode. Example usage:\r\n\nconst comp = resolveComponent('comp')\r\nconst foo = resolveDirective('foo')\r\nconst bar = resolveDirective('bar')\r\n\nreturn withDirectives(h(comp), [\r\n  [foo, this.x],\r\n  [bar, this.y]\r\n])\r\n*/\r\nconst isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text');\r\nfunction validateDirectiveName(name) {\r\n    if (isBuiltInDirective(name)) {\r\n        warn('Do not use built-in directive ids as custom directive id: ' + name);\r\n    }\r\n}\r\n/**\r\n * Adds directives to a VNode.\r\n */\r\nfunction withDirectives(vnode, directives) {\r\n    const internalInstance = currentRenderingInstance;\r\n    if (internalInstance === null) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`withDirectives can only be used inside render functions.`);\r\n        return vnode;\r\n    }\r\n    const instance = internalInstance.proxy;\r\n    const bindings = vnode.dirs || (vnode.dirs = []);\r\n    for (let i = 0; i < directives.length; i++) {\r\n        let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\r\n        if (isFunction(dir)) {\r\n            dir = {\r\n                mounted: dir,\r\n                updated: dir\r\n            };\r\n        }\r\n        bindings.push({\r\n            dir,\r\n            instance,\r\n            value,\r\n            oldValue: void 0,\r\n            arg,\r\n            modifiers\r\n        });\r\n    }\r\n    return vnode;\r\n}\r\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\r\n    const bindings = vnode.dirs;\r\n    const oldBindings = prevVNode && prevVNode.dirs;\r\n    for (let i = 0; i < bindings.length; i++) {\r\n        const binding = bindings[i];\r\n        if (oldBindings) {\r\n            binding.oldValue = oldBindings[i].value;\r\n        }\r\n        const hook = binding.dir[name];\r\n        if (hook) {\r\n            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [\r\n                vnode.el,\r\n                binding,\r\n                vnode,\r\n                prevVNode\r\n            ]);\r\n        }\r\n    }\r\n}\n\nfunction createAppContext() {\r\n    return {\r\n        app: null,\r\n        config: {\r\n            isNativeTag: NO,\r\n            performance: false,\r\n            globalProperties: {},\r\n            optionMergeStrategies: {},\r\n            isCustomElement: NO,\r\n            errorHandler: undefined,\r\n            warnHandler: undefined\r\n        },\r\n        mixins: [],\r\n        components: {},\r\n        directives: {},\r\n        provides: Object.create(null)\r\n    };\r\n}\r\nlet uid = 0;\r\nfunction createAppAPI(render, hydrate) {\r\n    return function createApp(rootComponent, rootProps = null) {\r\n        if (rootProps != null && !isObject(rootProps)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`root props passed to app.mount() must be an object.`);\r\n            rootProps = null;\r\n        }\r\n        const context = createAppContext();\r\n        const installedPlugins = new Set();\r\n        let isMounted = false;\r\n        const app = (context.app = {\r\n            _uid: uid++,\r\n            _component: rootComponent,\r\n            _props: rootProps,\r\n            _container: null,\r\n            _context: context,\r\n            version,\r\n            get config() {\r\n                return context.config;\r\n            },\r\n            set config(v) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`app.config cannot be replaced. Modify individual options instead.`);\r\n                }\r\n            },\r\n            use(plugin, ...options) {\r\n                if (installedPlugins.has(plugin)) {\r\n                    (process.env.NODE_ENV !== 'production') && warn(`Plugin has already been applied to target app.`);\r\n                }\r\n                else if (plugin && isFunction(plugin.install)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin.install(app, ...options);\r\n                }\r\n                else if (isFunction(plugin)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin(app, ...options);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`A plugin must either be a function or an object with an \"install\" ` +\r\n                        `function.`);\r\n                }\r\n                return app;\r\n            },\r\n            mixin(mixin) {\r\n                if (__VUE_OPTIONS_API__) {\r\n                    if (!context.mixins.includes(mixin)) {\r\n                        context.mixins.push(mixin);\r\n                        // global mixin with props/emits de-optimizes props/emits\r\n                        // normalization caching.\r\n                        if (mixin.props || mixin.emits) {\r\n                            context.deopt = true;\r\n                        }\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Mixin has already been applied to target app' +\r\n                            (mixin.name ? `: ${mixin.name}` : ''));\r\n                    }\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Mixins are only available in builds supporting Options API');\r\n                }\r\n                return app;\r\n            },\r\n            component(name, component) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateComponentName(name, context.config);\r\n                }\r\n                if (!component) {\r\n                    return context.components[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.components[name]) {\r\n                    warn(`Component \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.components[name] = component;\r\n                return app;\r\n            },\r\n            directive(name, directive) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateDirectiveName(name);\r\n                }\r\n                if (!directive) {\r\n                    return context.directives[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.directives[name]) {\r\n                    warn(`Directive \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.directives[name] = directive;\r\n                return app;\r\n            },\r\n            mount(rootContainer, isHydrate, isSVG) {\r\n                if (!isMounted) {\r\n                    const vnode = createVNode(rootComponent, rootProps);\r\n                    // store app context on the root VNode.\r\n                    // this will be set on the root instance on initial mount.\r\n                    vnode.appContext = context;\r\n                    // HMR root reload\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        context.reload = () => {\r\n                            render(cloneVNode(vnode), rootContainer, isSVG);\r\n                        };\r\n                    }\r\n                    if (isHydrate && hydrate) {\r\n                        hydrate(vnode, rootContainer);\r\n                    }\r\n                    else {\r\n                        render(vnode, rootContainer, isSVG);\r\n                    }\r\n                    isMounted = true;\r\n                    app._container = rootContainer;\r\n                    rootContainer.__vue_app__ = app;\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        devtoolsInitApp(app, version);\r\n                    }\r\n                    return vnode.component.proxy;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`App has already been mounted.\\n` +\r\n                        `If you want to remount the same app, move your app creation logic ` +\r\n                        `into a factory function and create fresh app instances for each ` +\r\n                        `mount - e.g. \\`const createMyApp = () => createApp(App)\\``);\r\n                }\r\n            },\r\n            unmount() {\r\n                if (isMounted) {\r\n                    render(null, app._container);\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        devtoolsUnmountApp(app);\r\n                    }\r\n                    delete app._container.__vue_app__;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`Cannot unmount an app that is not mounted.`);\r\n                }\r\n            },\r\n            provide(key, value) {\r\n                if ((process.env.NODE_ENV !== 'production') && key in context.provides) {\r\n                    warn(`App already provides property with key \"${String(key)}\". ` +\r\n                        `It will be overwritten with the new value.`);\r\n                }\r\n                // TypeScript doesn't allow symbols as index type\r\n                // https://github.com/Microsoft/TypeScript/issues/24587\r\n                context.provides[key] = value;\r\n                return app;\r\n            }\r\n        });\r\n        return app;\r\n    };\r\n}\n\nlet hasMismatch = false;\r\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== 'foreignObject';\r\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\r\n// Note: hydration is DOM-specific\r\n// But we have to place it in core due to tight coupling with core - splitting\r\n// it out creates a ton of unnecessary complexity.\r\n// Hydration also depends on some renderer internal logic which needs to be\r\n// passed in via arguments.\r\nfunction createHydrationFunctions(rendererInternals) {\r\n    const { mt: mountComponent, p: patch, o: { patchProp, nextSibling, parentNode, remove, insert, createComment } } = rendererInternals;\r\n    const hydrate = (vnode, container) => {\r\n        if ((process.env.NODE_ENV !== 'production') && !container.hasChildNodes()) {\r\n            warn(`Attempting to hydrate existing markup but container is empty. ` +\r\n                `Performing full mount instead.`);\r\n            patch(null, vnode, container);\r\n            return;\r\n        }\r\n        hasMismatch = false;\r\n        hydrateNode(container.firstChild, vnode, null, null, null);\r\n        flushPostFlushCbs();\r\n        if (hasMismatch && !false) {\r\n            // this error should show up in production\r\n            console.error(`Hydration completed but contains mismatches.`);\r\n        }\r\n    };\r\n    const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\r\n        const isFragmentStart = isComment(node) && node.data === '[';\r\n        const onMismatch = () => handleMismatch(node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragmentStart);\r\n        const { type, ref, shapeFlag } = vnode;\r\n        const domType = node.nodeType;\r\n        vnode.el = node;\r\n        let nextNode = null;\r\n        switch (type) {\r\n            case Text:\r\n                if (domType !== 3 /* TEXT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    if (node.data !== vnode.children) {\r\n                        hasMismatch = true;\r\n                        (process.env.NODE_ENV !== 'production') &&\r\n                            warn(`Hydration text mismatch:` +\r\n                                `\\n- Client: ${JSON.stringify(node.data)}` +\r\n                                `\\n- Server: ${JSON.stringify(vnode.children)}`);\r\n                        node.data = vnode.children;\r\n                    }\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Comment:\r\n                if (domType !== 8 /* COMMENT */ || isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Static:\r\n                if (domType !== 1 /* ELEMENT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    // determine anchor, adopt content\r\n                    nextNode = node;\r\n                    // if the static vnode has its content stripped during build,\r\n                    // adopt it from the server-rendered HTML.\r\n                    const needToAdoptContent = !vnode.children.length;\r\n                    for (let i = 0; i < vnode.staticCount; i++) {\r\n                        if (needToAdoptContent)\r\n                            vnode.children += nextNode.outerHTML;\r\n                        if (i === vnode.staticCount - 1) {\r\n                            vnode.anchor = nextNode;\r\n                        }\r\n                        nextNode = nextSibling(nextNode);\r\n                    }\r\n                    return nextNode;\r\n                }\r\n                break;\r\n            case Fragment:\r\n                if (!isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = hydrateFragment(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                }\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    if (domType !== 1 /* ELEMENT */ ||\r\n                        vnode.type.toLowerCase() !==\r\n                            node.tagName.toLowerCase()) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = hydrateElement(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    // when setting up the render effect, if the initial vnode already\r\n                    // has .el set, the component will perform hydration instead of mount\r\n                    // on its sub-tree.\r\n                    vnode.slotScopeIds = slotScopeIds;\r\n                    const container = parentNode(node);\r\n                    const hydrateComponent = () => {\r\n                        mountComponent(vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), optimized);\r\n                    };\r\n                    // async component\r\n                    const loadAsync = vnode.type.__asyncLoader;\r\n                    if (loadAsync) {\r\n                        loadAsync().then(hydrateComponent);\r\n                    }\r\n                    else {\r\n                        hydrateComponent();\r\n                    }\r\n                    // component may be async, so in the case of fragments we cannot rely\r\n                    // on component's rendered output to determine the end of the fragment\r\n                    // instead, we do a lookahead to find the end anchor node.\r\n                    nextNode = isFragmentStart\r\n                        ? locateClosingAsyncAnchor(node)\r\n                        : nextSibling(node);\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    if (domType !== 8 /* COMMENT */) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, rendererInternals, hydrateChildren);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 128 /* SUSPENSE */) {\r\n                    nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, isSVGContainer(parentNode(node)), slotScopeIds, optimized, rendererInternals, hydrateNode);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid HostVNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode);\r\n        }\r\n        return nextNode;\r\n    };\r\n    const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!vnode.dynamicChildren;\r\n        const { props, patchFlag, shapeFlag, dirs } = vnode;\r\n        // skip props & children if this is hoisted static nodes\r\n        if (patchFlag !== -1 /* HOISTED */) {\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                if (!optimized ||\r\n                    (patchFlag & 16 /* FULL_PROPS */ ||\r\n                        patchFlag & 32 /* HYDRATE_EVENTS */)) {\r\n                    for (const key in props) {\r\n                        if (!isReservedProp(key) && isOn(key)) {\r\n                            patchProp(el, key, null, props[key]);\r\n                        }\r\n                    }\r\n                }\r\n                else if (props.onClick) {\r\n                    // Fast path for click listeners (which is most often) to avoid\r\n                    // iterating through props.\r\n                    patchProp(el, 'onClick', null, props.onClick);\r\n                }\r\n            }\r\n            // vnode / directive hooks\r\n            let vnodeHooks;\r\n            if ((vnodeHooks = props && props.onVnodeBeforeMount)) {\r\n                invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n            }\r\n            if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\r\n                queueEffectWithSuspense(() => {\r\n                    vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n                    dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n                }, parentSuspense);\r\n            }\r\n            // children\r\n            if (shapeFlag & 16 /* ARRAY_CHILDREN */ &&\r\n                // skip if element has innerHTML / textContent\r\n                !(props && (props.innerHTML || props.textContent))) {\r\n                let next = hydrateChildren(el.firstChild, vnode, el, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                let hasWarned = false;\r\n                while (next) {\r\n                    hasMismatch = true;\r\n                    if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                        warn(`Hydration children mismatch in <${vnode.type}>: ` +\r\n                            `server rendered element contains more child nodes than client vdom.`);\r\n                        hasWarned = true;\r\n                    }\r\n                    // The SSRed DOM contains more nodes than it should. Remove them.\r\n                    const cur = next;\r\n                    next = next.nextSibling;\r\n                    remove(cur);\r\n                }\r\n            }\r\n            else if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                if (el.textContent !== vnode.children) {\r\n                    hasMismatch = true;\r\n                    (process.env.NODE_ENV !== 'production') &&\r\n                        warn(`Hydration text content mismatch in <${vnode.type}>:\\n` +\r\n                            `- Client: ${el.textContent}\\n` +\r\n                            `- Server: ${vnode.children}`);\r\n                    el.textContent = vnode.children;\r\n                }\r\n            }\r\n        }\r\n        return el.nextSibling;\r\n    };\r\n    const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!parentVNode.dynamicChildren;\r\n        const children = parentVNode.children;\r\n        const l = children.length;\r\n        let hasWarned = false;\r\n        for (let i = 0; i < l; i++) {\r\n            const vnode = optimized\r\n                ? children[i]\r\n                : (children[i] = normalizeVNode(children[i]));\r\n            if (node) {\r\n                node = hydrateNode(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n            else if (vnode.type === Text && !vnode.children) {\r\n                continue;\r\n            }\r\n            else {\r\n                hasMismatch = true;\r\n                if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                    warn(`Hydration children mismatch in <${container.tagName.toLowerCase()}>: ` +\r\n                        `server rendered element contains fewer child nodes than client vdom.`);\r\n                    hasWarned = true;\r\n                }\r\n                // the SSRed DOM didn't contain enough nodes. Mount the missing ones.\r\n                patch(null, vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        const { slotScopeIds: fragmentSlotScopeIds } = vnode;\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        const container = parentNode(node);\r\n        const next = hydrateChildren(nextSibling(node), vnode, container, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n        if (next && isComment(next) && next.data === ']') {\r\n            return nextSibling((vnode.anchor = next));\r\n        }\r\n        else {\r\n            // fragment didn't hydrate successfully, since we didn't get a end anchor\r\n            // back. This should have led to node/children mismatch warnings.\r\n            hasMismatch = true;\r\n            // since the anchor is missing, we need to create one and insert it\r\n            insert((vnode.anchor = createComment(`]`)), container, next);\r\n            return next;\r\n        }\r\n    };\r\n    const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\r\n        hasMismatch = true;\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`Hydration node mismatch:\\n- Client vnode:`, vnode.type, `\\n- Server rendered DOM:`, node, node.nodeType === 3 /* TEXT */\r\n                ? `(text)`\r\n                : isComment(node) && node.data === '['\r\n                    ? `(start of fragment)`\r\n                    : ``);\r\n        vnode.el = null;\r\n        if (isFragment) {\r\n            // remove excessive fragment nodes\r\n            const end = locateClosingAsyncAnchor(node);\r\n            while (true) {\r\n                const next = nextSibling(node);\r\n                if (next && next !== end) {\r\n                    remove(next);\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        const next = nextSibling(node);\r\n        const container = parentNode(node);\r\n        remove(node);\r\n        patch(null, vnode, container, next, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n        return next;\r\n    };\r\n    const locateClosingAsyncAnchor = (node) => {\r\n        let match = 0;\r\n        while (node) {\r\n            node = nextSibling(node);\r\n            if (node && isComment(node)) {\r\n                if (node.data === '[')\r\n                    match++;\r\n                if (node.data === ']') {\r\n                    if (match === 0) {\r\n                        return nextSibling(node);\r\n                    }\r\n                    else {\r\n                        match--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return [hydrate, hydrateNode];\r\n}\n\nlet supported;\r\nlet perf;\r\nfunction startMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        perf.mark(`vue-${type}-${instance.uid}`);\r\n    }\r\n}\r\nfunction endMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        const startTag = `vue-${type}-${instance.uid}`;\r\n        const endTag = startTag + `:end`;\r\n        perf.mark(endTag);\r\n        perf.measure(`<${formatComponentName(instance, instance.type)}> ${type}`, startTag, endTag);\r\n        perf.clearMarks(startTag);\r\n        perf.clearMarks(endTag);\r\n    }\r\n}\r\nfunction isSupported() {\r\n    if (supported !== undefined) {\r\n        return supported;\r\n    }\r\n    /* eslint-disable no-restricted-globals */\r\n    if (typeof window !== 'undefined' && window.performance) {\r\n        supported = true;\r\n        perf = window.performance;\r\n    }\r\n    else {\r\n        supported = false;\r\n    }\r\n    /* eslint-enable no-restricted-globals */\r\n    return supported;\r\n}\n\n/**\r\n * This is only called in esm-bundler builds.\r\n * It is called when a renderer is created, in `baseCreateRenderer` so that\r\n * importing runtime-core is side-effects free.\r\n *\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    let needWarn = false;\r\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_OPTIONS_API__ = true;\r\n    }\r\n    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn) {\r\n        console.warn(`You are running the esm-bundler build of Vue. It is recommended to ` +\r\n            `configure your bundler to explicitly replace feature flag globals ` +\r\n            `with boolean literals to get proper tree-shaking in the final bundle. ` +\r\n            `See http://link.vuejs.org/feature-flags for more details.`);\r\n    }\r\n}\n\n// implementation, close to no-op\r\nfunction defineComponent(options) {\r\n    return isFunction(options) ? { setup: options, name: options.name } : options;\r\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\r\nfunction defineAsyncComponent(source) {\r\n    if (isFunction(source)) {\r\n        source = { loader: source };\r\n    }\r\n    const { loader, loadingComponent, errorComponent, delay = 200, timeout, // undefined = never times out\r\n    suspensible = true, onError: userOnError } = source;\r\n    let pendingRequest = null;\r\n    let resolvedComp;\r\n    let retries = 0;\r\n    const retry = () => {\r\n        retries++;\r\n        pendingRequest = null;\r\n        return load();\r\n    };\r\n    const load = () => {\r\n        let thisRequest;\r\n        return (pendingRequest ||\r\n            (thisRequest = pendingRequest = loader()\r\n                .catch(err => {\r\n                err = err instanceof Error ? err : new Error(String(err));\r\n                if (userOnError) {\r\n                    return new Promise((resolve, reject) => {\r\n                        const userRetry = () => resolve(retry());\r\n                        const userFail = () => reject(err);\r\n                        userOnError(err, userRetry, userFail, retries + 1);\r\n                    });\r\n                }\r\n                else {\r\n                    throw err;\r\n                }\r\n            })\r\n                .then((comp) => {\r\n                if (thisRequest !== pendingRequest && pendingRequest) {\r\n                    return pendingRequest;\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && !comp) {\r\n                    warn(`Async component loader resolved to undefined. ` +\r\n                        `If you are using retry(), make sure to return its return value.`);\r\n                }\r\n                // interop module default\r\n                if (comp &&\r\n                    (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\r\n                    comp = comp.default;\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && comp && !isObject(comp) && !isFunction(comp)) {\r\n                    throw new Error(`Invalid async component load result: ${comp}`);\r\n                }\r\n                resolvedComp = comp;\r\n                return comp;\r\n            })));\r\n    };\r\n    return defineComponent({\r\n        __asyncLoader: load,\r\n        name: 'AsyncComponentWrapper',\r\n        setup() {\r\n            const instance = currentInstance;\r\n            // already resolved\r\n            if (resolvedComp) {\r\n                return () => createInnerComp(resolvedComp, instance);\r\n            }\r\n            const onError = (err) => {\r\n                pendingRequest = null;\r\n                handleError(err, instance, 13 /* ASYNC_COMPONENT_LOADER */, !errorComponent /* do not throw in dev if user provided error component */);\r\n            };\r\n            // suspense-controlled or SSR.\r\n            if ((suspensible && instance.suspense) ||\r\n                (false )) {\r\n                return load()\r\n                    .then(comp => {\r\n                    return () => createInnerComp(comp, instance);\r\n                })\r\n                    .catch(err => {\r\n                    onError(err);\r\n                    return () => errorComponent\r\n                        ? createVNode(errorComponent, {\r\n                            error: err\r\n                        })\r\n                        : null;\r\n                });\r\n            }\r\n            const loaded = ref(false);\r\n            const error = ref();\r\n            const delayed = ref(!!delay);\r\n            if (delay) {\r\n                setTimeout(() => {\r\n                    delayed.value = false;\r\n                }, delay);\r\n            }\r\n            if (timeout != null) {\r\n                setTimeout(() => {\r\n                    if (!loaded.value && !error.value) {\r\n                        const err = new Error(`Async component timed out after ${timeout}ms.`);\r\n                        onError(err);\r\n                        error.value = err;\r\n                    }\r\n                }, timeout);\r\n            }\r\n            load()\r\n                .then(() => {\r\n                loaded.value = true;\r\n            })\r\n                .catch(err => {\r\n                onError(err);\r\n                error.value = err;\r\n            });\r\n            return () => {\r\n                if (loaded.value && resolvedComp) {\r\n                    return createInnerComp(resolvedComp, instance);\r\n                }\r\n                else if (error.value && errorComponent) {\r\n                    return createVNode(errorComponent, {\r\n                        error: error.value\r\n                    });\r\n                }\r\n                else if (loadingComponent && !delayed.value) {\r\n                    return createVNode(loadingComponent);\r\n                }\r\n            };\r\n        }\r\n    });\r\n}\r\nfunction createInnerComp(comp, { vnode: { ref, props, children } }) {\r\n    const vnode = createVNode(comp, props, children);\r\n    // ensure inner component inherits the async wrapper's ref owner\r\n    vnode.ref = ref;\r\n    return vnode;\r\n}\n\nconst prodEffectOptions = {\r\n    scheduler: queueJob,\r\n    // #1801, #2043 component render effects should allow recursive updates\r\n    allowRecurse: true\r\n};\r\nfunction createDevEffectOptions(instance) {\r\n    return {\r\n        scheduler: queueJob,\r\n        allowRecurse: true,\r\n        onTrack: instance.rtc ? e => invokeArrayFns(instance.rtc, e) : void 0,\r\n        onTrigger: instance.rtg ? e => invokeArrayFns(instance.rtg, e) : void 0\r\n    };\r\n}\r\nconst queuePostRenderEffect = queueEffectWithSuspense\r\n    ;\r\nconst setRef = (rawRef, oldRawRef, parentSuspense, vnode) => {\r\n    if (isArray(rawRef)) {\r\n        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode));\r\n        return;\r\n    }\r\n    let value;\r\n    if (!vnode) {\r\n        // means unmount\r\n        value = null;\r\n    }\r\n    else if (isAsyncWrapper(vnode)) {\r\n        // when mounting async components, nothing needs to be done,\r\n        // because the template ref is forwarded to inner component\r\n        return;\r\n    }\r\n    else if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {\r\n        value = vnode.component.exposed || vnode.component.proxy;\r\n    }\r\n    else {\r\n        value = vnode.el;\r\n    }\r\n    const { i: owner, r: ref } = rawRef;\r\n    if ((process.env.NODE_ENV !== 'production') && !owner) {\r\n        warn(`Missing ref owner context. ref cannot be used on hoisted vnodes. ` +\r\n            `A vnode with ref must be created inside the render function.`);\r\n        return;\r\n    }\r\n    const oldRef = oldRawRef && oldRawRef.r;\r\n    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;\r\n    const setupState = owner.setupState;\r\n    // unset old ref\r\n    if (oldRef != null && oldRef !== ref) {\r\n        if (isString(oldRef)) {\r\n            refs[oldRef] = null;\r\n            if (hasOwn(setupState, oldRef)) {\r\n                setupState[oldRef] = null;\r\n            }\r\n        }\r\n        else if (isRef(oldRef)) {\r\n            oldRef.value = null;\r\n        }\r\n    }\r\n    if (isString(ref)) {\r\n        const doSet = () => {\r\n            refs[ref] = value;\r\n            if (hasOwn(setupState, ref)) {\r\n                setupState[ref] = value;\r\n            }\r\n        };\r\n        // #1789: for non-null values, set them after render\r\n        // null values means this is unmount and it should not overwrite another\r\n        // ref with the same key\r\n        if (value) {\r\n            doSet.id = -1;\r\n            queuePostRenderEffect(doSet, parentSuspense);\r\n        }\r\n        else {\r\n            doSet();\r\n        }\r\n    }\r\n    else if (isRef(ref)) {\r\n        const doSet = () => {\r\n            ref.value = value;\r\n        };\r\n        if (value) {\r\n            doSet.id = -1;\r\n            queuePostRenderEffect(doSet, parentSuspense);\r\n        }\r\n        else {\r\n            doSet();\r\n        }\r\n    }\r\n    else if (isFunction(ref)) {\r\n        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn('Invalid template ref type:', value, `(${typeof value})`);\r\n    }\r\n};\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nfunction createRenderer(options) {\r\n    return baseCreateRenderer(options);\r\n}\r\n// Separate API for creating hydration-enabled renderer.\r\n// Hydration logic is only used when calling this function, making it\r\n// tree-shakable.\r\nfunction createHydrationRenderer(options) {\r\n    return baseCreateRenderer(options, createHydrationFunctions);\r\n}\r\n// implementation\r\nfunction baseCreateRenderer(options, createHydrationFns) {\r\n    // compile-time feature flags check\r\n    {\r\n        initFeatureFlags();\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        const target = getGlobalThis();\r\n        target.__VUE__ = true;\r\n        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);\r\n    }\r\n    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;\r\n    // Note: functions inside this closure should use `const xxx = () => {}`\r\n    // style in order to prevent being inlined by minifiers.\r\n    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {\r\n        // patching & not same type, unmount old tree\r\n        if (n1 && !isSameVNodeType(n1, n2)) {\r\n            anchor = getNextHostNode(n1);\r\n            unmount(n1, parentComponent, parentSuspense, true);\r\n            n1 = null;\r\n        }\r\n        if (n2.patchFlag === -2 /* BAIL */) {\r\n            optimized = false;\r\n            n2.dynamicChildren = null;\r\n        }\r\n        const { type, ref, shapeFlag } = n2;\r\n        switch (type) {\r\n            case Text:\r\n                processText(n1, n2, container, anchor);\r\n                break;\r\n            case Comment:\r\n                processCommentNode(n1, n2, container, anchor);\r\n                break;\r\n            case Static:\r\n                if (n1 == null) {\r\n                    mountStaticNode(n2, container, anchor, isSVG);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    patchStaticNode(n1, n2, container, isSVG);\r\n                }\r\n                break;\r\n            case Fragment:\r\n                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if (shapeFlag & 128 /* SUSPENSE */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid VNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        // set ref\r\n        if (ref != null && parentComponent) {\r\n            setRef(ref, n1 && n1.ref, parentSuspense, n2);\r\n        }\r\n    };\r\n    const processText = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);\r\n        }\r\n        else {\r\n            const el = (n2.el = n1.el);\r\n            if (n2.children !== n1.children) {\r\n                hostSetText(el, n2.children);\r\n            }\r\n        }\r\n    };\r\n    const processCommentNode = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);\r\n        }\r\n        else {\r\n            // there's no support for dynamic comments\r\n            n2.el = n1.el;\r\n        }\r\n    };\r\n    const mountStaticNode = (n2, container, anchor, isSVG) => {\r\n        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n    };\r\n    /**\r\n     * Dev / HMR only\r\n     */\r\n    const patchStaticNode = (n1, n2, container, isSVG) => {\r\n        // static nodes are only patched during dev for HMR\r\n        if (n2.children !== n1.children) {\r\n            const anchor = hostNextSibling(n1.anchor);\r\n            // remove existing\r\n            removeStaticNode(n1);\r\n            [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n        }\r\n        else {\r\n            n2.el = n1.el;\r\n            n2.anchor = n1.anchor;\r\n        }\r\n    };\r\n    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostInsert(el, container, nextSibling);\r\n            el = next;\r\n        }\r\n        hostInsert(anchor, container, nextSibling);\r\n    };\r\n    const removeStaticNode = ({ el, anchor }) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostRemove(el);\r\n            el = next;\r\n        }\r\n        hostRemove(anchor);\r\n    };\r\n    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        isSVG = isSVG || n2.type === 'svg';\r\n        if (n1 == null) {\r\n            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n    };\r\n    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let el;\r\n        let vnodeHook;\r\n        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;\r\n        if (!(process.env.NODE_ENV !== 'production') &&\r\n            vnode.el &&\r\n            hostCloneNode !== undefined &&\r\n            patchFlag === -1 /* HOISTED */) {\r\n            // If a vnode has non-null el, it means it's being reused.\r\n            // Only static vnodes can be reused, so its mounted DOM nodes should be\r\n            // exactly the same, and we can simply do a clone here.\r\n            // only do this in production since cloned trees cannot be HMR updated.\r\n            el = vnode.el = hostCloneNode(vnode.el);\r\n        }\r\n        else {\r\n            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);\r\n            // mount children first, since some props may rely on child content\r\n            // being already rendered, e.g. `<select value>`\r\n            if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                hostSetElementText(el, vnode.children);\r\n            }\r\n            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                for (const key in props) {\r\n                    if (!isReservedProp(key)) {\r\n                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n                if ((vnodeHook = props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                }\r\n            }\r\n            // scopeId\r\n            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            Object.defineProperty(el, '__vnode', {\r\n                value: vnode,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(el, '__vueParentComponent', {\r\n                value: parentComponent,\r\n                enumerable: false\r\n            });\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n        }\r\n        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved\r\n        // #1689 For inside suspense + suspense resolved case, just call it\r\n        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&\r\n            transition &&\r\n            !transition.persisted;\r\n        if (needCallTransitionHooks) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        hostInsert(el, container, anchor);\r\n        if ((vnodeHook = props && props.onVnodeMounted) ||\r\n            needCallTransitionHooks ||\r\n            dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                needCallTransitionHooks && transition.enter(el);\r\n                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\r\n        if (scopeId) {\r\n            hostSetScopeId(el, scopeId);\r\n        }\r\n        if (slotScopeIds) {\r\n            for (let i = 0; i < slotScopeIds.length; i++) {\r\n                hostSetScopeId(el, slotScopeIds[i]);\r\n            }\r\n        }\r\n        if (parentComponent) {\r\n            let subTree = parentComponent.subTree;\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                subTree.patchFlag > 0 &&\r\n                subTree.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) {\r\n                subTree =\r\n                    filterSingleRoot(subTree.children) || subTree;\r\n            }\r\n            if (vnode === subTree) {\r\n                const parentVNode = parentComponent.vnode;\r\n                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);\r\n            }\r\n        }\r\n    };\r\n    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            const child = (children[i] = optimized\r\n                ? cloneIfMounted(children[i])\r\n                : normalizeVNode(children[i]));\r\n            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds);\r\n        }\r\n    };\r\n    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const el = (n2.el = n1.el);\r\n        let { patchFlag, dynamicChildren, dirs } = n2;\r\n        // #1426 take the old vnode's patch flag into account since user may clone a\r\n        // compiler-generated vnode, which de-opts to FULL_PROPS\r\n        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;\r\n        const oldProps = n1.props || EMPTY_OBJ;\r\n        const newProps = n2.props || EMPTY_OBJ;\r\n        let vnodeHook;\r\n        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (patchFlag > 0) {\r\n            // the presence of a patchFlag means this element's render code was\r\n            // generated by the compiler and can take the fast path.\r\n            // in this path old node and new node are guaranteed to have the same shape\r\n            // (i.e. at the exact same position in the source template)\r\n            if (patchFlag & 16 /* FULL_PROPS */) {\r\n                // element props contain dynamic keys, full diff needed\r\n                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n            }\r\n            else {\r\n                // class\r\n                // this flag is matched when the element has dynamic class bindings.\r\n                if (patchFlag & 2 /* CLASS */) {\r\n                    if (oldProps.class !== newProps.class) {\r\n                        hostPatchProp(el, 'class', null, newProps.class, isSVG);\r\n                    }\r\n                }\r\n                // style\r\n                // this flag is matched when the element has dynamic style bindings\r\n                if (patchFlag & 4 /* STYLE */) {\r\n                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);\r\n                }\r\n                // props\r\n                // This flag is matched when the element has dynamic prop/attr bindings\r\n                // other than class and style. The keys of dynamic prop/attrs are saved for\r\n                // faster iteration.\r\n                // Note dynamic keys like :[foo]=\"bar\" will cause this optimization to\r\n                // bail out and go through a full diff because we need to unset the old key\r\n                if (patchFlag & 8 /* PROPS */) {\r\n                    // if the flag is present then dynamicProps must be non-null\r\n                    const propsToUpdate = n2.dynamicProps;\r\n                    for (let i = 0; i < propsToUpdate.length; i++) {\r\n                        const key = propsToUpdate[i];\r\n                        const prev = oldProps[key];\r\n                        const next = newProps[key];\r\n                        if (next !== prev ||\r\n                            (hostForcePatchProp && hostForcePatchProp(el, key))) {\r\n                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // text\r\n            // This flag is matched when the element has only dynamic text children.\r\n            if (patchFlag & 1 /* TEXT */) {\r\n                if (n1.children !== n2.children) {\r\n                    hostSetElementText(el, n2.children);\r\n                }\r\n            }\r\n        }\r\n        else if (!optimized && dynamicChildren == null) {\r\n            // unoptimized, full diff\r\n            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n        }\r\n        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';\r\n        if (dynamicChildren) {\r\n            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);\r\n            if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                traverseStaticChildren(n1, n2);\r\n            }\r\n        }\r\n        else if (!optimized) {\r\n            // full diff\r\n            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);\r\n        }\r\n        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    // The fast path for blocks.\r\n    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\r\n        for (let i = 0; i < newChildren.length; i++) {\r\n            const oldVNode = oldChildren[i];\r\n            const newVNode = newChildren[i];\r\n            // Determine the container (parent element) for the patch.\r\n            const container = \r\n            // - In the case of a Fragment, we need to provide the actual parent\r\n            // of the Fragment itself so it can move its children.\r\n            oldVNode.type === Fragment ||\r\n                // - In the case of different nodes, there is going to be a replacement\r\n                // which also requires the correct parent container\r\n                !isSameVNodeType(oldVNode, newVNode) ||\r\n                // - In the case of a component, it could contain anything.\r\n                oldVNode.shapeFlag & 6 /* COMPONENT */ ||\r\n                oldVNode.shapeFlag & 64 /* TELEPORT */\r\n                ? hostParentNode(oldVNode.el)\r\n                : // In other cases, the parent container is not actually used so we\r\n                    // just pass the block element here to avoid a DOM parentNode call.\r\n                    fallbackContainer;\r\n            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);\r\n        }\r\n    };\r\n    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\r\n        if (oldProps !== newProps) {\r\n            for (const key in newProps) {\r\n                // empty string is not valid prop\r\n                if (isReservedProp(key))\r\n                    continue;\r\n                const next = newProps[key];\r\n                const prev = oldProps[key];\r\n                if (next !== prev ||\r\n                    (hostForcePatchProp && hostForcePatchProp(el, key))) {\r\n                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                }\r\n            }\r\n            if (oldProps !== EMPTY_OBJ) {\r\n                for (const key in oldProps) {\r\n                    if (!isReservedProp(key) && !(key in newProps)) {\r\n                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));\r\n        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));\r\n        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\r\n        if (patchFlag > 0) {\r\n            optimized = true;\r\n        }\r\n        // check if this is a slot fragment with :slotted scope ids\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (n1 == null) {\r\n            hostInsert(fragmentStartAnchor, container, anchor);\r\n            hostInsert(fragmentEndAnchor, container, anchor);\r\n            // a fragment can only have array children\r\n            // since they are either generated by the compiler, or implicitly created\r\n            // from arrays.\r\n            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            if (patchFlag > 0 &&\r\n                patchFlag & 64 /* STABLE_FRAGMENT */ &&\r\n                dynamicChildren &&\r\n                // #2715 the previous fragment could've been a BAILed one as a result\r\n                // of renderSlot() with no valid children\r\n                n1.dynamicChildren) {\r\n                // a stable fragment (template root or <template v-for>) doesn't need to\r\n                // patch children order, but it may contain dynamicChildren.\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                    traverseStaticChildren(n1, n2);\r\n                }\r\n                else if (\r\n                // #2080 if the stable fragment has a key, it's a <template v-for> that may\r\n                //  get moved around. Make sure all root level vnodes inherit el.\r\n                // #2134 or if it's a component root, it may also get moved around\r\n                // as the component is being moved.\r\n                n2.key != null ||\r\n                    (parentComponent && n2 === parentComponent.subTree)) {\r\n                    traverseStaticChildren(n1, n2, true /* shallow */);\r\n                }\r\n            }\r\n            else {\r\n                // keyed / unkeyed, or manual fragments.\r\n                // for keyed & unkeyed, since they are compiler generated from v-for,\r\n                // each child is guaranteed to be a block so the fragment will never\r\n                // have dynamicChildren.\r\n                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n        }\r\n    };\r\n    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        n2.slotScopeIds = slotScopeIds;\r\n        if (n1 == null) {\r\n            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);\r\n            }\r\n            else {\r\n                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n        }\r\n        else {\r\n            updateComponent(n1, n2, optimized);\r\n        }\r\n    };\r\n    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            registerHMR(instance);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            pushWarningContext(initialVNode);\r\n            startMeasure(instance, `mount`);\r\n        }\r\n        // inject renderer internals for keepAlive\r\n        if (isKeepAlive(initialVNode)) {\r\n            instance.ctx.renderer = internals;\r\n        }\r\n        // resolve props and slots for setup context\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            startMeasure(instance, `init`);\r\n        }\r\n        setupComponent(instance);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            endMeasure(instance, `init`);\r\n        }\r\n        // setup() is async. This component relies on async logic to be resolved\r\n        // before proceeding\r\n        if (instance.asyncDep) {\r\n            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\r\n            // Give it a placeholder if this is not hydration\r\n            // TODO handle self-defined fallback\r\n            if (!initialVNode.el) {\r\n                const placeholder = (instance.subTree = createVNode(Comment));\r\n                processCommentNode(null, placeholder, container, anchor);\r\n            }\r\n            return;\r\n        }\r\n        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            popWarningContext();\r\n            endMeasure(instance, `mount`);\r\n        }\r\n    };\r\n    const updateComponent = (n1, n2, optimized) => {\r\n        const instance = (n2.component = n1.component);\r\n        if (shouldUpdateComponent(n1, n2, optimized)) {\r\n            if (instance.asyncDep &&\r\n                !instance.asyncResolved) {\r\n                // async & still pending - just update props and slots\r\n                // since the component's reactive effect for render isn't set-up yet\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(n2);\r\n                }\r\n                updateComponentPreRender(instance, n2, optimized);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                // normal update\r\n                instance.next = n2;\r\n                // in case the child component is also queued, remove it to avoid\r\n                // double updating the same child component in the same flush.\r\n                invalidateJob(instance.update);\r\n                // instance.update is the reactive effect runner.\r\n                instance.update();\r\n            }\r\n        }\r\n        else {\r\n            // no update needed. just copy over properties\r\n            n2.component = n1.component;\r\n            n2.el = n1.el;\r\n            instance.vnode = n2;\r\n        }\r\n    };\r\n    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\r\n        // create reactive effect for rendering\r\n        instance.update = effect(function componentEffect() {\r\n            if (!instance.isMounted) {\r\n                let vnodeHook;\r\n                const { el, props } = initialVNode;\r\n                const { bm, m, parent } = instance;\r\n                // beforeMount hook\r\n                if (bm) {\r\n                    invokeArrayFns(bm);\r\n                }\r\n                // onVnodeBeforeMount\r\n                if ((vnodeHook = props && props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parent, initialVNode);\r\n                }\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const subTree = (instance.subTree = renderComponentRoot(instance));\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                if (el && hydrateNode) {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `hydrate`);\r\n                    }\r\n                    // vnode has adopted host node - perform hydration instead of mount.\r\n                    hydrateNode(initialVNode.el, subTree, instance, parentSuspense, null);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `hydrate`);\r\n                    }\r\n                }\r\n                else {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `patch`);\r\n                    }\r\n                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `patch`);\r\n                    }\r\n                    initialVNode.el = subTree.el;\r\n                }\r\n                // mounted hook\r\n                if (m) {\r\n                    queuePostRenderEffect(m, parentSuspense);\r\n                }\r\n                // onVnodeMounted\r\n                if ((vnodeHook = props && props.onVnodeMounted)) {\r\n                    const scopedInitialVNode = initialVNode;\r\n                    queuePostRenderEffect(() => {\r\n                        invokeVNodeHook(vnodeHook, parent, scopedInitialVNode);\r\n                    }, parentSuspense);\r\n                }\r\n                // activated hook for keep-alive roots.\r\n                // #1742 activated hook must be accessed after first render\r\n                // since the hook may be injected by a child keep-alive\r\n                const { a } = instance;\r\n                if (a &&\r\n                    initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n                    queuePostRenderEffect(a, parentSuspense);\r\n                }\r\n                instance.isMounted = true;\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentAdded(instance);\r\n                }\r\n                // #2458: deference mount-only object parameters to prevent memleaks\r\n                initialVNode = container = anchor = null;\r\n            }\r\n            else {\r\n                // updateComponent\r\n                // This is triggered by mutation of component's own state (next: null)\r\n                // OR parent calling processComponent (next: VNode)\r\n                let { next, bu, u, parent, vnode } = instance;\r\n                let originNext = next;\r\n                let vnodeHook;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(next || instance.vnode);\r\n                }\r\n                if (next) {\r\n                    next.el = vnode.el;\r\n                    updateComponentPreRender(instance, next, optimized);\r\n                }\r\n                else {\r\n                    next = vnode;\r\n                }\r\n                // beforeUpdate hook\r\n                if (bu) {\r\n                    invokeArrayFns(bu);\r\n                }\r\n                // onVnodeBeforeUpdate\r\n                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {\r\n                    invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                }\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const nextTree = renderComponentRoot(instance);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                const prevTree = instance.subTree;\r\n                instance.subTree = nextTree;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `patch`);\r\n                }\r\n                patch(prevTree, nextTree, \r\n                // parent may have changed if it's in a teleport\r\n                hostParentNode(prevTree.el), \r\n                // anchor may have changed if it's in a fragment\r\n                getNextHostNode(prevTree), instance, parentSuspense, isSVG);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `patch`);\r\n                }\r\n                next.el = nextTree.el;\r\n                if (originNext === null) {\r\n                    // self-triggered update. In case of HOC, update parent component\r\n                    // vnode el. HOC is indicated by parent instance's subTree pointing\r\n                    // to child component's vnode\r\n                    updateHOCHostEl(instance, nextTree.el);\r\n                }\r\n                // updated hook\r\n                if (u) {\r\n                    queuePostRenderEffect(u, parentSuspense);\r\n                }\r\n                // onVnodeUpdated\r\n                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {\r\n                    queuePostRenderEffect(() => {\r\n                        invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                    }, parentSuspense);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentUpdated(instance);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n            }\r\n        }, (process.env.NODE_ENV !== 'production') ? createDevEffectOptions(instance) : prodEffectOptions);\r\n    };\r\n    const updateComponentPreRender = (instance, nextVNode, optimized) => {\r\n        nextVNode.component = instance;\r\n        const prevProps = instance.vnode.props;\r\n        instance.vnode = nextVNode;\r\n        instance.next = null;\r\n        updateProps(instance, nextVNode.props, prevProps, optimized);\r\n        updateSlots(instance, nextVNode.children, optimized);\r\n        pauseTracking();\r\n        // props update may have triggered pre-flush watchers.\r\n        // flush them before the render update.\r\n        flushPreFlushCbs(undefined, instance.update);\r\n        resetTracking();\r\n    };\r\n    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\r\n        const c1 = n1 && n1.children;\r\n        const prevShapeFlag = n1 ? n1.shapeFlag : 0;\r\n        const c2 = n2.children;\r\n        const { patchFlag, shapeFlag } = n2;\r\n        // fast path\r\n        if (patchFlag > 0) {\r\n            if (patchFlag & 128 /* KEYED_FRAGMENT */) {\r\n                // this could be either fully-keyed or mixed (some keyed some not)\r\n                // presence of patchFlag means children are guaranteed to be arrays\r\n                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {\r\n                // unkeyed\r\n                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n        }\r\n        // children has 3 possibilities: text, array or no children.\r\n        if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n            // text children fast path\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                unmountChildren(c1, parentComponent, parentSuspense);\r\n            }\r\n            if (c2 !== c1) {\r\n                hostSetElementText(container, c2);\r\n            }\r\n        }\r\n        else {\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                // prev children was array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    // two arrays, cannot assume anything, do full diff\r\n                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else {\r\n                    // no new children, just unmount old\r\n                    unmountChildren(c1, parentComponent, parentSuspense, true);\r\n                }\r\n            }\r\n            else {\r\n                // prev children was text OR null\r\n                // new children is array OR null\r\n                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                    hostSetElementText(container, '');\r\n                }\r\n                // mount new if array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        c1 = c1 || EMPTY_ARR;\r\n        c2 = c2 || EMPTY_ARR;\r\n        const oldLength = c1.length;\r\n        const newLength = c2.length;\r\n        const commonLength = Math.min(oldLength, newLength);\r\n        let i;\r\n        for (i = 0; i < commonLength; i++) {\r\n            const nextChild = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        if (oldLength > newLength) {\r\n            // remove old\r\n            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);\r\n        }\r\n        else {\r\n            // mount new\r\n            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);\r\n        }\r\n    };\r\n    // can be all-keyed or mixed\r\n    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let i = 0;\r\n        const l2 = c2.length;\r\n        let e1 = c1.length - 1; // prev ending index\r\n        let e2 = l2 - 1; // next ending index\r\n        // 1. sync from start\r\n        // (a b) c\r\n        // (a b) d e\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[i];\r\n            const n2 = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        // 2. sync from end\r\n        // a (b c)\r\n        // d e (b c)\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[e1];\r\n            const n2 = (c2[e2] = optimized\r\n                ? cloneIfMounted(c2[e2])\r\n                : normalizeVNode(c2[e2]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            e1--;\r\n            e2--;\r\n        }\r\n        // 3. common sequence + mount\r\n        // (a b)\r\n        // (a b) c\r\n        // i = 2, e1 = 1, e2 = 2\r\n        // (a b)\r\n        // c (a b)\r\n        // i = 0, e1 = -1, e2 = 0\r\n        if (i > e1) {\r\n            if (i <= e2) {\r\n                const nextPos = e2 + 1;\r\n                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\r\n                while (i <= e2) {\r\n                    patch(null, (c2[i] = optimized\r\n                        ? cloneIfMounted(c2[i])\r\n                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        // 4. common sequence + unmount\r\n        // (a b) c\r\n        // (a b)\r\n        // i = 2, e1 = 2, e2 = 1\r\n        // a (b c)\r\n        // (b c)\r\n        // i = 0, e1 = 0, e2 = -1\r\n        else if (i > e2) {\r\n            while (i <= e1) {\r\n                unmount(c1[i], parentComponent, parentSuspense, true);\r\n                i++;\r\n            }\r\n        }\r\n        // 5. unknown sequence\r\n        // [i ... e1 + 1]: a b [c d e] f g\r\n        // [i ... e2 + 1]: a b [e d c h] f g\r\n        // i = 2, e1 = 4, e2 = 5\r\n        else {\r\n            const s1 = i; // prev starting index\r\n            const s2 = i; // next starting index\r\n            // 5.1 build key:index map for newChildren\r\n            const keyToNewIndexMap = new Map();\r\n            for (i = s2; i <= e2; i++) {\r\n                const nextChild = (c2[i] = optimized\r\n                    ? cloneIfMounted(c2[i])\r\n                    : normalizeVNode(c2[i]));\r\n                if (nextChild.key != null) {\r\n                    if ((process.env.NODE_ENV !== 'production') && keyToNewIndexMap.has(nextChild.key)) {\r\n                        warn(`Duplicate keys found during update:`, JSON.stringify(nextChild.key), `Make sure keys are unique.`);\r\n                    }\r\n                    keyToNewIndexMap.set(nextChild.key, i);\r\n                }\r\n            }\r\n            // 5.2 loop through old children left to be patched and try to patch\r\n            // matching nodes & remove nodes that are no longer present\r\n            let j;\r\n            let patched = 0;\r\n            const toBePatched = e2 - s2 + 1;\r\n            let moved = false;\r\n            // used to track whether any node has moved\r\n            let maxNewIndexSoFar = 0;\r\n            // works as Map<newIndex, oldIndex>\r\n            // Note that oldIndex is offset by +1\r\n            // and oldIndex = 0 is a special value indicating the new node has\r\n            // no corresponding old node.\r\n            // used for determining longest stable subsequence\r\n            const newIndexToOldIndexMap = new Array(toBePatched);\r\n            for (i = 0; i < toBePatched; i++)\r\n                newIndexToOldIndexMap[i] = 0;\r\n            for (i = s1; i <= e1; i++) {\r\n                const prevChild = c1[i];\r\n                if (patched >= toBePatched) {\r\n                    // all new children have been patched so this can only be a removal\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                    continue;\r\n                }\r\n                let newIndex;\r\n                if (prevChild.key != null) {\r\n                    newIndex = keyToNewIndexMap.get(prevChild.key);\r\n                }\r\n                else {\r\n                    // key-less node, try to locate a key-less node of the same type\r\n                    for (j = s2; j <= e2; j++) {\r\n                        if (newIndexToOldIndexMap[j - s2] === 0 &&\r\n                            isSameVNodeType(prevChild, c2[j])) {\r\n                            newIndex = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (newIndex === undefined) {\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                }\r\n                else {\r\n                    newIndexToOldIndexMap[newIndex - s2] = i + 1;\r\n                    if (newIndex >= maxNewIndexSoFar) {\r\n                        maxNewIndexSoFar = newIndex;\r\n                    }\r\n                    else {\r\n                        moved = true;\r\n                    }\r\n                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    patched++;\r\n                }\r\n            }\r\n            // 5.3 move and mount\r\n            // generate longest stable subsequence only when nodes have moved\r\n            const increasingNewIndexSequence = moved\r\n                ? getSequence(newIndexToOldIndexMap)\r\n                : EMPTY_ARR;\r\n            j = increasingNewIndexSequence.length - 1;\r\n            // looping backwards so that we can use last patched node as anchor\r\n            for (i = toBePatched - 1; i >= 0; i--) {\r\n                const nextIndex = s2 + i;\r\n                const nextChild = c2[nextIndex];\r\n                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\r\n                if (newIndexToOldIndexMap[i] === 0) {\r\n                    // mount new\r\n                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (moved) {\r\n                    // move if:\r\n                    // There is no stable subsequence (e.g. a reverse)\r\n                    // OR current node is not among the stable sequence\r\n                    if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n                        move(nextChild, container, anchor, 2 /* REORDER */);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\r\n        const { el, type, transition, children, shapeFlag } = vnode;\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            move(vnode.component.subTree, container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 128 /* SUSPENSE */) {\r\n            vnode.suspense.move(container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type.move(vnode, container, anchor, internals);\r\n            return;\r\n        }\r\n        if (type === Fragment) {\r\n            hostInsert(el, container, anchor);\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, anchor, moveType);\r\n            }\r\n            hostInsert(vnode.anchor, container, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            moveStaticNode(vnode, container, anchor);\r\n            return;\r\n        }\r\n        // single nodes\r\n        const needTransition = moveType !== 2 /* REORDER */ &&\r\n            shapeFlag & 1 /* ELEMENT */ &&\r\n            transition;\r\n        if (needTransition) {\r\n            if (moveType === 0 /* ENTER */) {\r\n                transition.beforeEnter(el);\r\n                hostInsert(el, container, anchor);\r\n                queuePostRenderEffect(() => transition.enter(el), parentSuspense);\r\n            }\r\n            else {\r\n                const { leave, delayLeave, afterLeave } = transition;\r\n                const remove = () => hostInsert(el, container, anchor);\r\n                const performLeave = () => {\r\n                    leave(el, () => {\r\n                        remove();\r\n                        afterLeave && afterLeave();\r\n                    });\r\n                };\r\n                if (delayLeave) {\r\n                    delayLeave(el, remove, performLeave);\r\n                }\r\n                else {\r\n                    performLeave();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            hostInsert(el, container, anchor);\r\n        }\r\n    };\r\n    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\r\n        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;\r\n        // unset ref\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, null);\r\n        }\r\n        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n            parentComponent.ctx.deactivate(vnode);\r\n            return;\r\n        }\r\n        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;\r\n        let vnodeHook;\r\n        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n        }\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            unmountComponent(vnode.component, parentSuspense, doRemove);\r\n        }\r\n        else {\r\n            if (shapeFlag & 128 /* SUSPENSE */) {\r\n                vnode.suspense.unmount(parentSuspense, doRemove);\r\n                return;\r\n            }\r\n            if (shouldInvokeDirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');\r\n            }\r\n            if (shapeFlag & 64 /* TELEPORT */) {\r\n                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);\r\n            }\r\n            else if (dynamicChildren &&\r\n                // #1153: fast path should not be taken for non-stable (v-for) fragments\r\n                (type !== Fragment ||\r\n                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {\r\n                // fast path for block nodes: only need to unmount dynamic children.\r\n                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);\r\n            }\r\n            else if ((type === Fragment &&\r\n                (patchFlag & 128 /* KEYED_FRAGMENT */ ||\r\n                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||\r\n                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {\r\n                unmountChildren(children, parentComponent, parentSuspense);\r\n            }\r\n            if (doRemove) {\r\n                remove(vnode);\r\n            }\r\n        }\r\n        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                shouldInvokeDirs &&\r\n                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const remove = vnode => {\r\n        const { type, el, anchor, transition } = vnode;\r\n        if (type === Fragment) {\r\n            removeFragment(el, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            removeStaticNode(vnode);\r\n            return;\r\n        }\r\n        const performRemove = () => {\r\n            hostRemove(el);\r\n            if (transition && !transition.persisted && transition.afterLeave) {\r\n                transition.afterLeave();\r\n            }\r\n        };\r\n        if (vnode.shapeFlag & 1 /* ELEMENT */ &&\r\n            transition &&\r\n            !transition.persisted) {\r\n            const { leave, delayLeave } = transition;\r\n            const performLeave = () => leave(el, performRemove);\r\n            if (delayLeave) {\r\n                delayLeave(vnode.el, performRemove, performLeave);\r\n            }\r\n            else {\r\n                performLeave();\r\n            }\r\n        }\r\n        else {\r\n            performRemove();\r\n        }\r\n    };\r\n    const removeFragment = (cur, end) => {\r\n        // For fragments, directly remove all contained DOM nodes.\r\n        // (fragment child nodes cannot have transition)\r\n        let next;\r\n        while (cur !== end) {\r\n            next = hostNextSibling(cur);\r\n            hostRemove(cur);\r\n            cur = next;\r\n        }\r\n        hostRemove(end);\r\n    };\r\n    const unmountComponent = (instance, parentSuspense, doRemove) => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            unregisterHMR(instance);\r\n        }\r\n        const { bum, effects, update, subTree, um } = instance;\r\n        // beforeUnmount hook\r\n        if (bum) {\r\n            invokeArrayFns(bum);\r\n        }\r\n        if (effects) {\r\n            for (let i = 0; i < effects.length; i++) {\r\n                stop(effects[i]);\r\n            }\r\n        }\r\n        // update may be null if a component is unmounted before its async\r\n        // setup has resolved.\r\n        if (update) {\r\n            stop(update);\r\n            unmount(subTree, instance, parentSuspense, doRemove);\r\n        }\r\n        // unmounted hook\r\n        if (um) {\r\n            queuePostRenderEffect(um, parentSuspense);\r\n        }\r\n        queuePostRenderEffect(() => {\r\n            instance.isUnmounted = true;\r\n        }, parentSuspense);\r\n        // A component with async dep inside a pending suspense is unmounted before\r\n        // its async dep resolves. This should remove the dep from the suspense, and\r\n        // cause the suspense to resolve immediately if that was the last dep.\r\n        if (parentSuspense &&\r\n            parentSuspense.pendingBranch &&\r\n            !parentSuspense.isUnmounted &&\r\n            instance.asyncDep &&\r\n            !instance.asyncResolved &&\r\n            instance.suspenseId === parentSuspense.pendingId) {\r\n            parentSuspense.deps--;\r\n            if (parentSuspense.deps === 0) {\r\n                parentSuspense.resolve();\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentRemoved(instance);\r\n        }\r\n    };\r\n    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\r\n        }\r\n    };\r\n    const getNextHostNode = vnode => {\r\n        if (vnode.shapeFlag & 6 /* COMPONENT */) {\r\n            return getNextHostNode(vnode.component.subTree);\r\n        }\r\n        if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n            return vnode.suspense.next();\r\n        }\r\n        return hostNextSibling((vnode.anchor || vnode.el));\r\n    };\r\n    const render = (vnode, container, isSVG) => {\r\n        if (vnode == null) {\r\n            if (container._vnode) {\r\n                unmount(container._vnode, null, null, true);\r\n            }\r\n        }\r\n        else {\r\n            patch(container._vnode || null, vnode, container, null, null, null, isSVG);\r\n        }\r\n        flushPostFlushCbs();\r\n        container._vnode = vnode;\r\n    };\r\n    const internals = {\r\n        p: patch,\r\n        um: unmount,\r\n        m: move,\r\n        r: remove,\r\n        mt: mountComponent,\r\n        mc: mountChildren,\r\n        pc: patchChildren,\r\n        pbc: patchBlockChildren,\r\n        n: getNextHostNode,\r\n        o: options\r\n    };\r\n    let hydrate;\r\n    let hydrateNode;\r\n    if (createHydrationFns) {\r\n        [hydrate, hydrateNode] = createHydrationFns(internals);\r\n    }\r\n    return {\r\n        render,\r\n        hydrate,\r\n        createApp: createAppAPI(render, hydrate)\r\n    };\r\n}\r\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\r\n    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [\r\n        vnode,\r\n        prevVNode\r\n    ]);\r\n}\r\n/**\r\n * #1156\r\n * When a component is HMR-enabled, we need to make sure that all static nodes\r\n * inside a block also inherit the DOM element from the previous tree so that\r\n * HMR updates (which are full updates) can retrieve the element for patching.\r\n *\r\n * #2080\r\n * Inside keyed `template` fragment static children, if a fragment is moved,\r\n * the children will always moved so that need inherit el form previous nodes\r\n * to ensure correct moved position.\r\n */\r\nfunction traverseStaticChildren(n1, n2, shallow = false) {\r\n    const ch1 = n1.children;\r\n    const ch2 = n2.children;\r\n    if (isArray(ch1) && isArray(ch2)) {\r\n        for (let i = 0; i < ch1.length; i++) {\r\n            // this is only called in the optimized path so array children are\r\n            // guaranteed to be vnodes\r\n            const c1 = ch1[i];\r\n            let c2 = ch2[i];\r\n            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {\r\n                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {\r\n                    c2 = ch2[i] = cloneIfMounted(ch2[i]);\r\n                    c2.el = c1.el;\r\n                }\r\n                if (!shallow)\r\n                    traverseStaticChildren(c1, c2);\r\n            }\r\n            // also inherit for comment nodes, but not placeholders (e.g. v-if which\r\n            // would have received .el during block patch)\r\n            if ((process.env.NODE_ENV !== 'production') && c2.type === Comment && !c2.el) {\r\n                c2.el = c1.el;\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction getSequence(arr) {\r\n    const p = arr.slice();\r\n    const result = [0];\r\n    let i, j, u, v, c;\r\n    const len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        const arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nconst isTeleport = (type) => type.__isTeleport;\r\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === '');\r\nconst isTargetSVG = (target) => typeof SVGElement !== 'undefined' && target instanceof SVGElement;\r\nconst resolveTarget = (props, select) => {\r\n    const targetSelector = props && props.to;\r\n    if (isString(targetSelector)) {\r\n        if (!select) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current renderer does not support string target for Teleports. ` +\r\n                    `(missing querySelector renderer option)`);\r\n            return null;\r\n        }\r\n        else {\r\n            const target = select(targetSelector);\r\n            if (!target) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(`Failed to locate Teleport target with selector \"${targetSelector}\". ` +\r\n                        `Note the target element must exist before the component is mounted - ` +\r\n                        `i.e. the target cannot be rendered by the component itself, and ` +\r\n                        `ideally should be outside of the entire Vue component tree.`);\r\n            }\r\n            return target;\r\n        }\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && !targetSelector && !isTeleportDisabled(props)) {\r\n            warn(`Invalid Teleport target: ${targetSelector}`);\r\n        }\r\n        return targetSelector;\r\n    }\r\n};\r\nconst TeleportImpl = {\r\n    __isTeleport: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\r\n        const { mc: mountChildren, pc: patchChildren, pbc: patchBlockChildren, o: { insert, querySelector, createText, createComment } } = internals;\r\n        const disabled = isTeleportDisabled(n2.props);\r\n        const { shapeFlag, children } = n2;\r\n        // #3302\r\n        // HMR updated, force full diff\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            optimized = false;\r\n            n2.dynamicChildren = null;\r\n        }\r\n        if (n1 == null) {\r\n            // insert anchors in the main view\r\n            const placeholder = (n2.el = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport start')\r\n                : createText(''));\r\n            const mainAnchor = (n2.anchor = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport end')\r\n                : createText(''));\r\n            insert(placeholder, container, anchor);\r\n            insert(mainAnchor, container, anchor);\r\n            const target = (n2.target = resolveTarget(n2.props, querySelector));\r\n            const targetAnchor = (n2.targetAnchor = createText(''));\r\n            if (target) {\r\n                insert(targetAnchor, target);\r\n                // #2652 we could be teleporting from a non-SVG tree into an SVG tree\r\n                isSVG = isSVG || isTargetSVG(target);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !disabled) {\r\n                warn('Invalid Teleport target on mount:', target, `(${typeof target})`);\r\n            }\r\n            const mount = (container, anchor) => {\r\n                // Teleport *always* has Array children. This is enforced in both the\r\n                // compiler and vnode children normalization.\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            };\r\n            if (disabled) {\r\n                mount(container, mainAnchor);\r\n            }\r\n            else if (target) {\r\n                mount(target, targetAnchor);\r\n            }\r\n        }\r\n        else {\r\n            // update content\r\n            n2.el = n1.el;\r\n            const mainAnchor = (n2.anchor = n1.anchor);\r\n            const target = (n2.target = n1.target);\r\n            const targetAnchor = (n2.targetAnchor = n1.targetAnchor);\r\n            const wasDisabled = isTeleportDisabled(n1.props);\r\n            const currentContainer = wasDisabled ? container : target;\r\n            const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\r\n            isSVG = isSVG || isTargetSVG(target);\r\n            if (n2.dynamicChildren) {\r\n                // fast path when the teleport happens to be a block root\r\n                patchBlockChildren(n1.dynamicChildren, n2.dynamicChildren, currentContainer, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                // even in block tree mode we need to make sure all root-level nodes\r\n                // in the teleport inherit previous DOM references so that they can\r\n                // be moved in future patches.\r\n                traverseStaticChildren(n1, n2, true);\r\n            }\r\n            else if (!optimized) {\r\n                patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, false);\r\n            }\r\n            if (disabled) {\r\n                if (!wasDisabled) {\r\n                    // enabled -> disabled\r\n                    // move into main container\r\n                    moveTeleport(n2, container, mainAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n            else {\r\n                // target changed\r\n                if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\r\n                    const nextTarget = (n2.target = resolveTarget(n2.props, querySelector));\r\n                    if (nextTarget) {\r\n                        moveTeleport(n2, nextTarget, null, internals, 0 /* TARGET_CHANGE */);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Invalid Teleport target on update:', target, `(${typeof target})`);\r\n                    }\r\n                }\r\n                else if (wasDisabled) {\r\n                    // disabled -> enabled\r\n                    // move into teleport target\r\n                    moveTeleport(n2, target, targetAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\r\n        const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\r\n        if (target) {\r\n            hostRemove(targetAnchor);\r\n        }\r\n        // an unmounted teleport should always remove its children if not disabled\r\n        if (doRemove || !isTeleportDisabled(props)) {\r\n            hostRemove(anchor);\r\n            if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    unmount(children[i], parentComponent, parentSuspense, true, optimized);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    move: moveTeleport,\r\n    hydrate: hydrateTeleport\r\n};\r\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2 /* REORDER */) {\r\n    // move target anchor if this is a target change.\r\n    if (moveType === 0 /* TARGET_CHANGE */) {\r\n        insert(vnode.targetAnchor, container, parentAnchor);\r\n    }\r\n    const { el, anchor, shapeFlag, children, props } = vnode;\r\n    const isReorder = moveType === 2 /* REORDER */;\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(el, container, parentAnchor);\r\n    }\r\n    // if this is a re-order and teleport is enabled (content is in target)\r\n    // do not move children. So the opposite is: only move children if this\r\n    // is not a reorder, or the teleport is disabled\r\n    if (!isReorder || isTeleportDisabled(props)) {\r\n        // Teleport has either Array children or no children.\r\n        if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, parentAnchor, 2 /* REORDER */);\r\n            }\r\n        }\r\n    }\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(anchor, container, parentAnchor);\r\n    }\r\n}\r\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, { o: { nextSibling, parentNode, querySelector } }, hydrateChildren) {\r\n    const target = (vnode.target = resolveTarget(vnode.props, querySelector));\r\n    if (target) {\r\n        // if multiple teleports rendered to the same target element, we need to\r\n        // pick up from where the last teleport finished instead of the first node\r\n        const targetNode = target._lpa || target.firstChild;\r\n        if (vnode.shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            if (isTeleportDisabled(vnode.props)) {\r\n                vnode.anchor = hydrateChildren(nextSibling(node), vnode, parentNode(node), parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                vnode.targetAnchor = targetNode;\r\n            }\r\n            else {\r\n                vnode.anchor = nextSibling(node);\r\n                vnode.targetAnchor = hydrateChildren(targetNode, vnode, target, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n            target._lpa =\r\n                vnode.targetAnchor && nextSibling(vnode.targetAnchor);\r\n        }\r\n    }\r\n    return vnode.anchor && nextSibling(vnode.anchor);\r\n}\r\n// Force-casted public typing for h and TSX props inference\r\nconst Teleport = TeleportImpl;\n\nconst COMPONENTS = 'components';\r\nconst DIRECTIVES = 'directives';\r\n/**\r\n * @private\r\n */\r\nfunction resolveComponent(name, maybeSelfReference) {\r\n    return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\r\n}\r\nconst NULL_DYNAMIC_COMPONENT = Symbol();\r\n/**\r\n * @private\r\n */\r\nfunction resolveDynamicComponent(component) {\r\n    if (isString(component)) {\r\n        return resolveAsset(COMPONENTS, component, false) || component;\r\n    }\r\n    else {\r\n        // invalid types will fallthrough to createVNode and raise warning\r\n        return (component || NULL_DYNAMIC_COMPONENT);\r\n    }\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction resolveDirective(name) {\r\n    return resolveAsset(DIRECTIVES, name);\r\n}\r\n// implementation\r\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\r\n    const instance = currentRenderingInstance || currentInstance;\r\n    if (instance) {\r\n        const Component = instance.type;\r\n        // explicit self name has highest priority\r\n        if (type === COMPONENTS) {\r\n            const selfName = getComponentName(Component);\r\n            if (selfName &&\r\n                (selfName === name ||\r\n                    selfName === camelize(name) ||\r\n                    selfName === capitalize(camelize(name)))) {\r\n                return Component;\r\n            }\r\n        }\r\n        const res = \r\n        // local registration\r\n        // check instance[type] first for components with mixin or extends.\r\n        resolve(instance[type] || Component[type], name) ||\r\n            // global registration\r\n            resolve(instance.appContext[type], name);\r\n        if (!res && maybeSelfReference) {\r\n            // fallback to implicit self-reference\r\n            return Component;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && warnMissing && !res) {\r\n            warn(`Failed to resolve ${type.slice(0, -1)}: ${name}`);\r\n        }\r\n        return res;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`resolve${capitalize(type.slice(0, -1))} ` +\r\n            `can only be used in render() or setup().`);\r\n    }\r\n}\r\nfunction resolve(registry, name) {\r\n    return (registry &&\r\n        (registry[name] ||\r\n            registry[camelize(name)] ||\r\n            registry[capitalize(camelize(name))]));\r\n}\n\nconst Fragment = Symbol((process.env.NODE_ENV !== 'production') ? 'Fragment' : undefined);\r\nconst Text = Symbol((process.env.NODE_ENV !== 'production') ? 'Text' : undefined);\r\nconst Comment = Symbol((process.env.NODE_ENV !== 'production') ? 'Comment' : undefined);\r\nconst Static = Symbol((process.env.NODE_ENV !== 'production') ? 'Static' : undefined);\r\n// Since v-if and v-for are the two possible ways node structure can dynamically\r\n// change, once we consider v-if branches and each v-for fragment a block, we\r\n// can divide a template into nested blocks, and within each block the node\r\n// structure would be stable. This allows us to skip most children diffing\r\n// and only worry about the dynamic nodes (indicated by patch flags).\r\nconst blockStack = [];\r\nlet currentBlock = null;\r\n/**\r\n * Open a block.\r\n * This must be called before `createBlock`. It cannot be part of `createBlock`\r\n * because the children of the block are evaluated before `createBlock` itself\r\n * is called. The generated code typically looks like this:\r\n *\r\n * ```js\r\n * function render() {\r\n *   return (openBlock(),createBlock('div', null, [...]))\r\n * }\r\n * ```\r\n * disableTracking is true when creating a v-for fragment block, since a v-for\r\n * fragment always diffs its children.\r\n *\r\n * @private\r\n */\r\nfunction openBlock(disableTracking = false) {\r\n    blockStack.push((currentBlock = disableTracking ? null : []));\r\n}\r\nfunction closeBlock() {\r\n    blockStack.pop();\r\n    currentBlock = blockStack[blockStack.length - 1] || null;\r\n}\r\n// Whether we should be tracking dynamic child nodes inside a block.\r\n// Only tracks when this value is > 0\r\n// We are not using a simple boolean because this value may need to be\r\n// incremented/decremented by nested usage of v-once (see below)\r\nlet shouldTrack = 1;\r\n/**\r\n * Block tracking sometimes needs to be disabled, for example during the\r\n * creation of a tree that needs to be cached by v-once. The compiler generates\r\n * code like this:\r\n *\r\n * ``` js\r\n * _cache[1] || (\r\n *   setBlockTracking(-1),\r\n *   _cache[1] = createVNode(...),\r\n *   setBlockTracking(1),\r\n *   _cache[1]\r\n * )\r\n * ```\r\n *\r\n * @private\r\n */\r\nfunction setBlockTracking(value) {\r\n    shouldTrack += value;\r\n}\r\n/**\r\n * Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n * A block root keeps track of dynamic nodes within the block in the\r\n * `dynamicChildren` array.\r\n *\r\n * @private\r\n */\r\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\r\n    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);\r\n    // save current block children on the block vnode\r\n    vnode.dynamicChildren = currentBlock || EMPTY_ARR;\r\n    // close block\r\n    closeBlock();\r\n    // a block is always going to be patched, so track it as a child of its\r\n    // parent block\r\n    if (shouldTrack > 0 && currentBlock) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nfunction isVNode(value) {\r\n    return value ? value.__v_isVNode === true : false;\r\n}\r\nfunction isSameVNodeType(n1, n2) {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        n2.shapeFlag & 6 /* COMPONENT */ &&\r\n        hmrDirtyComponents.has(n2.type)) {\r\n        // HMR only: if the component has been hot-updated, force a reload.\r\n        return false;\r\n    }\r\n    return n1.type === n2.type && n1.key === n2.key;\r\n}\r\nlet vnodeArgsTransformer;\r\n/**\r\n * Internal API for registering an arguments transform for createVNode\r\n * used for creating stubs in the test-utils\r\n * It is *internal* but needs to be exposed for test-utils to pick up proper\r\n * typings\r\n */\r\nfunction transformVNodeArgs(transformer) {\r\n    vnodeArgsTransformer = transformer;\r\n}\r\nconst createVNodeWithArgsTransform = (...args) => {\r\n    return _createVNode(...(vnodeArgsTransformer\r\n        ? vnodeArgsTransformer(args, currentRenderingInstance)\r\n        : args));\r\n};\r\nconst InternalObjectKey = `__vInternal`;\r\nconst normalizeKey = ({ key }) => key != null ? key : null;\r\nconst normalizeRef = ({ ref }) => {\r\n    return (ref != null\r\n        ? isString(ref) || isRef(ref) || isFunction(ref)\r\n            ? { i: currentRenderingInstance, r: ref }\r\n            : ref\r\n        : null);\r\n};\r\nconst createVNode = ((process.env.NODE_ENV !== 'production')\r\n    ? createVNodeWithArgsTransform\r\n    : _createVNode);\r\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\r\n    if (!type || type === NULL_DYNAMIC_COMPONENT) {\r\n        if ((process.env.NODE_ENV !== 'production') && !type) {\r\n            warn(`Invalid vnode type when creating vnode: ${type}.`);\r\n        }\r\n        type = Comment;\r\n    }\r\n    if (isVNode(type)) {\r\n        // createVNode receiving an existing vnode. This happens in cases like\r\n        // <component :is=\"vnode\"/>\r\n        // #2078 make sure to merge refs during the clone instead of overwriting it\r\n        const cloned = cloneVNode(type, props, true /* mergeRef: true */);\r\n        if (children) {\r\n            normalizeChildren(cloned, children);\r\n        }\r\n        return cloned;\r\n    }\r\n    // class component normalization.\r\n    if (isClassComponent(type)) {\r\n        type = type.__vccOpts;\r\n    }\r\n    // class & style normalization.\r\n    if (props) {\r\n        // for reactive or proxy objects, we need to clone it to enable mutation.\r\n        if (isProxy(props) || InternalObjectKey in props) {\r\n            props = extend({}, props);\r\n        }\r\n        let { class: klass, style } = props;\r\n        if (klass && !isString(klass)) {\r\n            props.class = normalizeClass(klass);\r\n        }\r\n        if (isObject(style)) {\r\n            // reactive state objects need to be cloned since they are likely to be\r\n            // mutated\r\n            if (isProxy(style) && !isArray(style)) {\r\n                style = extend({}, style);\r\n            }\r\n            props.style = normalizeStyle(style);\r\n        }\r\n    }\r\n    // encode the vnode type information into a bitmap\r\n    const shapeFlag = isString(type)\r\n        ? 1 /* ELEMENT */\r\n        : isSuspense(type)\r\n            ? 128 /* SUSPENSE */\r\n            : isTeleport(type)\r\n                ? 64 /* TELEPORT */\r\n                : isObject(type)\r\n                    ? 4 /* STATEFUL_COMPONENT */\r\n                    : isFunction(type)\r\n                        ? 2 /* FUNCTIONAL_COMPONENT */\r\n                        : 0;\r\n    if ((process.env.NODE_ENV !== 'production') && shapeFlag & 4 /* STATEFUL_COMPONENT */ && isProxy(type)) {\r\n        type = toRaw(type);\r\n        warn(`Vue received a Component which was made a reactive object. This can ` +\r\n            `lead to unnecessary performance overhead, and should be avoided by ` +\r\n            `marking the component with \\`markRaw\\` or using \\`shallowRef\\` ` +\r\n            `instead of \\`ref\\`.`, `\\nComponent that was made reactive: `, type);\r\n    }\r\n    const vnode = {\r\n        __v_isVNode: true,\r\n        [\"__v_skip\" /* SKIP */]: true,\r\n        type,\r\n        props,\r\n        key: props && normalizeKey(props),\r\n        ref: props && normalizeRef(props),\r\n        scopeId: currentScopeId,\r\n        slotScopeIds: null,\r\n        children: null,\r\n        component: null,\r\n        suspense: null,\r\n        ssContent: null,\r\n        ssFallback: null,\r\n        dirs: null,\r\n        transition: null,\r\n        el: null,\r\n        anchor: null,\r\n        target: null,\r\n        targetAnchor: null,\r\n        staticCount: 0,\r\n        shapeFlag,\r\n        patchFlag,\r\n        dynamicProps,\r\n        dynamicChildren: null,\r\n        appContext: null\r\n    };\r\n    // validate key\r\n    if ((process.env.NODE_ENV !== 'production') && vnode.key !== vnode.key) {\r\n        warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\r\n    }\r\n    normalizeChildren(vnode, children);\r\n    // normalize suspense children\r\n    if (shapeFlag & 128 /* SUSPENSE */) {\r\n        const { content, fallback } = normalizeSuspenseChildren(vnode);\r\n        vnode.ssContent = content;\r\n        vnode.ssFallback = fallback;\r\n    }\r\n    if (shouldTrack > 0 &&\r\n        // avoid a block node from tracking itself\r\n        !isBlockNode &&\r\n        // has current parent block\r\n        currentBlock &&\r\n        // presence of a patch flag indicates this node needs patching on updates.\r\n        // component nodes also should always be patched, because even if the\r\n        // component doesn't need to update, it needs to persist the instance on to\r\n        // the next vnode so that it can be properly unmounted later.\r\n        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&\r\n        // the EVENTS flag is only for hydration and if it is the only flag, the\r\n        // vnode should not be considered dynamic due to handler caching.\r\n        patchFlag !== 32 /* HYDRATE_EVENTS */) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\r\n    // This is intentionally NOT using spread or extend to avoid the runtime\r\n    // key enumeration cost.\r\n    const { props, ref, patchFlag, children } = vnode;\r\n    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\r\n    return {\r\n        __v_isVNode: true,\r\n        [\"__v_skip\" /* SKIP */]: true,\r\n        type: vnode.type,\r\n        props: mergedProps,\r\n        key: mergedProps && normalizeKey(mergedProps),\r\n        ref: extraProps && extraProps.ref\r\n            ? // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\r\n                // if the vnode itself already has a ref, cloneVNode will need to merge\r\n                // the refs so the single vnode can be set on multiple refs\r\n                mergeRef && ref\r\n                    ? isArray(ref)\r\n                        ? ref.concat(normalizeRef(extraProps))\r\n                        : [ref, normalizeRef(extraProps)]\r\n                    : normalizeRef(extraProps)\r\n            : ref,\r\n        scopeId: vnode.scopeId,\r\n        slotScopeIds: vnode.slotScopeIds,\r\n        children: (process.env.NODE_ENV !== 'production') && patchFlag === -1 /* HOISTED */ && isArray(children)\r\n            ? children.map(deepCloneVNode)\r\n            : children,\r\n        target: vnode.target,\r\n        targetAnchor: vnode.targetAnchor,\r\n        staticCount: vnode.staticCount,\r\n        shapeFlag: vnode.shapeFlag,\r\n        // if the vnode is cloned with extra props, we can no longer assume its\r\n        // existing patch flag to be reliable and need to add the FULL_PROPS flag.\r\n        // note: perserve flag for fragments since they use the flag for children\r\n        // fast paths only.\r\n        patchFlag: extraProps && vnode.type !== Fragment\r\n            ? patchFlag === -1 // hoisted node\r\n                ? 16 /* FULL_PROPS */\r\n                : patchFlag | 16 /* FULL_PROPS */\r\n            : patchFlag,\r\n        dynamicProps: vnode.dynamicProps,\r\n        dynamicChildren: vnode.dynamicChildren,\r\n        appContext: vnode.appContext,\r\n        dirs: vnode.dirs,\r\n        transition: vnode.transition,\r\n        // These should technically only be non-null on mounted VNodes. However,\r\n        // they *should* be copied for kept-alive vnodes. So we just always copy\r\n        // them since them being non-null during a mount doesn't affect the logic as\r\n        // they will simply be overwritten.\r\n        component: vnode.component,\r\n        suspense: vnode.suspense,\r\n        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\r\n        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\r\n        el: vnode.el,\r\n        anchor: vnode.anchor\r\n    };\r\n}\r\n/**\r\n * Dev only, for HMR of hoisted vnodes reused in v-for\r\n * https://github.com/vitejs/vite/issues/2022\r\n */\r\nfunction deepCloneVNode(vnode) {\r\n    const cloned = cloneVNode(vnode);\r\n    if (isArray(vnode.children)) {\r\n        cloned.children = vnode.children.map(deepCloneVNode);\r\n    }\r\n    return cloned;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createTextVNode(text = ' ', flag = 0) {\r\n    return createVNode(Text, null, text, flag);\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createStaticVNode(content, numberOfNodes) {\r\n    // A static vnode can contain multiple stringified elements, and the number\r\n    // of elements is necessary for hydration.\r\n    const vnode = createVNode(Static, null, content);\r\n    vnode.staticCount = numberOfNodes;\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createCommentVNode(text = '', \r\n// when used as the v-else branch, the comment node must be created as a\r\n// block to ensure correct updates.\r\nasBlock = false) {\r\n    return asBlock\r\n        ? (openBlock(), createBlock(Comment, null, text))\r\n        : createVNode(Comment, null, text);\r\n}\r\nfunction normalizeVNode(child) {\r\n    if (child == null || typeof child === 'boolean') {\r\n        // empty placeholder\r\n        return createVNode(Comment);\r\n    }\r\n    else if (isArray(child)) {\r\n        // fragment\r\n        return createVNode(Fragment, null, child);\r\n    }\r\n    else if (typeof child === 'object') {\r\n        // already vnode, this should be the most common since compiled templates\r\n        // always produce all-vnode children arrays\r\n        return child.el === null ? child : cloneVNode(child);\r\n    }\r\n    else {\r\n        // strings and numbers\r\n        return createVNode(Text, null, String(child));\r\n    }\r\n}\r\n// optimized normalization for template-compiled render fns\r\nfunction cloneIfMounted(child) {\r\n    return child.el === null ? child : cloneVNode(child);\r\n}\r\nfunction normalizeChildren(vnode, children) {\r\n    let type = 0;\r\n    const { shapeFlag } = vnode;\r\n    if (children == null) {\r\n        children = null;\r\n    }\r\n    else if (isArray(children)) {\r\n        type = 16 /* ARRAY_CHILDREN */;\r\n    }\r\n    else if (typeof children === 'object') {\r\n        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {\r\n            // Normalize slot to plain children for plain element and Teleport\r\n            const slot = children.default;\r\n            if (slot) {\r\n                // _c marker is added by withCtx() indicating this is a compiled slot\r\n                slot._c && setCompiledSlotRendering(1);\r\n                normalizeChildren(vnode, slot());\r\n                slot._c && setCompiledSlotRendering(-1);\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n            type = 32 /* SLOTS_CHILDREN */;\r\n            const slotFlag = children._;\r\n            if (!slotFlag && !(InternalObjectKey in children)) {\r\n                children._ctx = currentRenderingInstance;\r\n            }\r\n            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {\r\n                // a child component receives forwarded slots from the parent.\r\n                // its slot type is determined by its parent's slot type.\r\n                if (currentRenderingInstance.vnode.patchFlag & 1024 /* DYNAMIC_SLOTS */) {\r\n                    children._ = 2 /* DYNAMIC */;\r\n                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;\r\n                }\r\n                else {\r\n                    children._ = 1 /* STABLE */;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (isFunction(children)) {\r\n        children = { default: children, _ctx: currentRenderingInstance };\r\n        type = 32 /* SLOTS_CHILDREN */;\r\n    }\r\n    else {\r\n        children = String(children);\r\n        // force teleport children to array so it can be moved around\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type = 16 /* ARRAY_CHILDREN */;\r\n            children = [createTextVNode(children)];\r\n        }\r\n        else {\r\n            type = 8 /* TEXT_CHILDREN */;\r\n        }\r\n    }\r\n    vnode.children = children;\r\n    vnode.shapeFlag |= type;\r\n}\r\nfunction mergeProps(...args) {\r\n    const ret = extend({}, args[0]);\r\n    for (let i = 1; i < args.length; i++) {\r\n        const toMerge = args[i];\r\n        for (const key in toMerge) {\r\n            if (key === 'class') {\r\n                if (ret.class !== toMerge.class) {\r\n                    ret.class = normalizeClass([ret.class, toMerge.class]);\r\n                }\r\n            }\r\n            else if (key === 'style') {\r\n                ret.style = normalizeStyle([ret.style, toMerge.style]);\r\n            }\r\n            else if (isOn(key)) {\r\n                const existing = ret[key];\r\n                const incoming = toMerge[key];\r\n                if (existing !== incoming) {\r\n                    ret[key] = existing\r\n                        ? [].concat(existing, toMerge[key])\r\n                        : incoming;\r\n                }\r\n            }\r\n            else if (key !== '') {\r\n                ret[key] = toMerge[key];\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\n\nfunction provide(key, value) {\r\n    if (!currentInstance) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`provide() can only be used inside setup().`);\r\n        }\r\n    }\r\n    else {\r\n        let provides = currentInstance.provides;\r\n        // by default an instance inherits its parent's provides object\r\n        // but when it needs to provide values of its own, it creates its\r\n        // own provides object using parent provides object as prototype.\r\n        // this way in `inject` we can simply look up injections from direct\r\n        // parent and let the prototype chain do the work.\r\n        const parentProvides = currentInstance.parent && currentInstance.parent.provides;\r\n        if (parentProvides === provides) {\r\n            provides = currentInstance.provides = Object.create(parentProvides);\r\n        }\r\n        // TS doesn't allow symbol as index type\r\n        provides[key] = value;\r\n    }\r\n}\r\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\r\n    // fallback to `currentRenderingInstance` so that this can be called in\r\n    // a functional component\r\n    const instance = currentInstance || currentRenderingInstance;\r\n    if (instance) {\r\n        // #2400\r\n        // to support `app.use` plugins,\r\n        // fallback to appContext's `provides` if the intance is at root\r\n        const provides = instance.parent == null\r\n            ? instance.vnode.appContext && instance.vnode.appContext.provides\r\n            : instance.parent.provides;\r\n        if (provides && key in provides) {\r\n            // TS doesn't allow symbol as index type\r\n            return provides[key];\r\n        }\r\n        else if (arguments.length > 1) {\r\n            return treatDefaultAsFactory && isFunction(defaultValue)\r\n                ? defaultValue()\r\n                : defaultValue;\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`injection \"${String(key)}\" not found.`);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`inject() can only be used inside setup() or functional components.`);\r\n    }\r\n}\n\nfunction createDuplicateChecker() {\r\n    const cache = Object.create(null);\r\n    return (type, key) => {\r\n        if (cache[key]) {\r\n            warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\r\n        }\r\n        else {\r\n            cache[key] = type;\r\n        }\r\n    };\r\n}\r\nlet shouldCacheAccess = true;\r\nfunction applyOptions(instance, options, deferredData = [], deferredWatch = [], deferredProvide = [], asMixin = false) {\r\n    const { \r\n    // composition\r\n    mixins, extends: extendsOptions, \r\n    // state\r\n    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, \r\n    // assets\r\n    components, directives, \r\n    // lifecycle\r\n    beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, \r\n    // public API\r\n    expose } = options;\r\n    const publicThis = instance.proxy;\r\n    const ctx = instance.ctx;\r\n    const globalMixins = instance.appContext.mixins;\r\n    if (asMixin && render && instance.render === NOOP) {\r\n        instance.render = render;\r\n    }\r\n    // applyOptions is called non-as-mixin once per instance\r\n    if (!asMixin) {\r\n        shouldCacheAccess = false;\r\n        callSyncHook('beforeCreate', \"bc\" /* BEFORE_CREATE */, options, instance, globalMixins);\r\n        shouldCacheAccess = true;\r\n        // global mixins are applied first\r\n        applyMixins(instance, globalMixins, deferredData, deferredWatch, deferredProvide);\r\n    }\r\n    // extending a base component...\r\n    if (extendsOptions) {\r\n        applyOptions(instance, extendsOptions, deferredData, deferredWatch, deferredProvide, true);\r\n    }\r\n    // local mixins\r\n    if (mixins) {\r\n        applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide);\r\n    }\r\n    const checkDuplicateProperties = (process.env.NODE_ENV !== 'production') ? createDuplicateChecker() : null;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const [propsOptions] = instance.propsOptions;\r\n        if (propsOptions) {\r\n            for (const key in propsOptions) {\r\n                checkDuplicateProperties(\"Props\" /* PROPS */, key);\r\n            }\r\n        }\r\n    }\r\n    // options initialization order (to be consistent with Vue 2):\r\n    // - props (already done outside of this function)\r\n    // - inject\r\n    // - methods\r\n    // - data (deferred since it relies on `this` access)\r\n    // - computed\r\n    // - watch (deferred since it relies on `this` access)\r\n    if (injectOptions) {\r\n        if (isArray(injectOptions)) {\r\n            for (let i = 0; i < injectOptions.length; i++) {\r\n                const key = injectOptions[i];\r\n                ctx[key] = inject(key);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Inject\" /* INJECT */, key);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (const key in injectOptions) {\r\n                const opt = injectOptions[key];\r\n                if (isObject(opt)) {\r\n                    ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);\r\n                }\r\n                else {\r\n                    ctx[key] = inject(opt);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Inject\" /* INJECT */, key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (methods) {\r\n        for (const key in methods) {\r\n            const methodHandler = methods[key];\r\n            if (isFunction(methodHandler)) {\r\n                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,\r\n                // and those are read-only but reconfigurable, so it needs to be redefined here\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    Object.defineProperty(ctx, key, {\r\n                        value: methodHandler.bind(publicThis),\r\n                        configurable: true,\r\n                        enumerable: true,\r\n                        writable: true\r\n                    });\r\n                }\r\n                else {\r\n                    ctx[key] = methodHandler.bind(publicThis);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Methods\" /* METHODS */, key);\r\n                }\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. ` +\r\n                    `Did you reference the function correctly?`);\r\n            }\r\n        }\r\n    }\r\n    if (!asMixin) {\r\n        if (deferredData.length) {\r\n            deferredData.forEach(dataFn => resolveData(instance, dataFn, publicThis));\r\n        }\r\n        if (dataOptions) {\r\n            // @ts-ignore dataOptions is not fully type safe\r\n            resolveData(instance, dataOptions, publicThis);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const rawData = toRaw(instance.data);\r\n            for (const key in rawData) {\r\n                checkDuplicateProperties(\"Data\" /* DATA */, key);\r\n                // expose data on ctx during dev\r\n                if (key[0] !== '$' && key[0] !== '_') {\r\n                    Object.defineProperty(ctx, key, {\r\n                        configurable: true,\r\n                        enumerable: true,\r\n                        get: () => rawData[key],\r\n                        set: NOOP\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (dataOptions) {\r\n        deferredData.push(dataOptions);\r\n    }\r\n    if (computedOptions) {\r\n        for (const key in computedOptions) {\r\n            const opt = computedOptions[key];\r\n            const get = isFunction(opt)\r\n                ? opt.bind(publicThis, publicThis)\r\n                : isFunction(opt.get)\r\n                    ? opt.get.bind(publicThis, publicThis)\r\n                    : NOOP;\r\n            if ((process.env.NODE_ENV !== 'production') && get === NOOP) {\r\n                warn(`Computed property \"${key}\" has no getter.`);\r\n            }\r\n            const set = !isFunction(opt) && isFunction(opt.set)\r\n                ? opt.set.bind(publicThis)\r\n                : (process.env.NODE_ENV !== 'production')\r\n                    ? () => {\r\n                        warn(`Write operation failed: computed property \"${key}\" is readonly.`);\r\n                    }\r\n                    : NOOP;\r\n            const c = computed({\r\n                get,\r\n                set\r\n            });\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => c.value,\r\n                set: v => (c.value = v)\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\r\n            }\r\n        }\r\n    }\r\n    if (watchOptions) {\r\n        deferredWatch.push(watchOptions);\r\n    }\r\n    if (!asMixin && deferredWatch.length) {\r\n        deferredWatch.forEach(watchOptions => {\r\n            for (const key in watchOptions) {\r\n                createWatcher(watchOptions[key], ctx, publicThis, key);\r\n            }\r\n        });\r\n    }\r\n    if (provideOptions) {\r\n        deferredProvide.push(provideOptions);\r\n    }\r\n    if (!asMixin && deferredProvide.length) {\r\n        deferredProvide.forEach(provideOptions => {\r\n            const provides = isFunction(provideOptions)\r\n                ? provideOptions.call(publicThis)\r\n                : provideOptions;\r\n            Reflect.ownKeys(provides).forEach(key => {\r\n                provide(key, provides[key]);\r\n            });\r\n        });\r\n    }\r\n    // asset options.\r\n    // To reduce memory usage, only components with mixins or extends will have\r\n    // resolved asset registry attached to instance.\r\n    if (asMixin) {\r\n        if (components) {\r\n            extend(instance.components ||\r\n                (instance.components = extend({}, instance.type.components)), components);\r\n        }\r\n        if (directives) {\r\n            extend(instance.directives ||\r\n                (instance.directives = extend({}, instance.type.directives)), directives);\r\n        }\r\n    }\r\n    // lifecycle options\r\n    if (!asMixin) {\r\n        callSyncHook('created', \"c\" /* CREATED */, options, instance, globalMixins);\r\n    }\r\n    if (beforeMount) {\r\n        onBeforeMount(beforeMount.bind(publicThis));\r\n    }\r\n    if (mounted) {\r\n        onMounted(mounted.bind(publicThis));\r\n    }\r\n    if (beforeUpdate) {\r\n        onBeforeUpdate(beforeUpdate.bind(publicThis));\r\n    }\r\n    if (updated) {\r\n        onUpdated(updated.bind(publicThis));\r\n    }\r\n    if (activated) {\r\n        onActivated(activated.bind(publicThis));\r\n    }\r\n    if (deactivated) {\r\n        onDeactivated(deactivated.bind(publicThis));\r\n    }\r\n    if (errorCaptured) {\r\n        onErrorCaptured(errorCaptured.bind(publicThis));\r\n    }\r\n    if (renderTracked) {\r\n        onRenderTracked(renderTracked.bind(publicThis));\r\n    }\r\n    if (renderTriggered) {\r\n        onRenderTriggered(renderTriggered.bind(publicThis));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && beforeDestroy) {\r\n        warn(`\\`beforeDestroy\\` has been renamed to \\`beforeUnmount\\`.`);\r\n    }\r\n    if (beforeUnmount) {\r\n        onBeforeUnmount(beforeUnmount.bind(publicThis));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && destroyed) {\r\n        warn(`\\`destroyed\\` has been renamed to \\`unmounted\\`.`);\r\n    }\r\n    if (unmounted) {\r\n        onUnmounted(unmounted.bind(publicThis));\r\n    }\r\n    if (isArray(expose)) {\r\n        if (!asMixin) {\r\n            if (expose.length) {\r\n                const exposed = instance.exposed || (instance.exposed = proxyRefs({}));\r\n                expose.forEach(key => {\r\n                    exposed[key] = toRef(publicThis, key);\r\n                });\r\n            }\r\n            else if (!instance.exposed) {\r\n                instance.exposed = EMPTY_OBJ;\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`The \\`expose\\` option is ignored when used in mixins.`);\r\n        }\r\n    }\r\n}\r\nfunction callSyncHook(name, type, options, instance, globalMixins) {\r\n    for (let i = 0; i < globalMixins.length; i++) {\r\n        callHookWithMixinAndExtends(name, type, globalMixins[i], instance);\r\n    }\r\n    callHookWithMixinAndExtends(name, type, options, instance);\r\n}\r\nfunction callHookWithMixinAndExtends(name, type, options, instance) {\r\n    const { extends: base, mixins } = options;\r\n    const selfHook = options[name];\r\n    if (base) {\r\n        callHookWithMixinAndExtends(name, type, base, instance);\r\n    }\r\n    if (mixins) {\r\n        for (let i = 0; i < mixins.length; i++) {\r\n            callHookWithMixinAndExtends(name, type, mixins[i], instance);\r\n        }\r\n    }\r\n    if (selfHook) {\r\n        callWithAsyncErrorHandling(selfHook.bind(instance.proxy), instance, type);\r\n    }\r\n}\r\nfunction applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide) {\r\n    for (let i = 0; i < mixins.length; i++) {\r\n        applyOptions(instance, mixins[i], deferredData, deferredWatch, deferredProvide, true);\r\n    }\r\n}\r\nfunction resolveData(instance, dataFn, publicThis) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(dataFn)) {\r\n        warn(`The data option must be a function. ` +\r\n            `Plain object usage is no longer supported.`);\r\n    }\r\n    shouldCacheAccess = false;\r\n    const data = dataFn.call(publicThis, publicThis);\r\n    shouldCacheAccess = true;\r\n    if ((process.env.NODE_ENV !== 'production') && isPromise(data)) {\r\n        warn(`data() returned a Promise - note data() cannot be async; If you ` +\r\n            `intend to perform data fetching before component renders, use ` +\r\n            `async setup() + <Suspense>.`);\r\n    }\r\n    if (!isObject(data)) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`data() should return an object.`);\r\n    }\r\n    else if (instance.data === EMPTY_OBJ) {\r\n        instance.data = reactive(data);\r\n    }\r\n    else {\r\n        // existing data: this is a mixin or extends.\r\n        extend(instance.data, data);\r\n    }\r\n}\r\nfunction createWatcher(raw, ctx, publicThis, key) {\r\n    const getter = key.includes('.')\r\n        ? createPathGetter(publicThis, key)\r\n        : () => publicThis[key];\r\n    if (isString(raw)) {\r\n        const handler = ctx[raw];\r\n        if (isFunction(handler)) {\r\n            watch(getter, handler);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\r\n        }\r\n    }\r\n    else if (isFunction(raw)) {\r\n        watch(getter, raw.bind(publicThis));\r\n    }\r\n    else if (isObject(raw)) {\r\n        if (isArray(raw)) {\r\n            raw.forEach(r => createWatcher(r, ctx, publicThis, key));\r\n        }\r\n        else {\r\n            const handler = isFunction(raw.handler)\r\n                ? raw.handler.bind(publicThis)\r\n                : ctx[raw.handler];\r\n            if (isFunction(handler)) {\r\n                watch(getter, handler, raw);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\r\n            }\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid watch option: \"${key}\"`, raw);\r\n    }\r\n}\r\nfunction createPathGetter(ctx, path) {\r\n    const segments = path.split('.');\r\n    return () => {\r\n        let cur = ctx;\r\n        for (let i = 0; i < segments.length && cur; i++) {\r\n            cur = cur[segments[i]];\r\n        }\r\n        return cur;\r\n    };\r\n}\r\nfunction resolveMergedOptions(instance) {\r\n    const raw = instance.type;\r\n    const { __merged, mixins, extends: extendsOptions } = raw;\r\n    if (__merged)\r\n        return __merged;\r\n    const globalMixins = instance.appContext.mixins;\r\n    if (!globalMixins.length && !mixins && !extendsOptions)\r\n        return raw;\r\n    const options = {};\r\n    globalMixins.forEach(m => mergeOptions(options, m, instance));\r\n    mergeOptions(options, raw, instance);\r\n    return (raw.__merged = options);\r\n}\r\nfunction mergeOptions(to, from, instance) {\r\n    const strats = instance.appContext.config.optionMergeStrategies;\r\n    const { mixins, extends: extendsOptions } = from;\r\n    extendsOptions && mergeOptions(to, extendsOptions, instance);\r\n    mixins &&\r\n        mixins.forEach((m) => mergeOptions(to, m, instance));\r\n    for (const key in from) {\r\n        if (strats && hasOwn(strats, key)) {\r\n            to[key] = strats[key](to[key], from[key], instance.proxy, key);\r\n        }\r\n        else {\r\n            to[key] = from[key];\r\n        }\r\n    }\r\n}\n\n/**\r\n * #2437 In Vue 3, functional components do not have a public instance proxy but\r\n * they exist in the internal parent chain. For code that relies on traversing\r\n * public $parent chains, skip functional ones and go to the parent instead.\r\n */\r\nconst getPublicInstance = (i) => {\r\n    if (!i)\r\n        return null;\r\n    if (isStatefulComponent(i))\r\n        return i.exposed ? i.exposed : i.proxy;\r\n    return getPublicInstance(i.parent);\r\n};\r\nconst publicPropertiesMap = extend(Object.create(null), {\r\n    $: i => i,\r\n    $el: i => i.vnode.el,\r\n    $data: i => i.data,\r\n    $props: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.props) : i.props),\r\n    $attrs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.attrs) : i.attrs),\r\n    $slots: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.slots) : i.slots),\r\n    $refs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.refs) : i.refs),\r\n    $parent: i => getPublicInstance(i.parent),\r\n    $root: i => getPublicInstance(i.root),\r\n    $emit: i => i.emit,\r\n    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),\r\n    $forceUpdate: i => () => queueJob(i.update),\r\n    $nextTick: i => nextTick.bind(i.proxy),\r\n    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)\r\n});\r\nconst PublicInstanceProxyHandlers = {\r\n    get({ _: instance }, key) {\r\n        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\r\n        // let @vue/reactivity know it should never observe Vue public instances.\r\n        if (key === \"__v_skip\" /* SKIP */) {\r\n            return true;\r\n        }\r\n        // for internal formatters to know that this is a Vue instance\r\n        if ((process.env.NODE_ENV !== 'production') && key === '__isVue') {\r\n            return true;\r\n        }\r\n        // data / props / ctx\r\n        // This getter gets called for every property access on the render context\r\n        // during render and is a major hotspot. The most expensive part of this\r\n        // is the multiple hasOwn() calls. It's much faster to do a simple property\r\n        // access on a plain object, so we use an accessCache object (with null\r\n        // prototype) to memoize what access type a key corresponds to.\r\n        let normalizedProps;\r\n        if (key[0] !== '$') {\r\n            const n = accessCache[key];\r\n            if (n !== undefined) {\r\n                switch (n) {\r\n                    case 0 /* SETUP */:\r\n                        return setupState[key];\r\n                    case 1 /* DATA */:\r\n                        return data[key];\r\n                    case 3 /* CONTEXT */:\r\n                        return ctx[key];\r\n                    case 2 /* PROPS */:\r\n                        return props[key];\r\n                    // default: just fallthrough\r\n                }\r\n            }\r\n            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n                accessCache[key] = 0 /* SETUP */;\r\n                return setupState[key];\r\n            }\r\n            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n                accessCache[key] = 1 /* DATA */;\r\n                return data[key];\r\n            }\r\n            else if (\r\n            // only cache other properties when instance has declared (thus stable)\r\n            // props\r\n            (normalizedProps = instance.propsOptions[0]) &&\r\n                hasOwn(normalizedProps, key)) {\r\n                accessCache[key] = 2 /* PROPS */;\r\n                return props[key];\r\n            }\r\n            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n                accessCache[key] = 3 /* CONTEXT */;\r\n                return ctx[key];\r\n            }\r\n            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\r\n                accessCache[key] = 4 /* OTHER */;\r\n            }\r\n        }\r\n        const publicGetter = publicPropertiesMap[key];\r\n        let cssModule, globalProperties;\r\n        // public $xxx properties\r\n        if (publicGetter) {\r\n            if (key === '$attrs') {\r\n                track(instance, \"get\" /* GET */, key);\r\n                (process.env.NODE_ENV !== 'production') && markAttrsAccessed();\r\n            }\r\n            return publicGetter(instance);\r\n        }\r\n        else if (\r\n        // css module (injected by vue-loader)\r\n        (cssModule = type.__cssModules) &&\r\n            (cssModule = cssModule[key])) {\r\n            return cssModule;\r\n        }\r\n        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n            // user may set custom properties to `this` that start with `$`\r\n            accessCache[key] = 3 /* CONTEXT */;\r\n            return ctx[key];\r\n        }\r\n        else if (\r\n        // global properties\r\n        ((globalProperties = appContext.config.globalProperties),\r\n            hasOwn(globalProperties, key))) {\r\n            return globalProperties[key];\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production') &&\r\n            currentRenderingInstance &&\r\n            (!isString(key) ||\r\n                // #1091 avoid internal isRef/isVNode checks on component instance leading\r\n                // to infinite warning loop\r\n                key.indexOf('__v') !== 0)) {\r\n            if (data !== EMPTY_OBJ &&\r\n                (key[0] === '$' || key[0] === '_') &&\r\n                hasOwn(data, key)) {\r\n                warn(`Property ${JSON.stringify(key)} must be accessed via $data because it starts with a reserved ` +\r\n                    `character (\"$\" or \"_\") and is not proxied on the render context.`);\r\n            }\r\n            else if (instance === currentRenderingInstance) {\r\n                warn(`Property ${JSON.stringify(key)} was accessed during render ` +\r\n                    `but is not defined on instance.`);\r\n            }\r\n        }\r\n    },\r\n    set({ _: instance }, key, value) {\r\n        const { data, setupState, ctx } = instance;\r\n        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n            setupState[key] = value;\r\n        }\r\n        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n            data[key] = value;\r\n        }\r\n        else if (hasOwn(instance.props, key)) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate prop \"${key}\". Props are readonly.`, instance);\r\n            return false;\r\n        }\r\n        if (key[0] === '$' && key.slice(1) in instance) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate public property \"${key}\". ` +\r\n                    `Properties starting with $ are reserved and readonly.`, instance);\r\n            return false;\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && key in instance.appContext.config.globalProperties) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    value\r\n                });\r\n            }\r\n            else {\r\n                ctx[key] = value;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {\r\n        let normalizedProps;\r\n        return (accessCache[key] !== undefined ||\r\n            (data !== EMPTY_OBJ && hasOwn(data, key)) ||\r\n            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||\r\n            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||\r\n            hasOwn(ctx, key) ||\r\n            hasOwn(publicPropertiesMap, key) ||\r\n            hasOwn(appContext.config.globalProperties, key));\r\n    }\r\n};\r\nif ((process.env.NODE_ENV !== 'production') && !false) {\r\n    PublicInstanceProxyHandlers.ownKeys = (target) => {\r\n        warn(`Avoid app logic that relies on enumerating keys on a component instance. ` +\r\n            `The keys will be empty in production mode to avoid performance overhead.`);\r\n        return Reflect.ownKeys(target);\r\n    };\r\n}\r\nconst RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {\r\n    get(target, key) {\r\n        // fast path for unscopables when using `with` block\r\n        if (key === Symbol.unscopables) {\r\n            return;\r\n        }\r\n        return PublicInstanceProxyHandlers.get(target, key, target);\r\n    },\r\n    has(_, key) {\r\n        const has = key[0] !== '_' && !isGloballyWhitelisted(key);\r\n        if ((process.env.NODE_ENV !== 'production') && !has && PublicInstanceProxyHandlers.has(_, key)) {\r\n            warn(`Property ${JSON.stringify(key)} should not start with _ which is a reserved prefix for Vue internals.`);\r\n        }\r\n        return has;\r\n    }\r\n});\r\n// In dev mode, the proxy target exposes the same properties as seen on `this`\r\n// for easier console inspection. In prod mode it will be an empty object so\r\n// these properties definitions can be skipped.\r\nfunction createRenderContext(instance) {\r\n    const target = {};\r\n    // expose internal instance for proxy handlers\r\n    Object.defineProperty(target, `_`, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        get: () => instance\r\n    });\r\n    // expose public properties\r\n    Object.keys(publicPropertiesMap).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => publicPropertiesMap[key](instance),\r\n            // intercepted by the proxy so no need for implementation,\r\n            // but needed to prevent set errors\r\n            set: NOOP\r\n        });\r\n    });\r\n    // expose global properties\r\n    const { globalProperties } = instance.appContext.config;\r\n    Object.keys(globalProperties).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => globalProperties[key],\r\n            set: NOOP\r\n        });\r\n    });\r\n    return target;\r\n}\r\n// dev only\r\nfunction exposePropsOnRenderContext(instance) {\r\n    const { ctx, propsOptions: [propsOptions] } = instance;\r\n    if (propsOptions) {\r\n        Object.keys(propsOptions).forEach(key => {\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => instance.props[key],\r\n                set: NOOP\r\n            });\r\n        });\r\n    }\r\n}\r\n// dev only\r\nfunction exposeSetupStateOnRenderContext(instance) {\r\n    const { ctx, setupState } = instance;\r\n    Object.keys(toRaw(setupState)).forEach(key => {\r\n        if (key[0] === '$' || key[0] === '_') {\r\n            warn(`setup() return property ${JSON.stringify(key)} should not start with \"$\" or \"_\" ` +\r\n                `which are reserved prefixes for Vue internals.`);\r\n            return;\r\n        }\r\n        Object.defineProperty(ctx, key, {\r\n            enumerable: true,\r\n            configurable: true,\r\n            get: () => setupState[key],\r\n            set: NOOP\r\n        });\r\n    });\r\n}\n\nconst emptyAppContext = createAppContext();\r\nlet uid$1 = 0;\r\nfunction createComponentInstance(vnode, parent, suspense) {\r\n    const type = vnode.type;\r\n    // inherit parent app context - or - if root, adopt from root vnode\r\n    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\r\n    const instance = {\r\n        uid: uid$1++,\r\n        vnode,\r\n        type,\r\n        parent,\r\n        appContext,\r\n        root: null,\r\n        next: null,\r\n        subTree: null,\r\n        update: null,\r\n        render: null,\r\n        proxy: null,\r\n        exposed: null,\r\n        withProxy: null,\r\n        effects: null,\r\n        provides: parent ? parent.provides : Object.create(appContext.provides),\r\n        accessCache: null,\r\n        renderCache: [],\r\n        // local resovled assets\r\n        components: null,\r\n        directives: null,\r\n        // resolved props and emits options\r\n        propsOptions: normalizePropsOptions(type, appContext),\r\n        emitsOptions: normalizeEmitsOptions(type, appContext),\r\n        // emit\r\n        emit: null,\r\n        emitted: null,\r\n        // props default value\r\n        propsDefaults: EMPTY_OBJ,\r\n        // state\r\n        ctx: EMPTY_OBJ,\r\n        data: EMPTY_OBJ,\r\n        props: EMPTY_OBJ,\r\n        attrs: EMPTY_OBJ,\r\n        slots: EMPTY_OBJ,\r\n        refs: EMPTY_OBJ,\r\n        setupState: EMPTY_OBJ,\r\n        setupContext: null,\r\n        // suspense related\r\n        suspense,\r\n        suspenseId: suspense ? suspense.pendingId : 0,\r\n        asyncDep: null,\r\n        asyncResolved: false,\r\n        // lifecycle hooks\r\n        // not using enums here because it results in computed properties\r\n        isMounted: false,\r\n        isUnmounted: false,\r\n        isDeactivated: false,\r\n        bc: null,\r\n        c: null,\r\n        bm: null,\r\n        m: null,\r\n        bu: null,\r\n        u: null,\r\n        um: null,\r\n        bum: null,\r\n        da: null,\r\n        a: null,\r\n        rtg: null,\r\n        rtc: null,\r\n        ec: null\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        instance.ctx = createRenderContext(instance);\r\n    }\r\n    else {\r\n        instance.ctx = { _: instance };\r\n    }\r\n    instance.root = parent ? parent.root : instance;\r\n    instance.emit = emit.bind(null, instance);\r\n    return instance;\r\n}\r\nlet currentInstance = null;\r\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\r\nconst setCurrentInstance = (instance) => {\r\n    currentInstance = instance;\r\n};\r\nconst isBuiltInTag = /*#__PURE__*/ makeMap('slot,component');\r\nfunction validateComponentName(name, config) {\r\n    const appIsNativeTag = config.isNativeTag || NO;\r\n    if (isBuiltInTag(name) || appIsNativeTag(name)) {\r\n        warn('Do not use built-in or reserved HTML elements as component id: ' + name);\r\n    }\r\n}\r\nfunction isStatefulComponent(instance) {\r\n    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;\r\n}\r\nlet isInSSRComponentSetup = false;\r\nfunction setupComponent(instance, isSSR = false) {\r\n    isInSSRComponentSetup = isSSR;\r\n    const { props, children } = instance.vnode;\r\n    const isStateful = isStatefulComponent(instance);\r\n    initProps(instance, props, isStateful, isSSR);\r\n    initSlots(instance, children);\r\n    const setupResult = isStateful\r\n        ? setupStatefulComponent(instance, isSSR)\r\n        : undefined;\r\n    isInSSRComponentSetup = false;\r\n    return setupResult;\r\n}\r\nfunction setupStatefulComponent(instance, isSSR) {\r\n    const Component = instance.type;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        if (Component.name) {\r\n            validateComponentName(Component.name, instance.appContext.config);\r\n        }\r\n        if (Component.components) {\r\n            const names = Object.keys(Component.components);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateComponentName(names[i], instance.appContext.config);\r\n            }\r\n        }\r\n        if (Component.directives) {\r\n            const names = Object.keys(Component.directives);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateDirectiveName(names[i]);\r\n            }\r\n        }\r\n    }\r\n    // 0. create render proxy property access cache\r\n    instance.accessCache = Object.create(null);\r\n    // 1. create public instance / render proxy\r\n    // also mark it raw so it's never observed\r\n    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        exposePropsOnRenderContext(instance);\r\n    }\r\n    // 2. call setup()\r\n    const { setup } = Component;\r\n    if (setup) {\r\n        const setupContext = (instance.setupContext =\r\n            setup.length > 1 ? createSetupContext(instance) : null);\r\n        currentInstance = instance;\r\n        pauseTracking();\r\n        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [(process.env.NODE_ENV !== 'production') ? shallowReadonly(instance.props) : instance.props, setupContext]);\r\n        resetTracking();\r\n        currentInstance = null;\r\n        if (isPromise(setupResult)) {\r\n            if (isSSR) {\r\n                // return the promise so server-renderer can wait on it\r\n                return setupResult\r\n                    .then((resolvedResult) => {\r\n                    handleSetupResult(instance, resolvedResult, isSSR);\r\n                })\r\n                    .catch(e => {\r\n                    handleError(e, instance, 0 /* SETUP_FUNCTION */);\r\n                });\r\n            }\r\n            else {\r\n                // async setup returned Promise.\r\n                // bail here and wait for re-entry.\r\n                instance.asyncDep = setupResult;\r\n            }\r\n        }\r\n        else {\r\n            handleSetupResult(instance, setupResult, isSSR);\r\n        }\r\n    }\r\n    else {\r\n        finishComponentSetup(instance, isSSR);\r\n    }\r\n}\r\nfunction handleSetupResult(instance, setupResult, isSSR) {\r\n    if (isFunction(setupResult)) {\r\n        // setup returned an inline render function\r\n        {\r\n            instance.render = setupResult;\r\n        }\r\n    }\r\n    else if (isObject(setupResult)) {\r\n        if ((process.env.NODE_ENV !== 'production') && isVNode(setupResult)) {\r\n            warn(`setup() should not return VNodes directly - ` +\r\n                `return a render function instead.`);\r\n        }\r\n        // setup returned bindings.\r\n        // assuming a render function compiled from template is present.\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.devtoolsRawSetupState = setupResult;\r\n        }\r\n        instance.setupState = proxyRefs(setupResult);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            exposeSetupStateOnRenderContext(instance);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production') && setupResult !== undefined) {\r\n        warn(`setup() should return an object. Received: ${setupResult === null ? 'null' : typeof setupResult}`);\r\n    }\r\n    finishComponentSetup(instance, isSSR);\r\n}\r\nlet compile;\r\n// dev only\r\nconst isRuntimeOnly = () => !compile;\r\n/**\r\n * For runtime-dom to register the compiler.\r\n * Note the exported method uses any to avoid d.ts relying on the compiler types.\r\n */\r\nfunction registerRuntimeCompiler(_compile) {\r\n    compile = _compile;\r\n}\r\nfunction finishComponentSetup(instance, isSSR) {\r\n    const Component = instance.type;\r\n    // template / render function normalization\r\n    if (!instance.render) {\r\n        // could be set from setup()\r\n        if (compile && Component.template && !Component.render) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                startMeasure(instance, `compile`);\r\n            }\r\n            Component.render = compile(Component.template, {\r\n                isCustomElement: instance.appContext.config.isCustomElement,\r\n                delimiters: Component.delimiters\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                endMeasure(instance, `compile`);\r\n            }\r\n        }\r\n        instance.render = (Component.render || NOOP);\r\n        // for runtime-compiled render functions using `with` blocks, the render\r\n        // proxy used needs a different `has` handler which is more performant and\r\n        // also only allows a whitelist of globals to fallthrough.\r\n        if (instance.render._rc) {\r\n            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\r\n        }\r\n    }\r\n    // support for 2.x options\r\n    if (__VUE_OPTIONS_API__) {\r\n        currentInstance = instance;\r\n        pauseTracking();\r\n        applyOptions(instance, Component);\r\n        resetTracking();\r\n        currentInstance = null;\r\n    }\r\n    // warn missing template/render\r\n    // the runtime compilation of template in SSR is done by server-render\r\n    if ((process.env.NODE_ENV !== 'production') && !Component.render && instance.render === NOOP && !isSSR) {\r\n        /* istanbul ignore if */\r\n        if (!compile && Component.template) {\r\n            warn(`Component provided template option but ` +\r\n                `runtime compilation is not supported in this build of Vue.` +\r\n                (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".`\r\n                    ) /* should not happen */);\r\n        }\r\n        else {\r\n            warn(`Component is missing template or render function.`);\r\n        }\r\n    }\r\n}\r\nconst attrHandlers = {\r\n    get: (target, key) => {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            markAttrsAccessed();\r\n        }\r\n        return target[key];\r\n    },\r\n    set: () => {\r\n        warn(`setupContext.attrs is readonly.`);\r\n        return false;\r\n    },\r\n    deleteProperty: () => {\r\n        warn(`setupContext.attrs is readonly.`);\r\n        return false;\r\n    }\r\n};\r\nfunction createSetupContext(instance) {\r\n    const expose = exposed => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.exposed) {\r\n            warn(`expose() should be called only once per setup().`);\r\n        }\r\n        instance.exposed = proxyRefs(exposed);\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        // We use getters in dev in case libs like test-utils overwrite instance\r\n        // properties (overwrites should not be done in prod)\r\n        return Object.freeze({\r\n            get attrs() {\r\n                return new Proxy(instance.attrs, attrHandlers);\r\n            },\r\n            get slots() {\r\n                return shallowReadonly(instance.slots);\r\n            },\r\n            get emit() {\r\n                return (event, ...args) => instance.emit(event, ...args);\r\n            },\r\n            expose\r\n        });\r\n    }\r\n    else {\r\n        return {\r\n            attrs: instance.attrs,\r\n            slots: instance.slots,\r\n            emit: instance.emit,\r\n            expose\r\n        };\r\n    }\r\n}\r\n// record effects created during a component's setup() so that they can be\r\n// stopped when the component unmounts\r\nfunction recordInstanceBoundEffect(effect, instance = currentInstance) {\r\n    if (instance) {\r\n        (instance.effects || (instance.effects = [])).push(effect);\r\n    }\r\n}\r\nconst classifyRE = /(?:^|[-_])(\\w)/g;\r\nconst classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');\r\nfunction getComponentName(Component) {\r\n    return isFunction(Component)\r\n        ? Component.displayName || Component.name\r\n        : Component.name;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatComponentName(instance, Component, isRoot = false) {\r\n    let name = getComponentName(Component);\r\n    if (!name && Component.__file) {\r\n        const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\r\n        if (match) {\r\n            name = match[1];\r\n        }\r\n    }\r\n    if (!name && instance && instance.parent) {\r\n        // try to infer the name based on reverse resolution\r\n        const inferFromRegistry = (registry) => {\r\n            for (const key in registry) {\r\n                if (registry[key] === Component) {\r\n                    return key;\r\n                }\r\n            }\r\n        };\r\n        name =\r\n            inferFromRegistry(instance.components ||\r\n                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);\r\n    }\r\n    return name ? classify(name) : isRoot ? `App` : `Anonymous`;\r\n}\r\nfunction isClassComponent(value) {\r\n    return isFunction(value) && '__vccOpts' in value;\r\n}\n\nfunction computed(getterOrOptions) {\r\n    const c = computed$1(getterOrOptions);\r\n    recordInstanceBoundEffect(c.effect);\r\n    return c;\r\n}\n\n// implementation\r\nfunction defineProps() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`defineProps() is a compiler-hint helper that is only usable inside ` +\r\n            `<script setup> of a single file component. Its arguments should be ` +\r\n            `compiled away and passing it at runtime has no effect.`);\r\n    }\r\n    return null;\r\n}\r\n// implementation\r\nfunction defineEmit() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`defineEmit() is a compiler-hint helper that is only usable inside ` +\r\n            `<script setup> of a single file component. Its arguments should be ` +\r\n            `compiled away and passing it at runtime has no effect.`);\r\n    }\r\n    return null;\r\n}\r\nfunction useContext() {\r\n    const i = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !i) {\r\n        warn(`useContext() called without active instance.`);\r\n    }\r\n    return i.setupContext || (i.setupContext = createSetupContext(i));\r\n}\n\n// Actual implementation\r\nfunction h(type, propsOrChildren, children) {\r\n    const l = arguments.length;\r\n    if (l === 2) {\r\n        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n            // single vnode without props\r\n            if (isVNode(propsOrChildren)) {\r\n                return createVNode(type, null, [propsOrChildren]);\r\n            }\r\n            // props without children\r\n            return createVNode(type, propsOrChildren);\r\n        }\r\n        else {\r\n            // omit props\r\n            return createVNode(type, null, propsOrChildren);\r\n        }\r\n    }\r\n    else {\r\n        if (l > 3) {\r\n            children = Array.prototype.slice.call(arguments, 2);\r\n        }\r\n        else if (l === 3 && isVNode(children)) {\r\n            children = [children];\r\n        }\r\n        return createVNode(type, propsOrChildren, children);\r\n    }\r\n}\n\nconst ssrContextKey = Symbol((process.env.NODE_ENV !== 'production') ? `ssrContext` : ``);\r\nconst useSSRContext = () => {\r\n    {\r\n        const ctx = inject(ssrContextKey);\r\n        if (!ctx) {\r\n            warn(`Server rendering context not provided. Make sure to only call ` +\r\n                `useSSRContext() conditionally in the server build.`);\r\n        }\r\n        return ctx;\r\n    }\r\n};\n\nfunction initCustomFormatter() {\r\n    /* eslint-disable no-restricted-globals */\r\n    if (!(process.env.NODE_ENV !== 'production') || typeof window === 'undefined') {\r\n        return;\r\n    }\r\n    const vueStyle = { style: 'color:#3ba776' };\r\n    const numberStyle = { style: 'color:#0b1bc9' };\r\n    const stringStyle = { style: 'color:#b62e24' };\r\n    const keywordStyle = { style: 'color:#9d288c' };\r\n    // custom formatter for Chrome\r\n    // https://www.mattzeunert.com/2016/02/19/custom-chrome-devtools-object-formatters.html\r\n    const formatter = {\r\n        header(obj) {\r\n            // TODO also format ComponentPublicInstance & ctx.slots/attrs in setup\r\n            if (!isObject(obj)) {\r\n                return null;\r\n            }\r\n            if (obj.__isVue) {\r\n                return ['div', vueStyle, `VueInstance`];\r\n            }\r\n            else if (isRef(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, genRefFlag(obj)],\r\n                    '<',\r\n                    formatValue(obj.value),\r\n                    `>`\r\n                ];\r\n            }\r\n            else if (isReactive(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Reactive'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    `>${isReadonly(obj) ? ` (readonly)` : ``}`\r\n                ];\r\n            }\r\n            else if (isReadonly(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Readonly'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    '>'\r\n                ];\r\n            }\r\n            return null;\r\n        },\r\n        hasBody(obj) {\r\n            return obj && obj.__isVue;\r\n        },\r\n        body(obj) {\r\n            if (obj && obj.__isVue) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ...formatInstance(obj.$)\r\n                ];\r\n            }\r\n        }\r\n    };\r\n    function formatInstance(instance) {\r\n        const blocks = [];\r\n        if (instance.type.props && instance.props) {\r\n            blocks.push(createInstanceBlock('props', toRaw(instance.props)));\r\n        }\r\n        if (instance.setupState !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('setup', instance.setupState));\r\n        }\r\n        if (instance.data !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('data', toRaw(instance.data)));\r\n        }\r\n        const computed = extractKeys(instance, 'computed');\r\n        if (computed) {\r\n            blocks.push(createInstanceBlock('computed', computed));\r\n        }\r\n        const injected = extractKeys(instance, 'inject');\r\n        if (injected) {\r\n            blocks.push(createInstanceBlock('injected', injected));\r\n        }\r\n        blocks.push([\r\n            'div',\r\n            {},\r\n            [\r\n                'span',\r\n                {\r\n                    style: keywordStyle.style + ';opacity:0.66'\r\n                },\r\n                '$ (internal): '\r\n            ],\r\n            ['object', { object: instance }]\r\n        ]);\r\n        return blocks;\r\n    }\r\n    function createInstanceBlock(type, target) {\r\n        target = extend({}, target);\r\n        if (!Object.keys(target).length) {\r\n            return ['span', {}];\r\n        }\r\n        return [\r\n            'div',\r\n            { style: 'line-height:1.25em;margin-bottom:0.6em' },\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'color:#476582'\r\n                },\r\n                type\r\n            ],\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'padding-left:1.25em'\r\n                },\r\n                ...Object.keys(target).map(key => {\r\n                    return [\r\n                        'div',\r\n                        {},\r\n                        ['span', keywordStyle, key + ': '],\r\n                        formatValue(target[key], false)\r\n                    ];\r\n                })\r\n            ]\r\n        ];\r\n    }\r\n    function formatValue(v, asRaw = true) {\r\n        if (typeof v === 'number') {\r\n            return ['span', numberStyle, v];\r\n        }\r\n        else if (typeof v === 'string') {\r\n            return ['span', stringStyle, JSON.stringify(v)];\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            return ['span', keywordStyle, v];\r\n        }\r\n        else if (isObject(v)) {\r\n            return ['object', { object: asRaw ? toRaw(v) : v }];\r\n        }\r\n        else {\r\n            return ['span', stringStyle, String(v)];\r\n        }\r\n    }\r\n    function extractKeys(instance, type) {\r\n        const Comp = instance.type;\r\n        if (isFunction(Comp)) {\r\n            return;\r\n        }\r\n        const extracted = {};\r\n        for (const key in instance.ctx) {\r\n            if (isKeyOfType(Comp, key, type)) {\r\n                extracted[key] = instance.ctx[key];\r\n            }\r\n        }\r\n        return extracted;\r\n    }\r\n    function isKeyOfType(Comp, key, type) {\r\n        const opts = Comp[type];\r\n        if ((isArray(opts) && opts.includes(key)) ||\r\n            (isObject(opts) && key in opts)) {\r\n            return true;\r\n        }\r\n        if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\r\n            return true;\r\n        }\r\n        if (Comp.mixins && Comp.mixins.some(m => isKeyOfType(m, key, type))) {\r\n            return true;\r\n        }\r\n    }\r\n    function genRefFlag(v) {\r\n        if (v._shallow) {\r\n            return `ShallowRef`;\r\n        }\r\n        if (v.effect) {\r\n            return `ComputedRef`;\r\n        }\r\n        return `Ref`;\r\n    }\r\n    if (window.devtoolsFormatters) {\r\n        window.devtoolsFormatters.push(formatter);\r\n    }\r\n    else {\r\n        window.devtoolsFormatters = [formatter];\r\n    }\r\n}\n\n/**\r\n * Actual implementation\r\n */\r\nfunction renderList(source, renderItem) {\r\n    let ret;\r\n    if (isArray(source) || isString(source)) {\r\n        ret = new Array(source.length);\r\n        for (let i = 0, l = source.length; i < l; i++) {\r\n            ret[i] = renderItem(source[i], i);\r\n        }\r\n    }\r\n    else if (typeof source === 'number') {\r\n        if ((process.env.NODE_ENV !== 'production') && !Number.isInteger(source)) {\r\n            warn(`The v-for range expect an integer value but got ${source}.`);\r\n            return [];\r\n        }\r\n        ret = new Array(source);\r\n        for (let i = 0; i < source; i++) {\r\n            ret[i] = renderItem(i + 1, i);\r\n        }\r\n    }\r\n    else if (isObject(source)) {\r\n        if (source[Symbol.iterator]) {\r\n            ret = Array.from(source, renderItem);\r\n        }\r\n        else {\r\n            const keys = Object.keys(source);\r\n            ret = new Array(keys.length);\r\n            for (let i = 0, l = keys.length; i < l; i++) {\r\n                const key = keys[i];\r\n                ret[i] = renderItem(source[key], key, i);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        ret = [];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * For prefixing keys in v-on=\"obj\" with \"on\"\r\n * @private\r\n */\r\nfunction toHandlers(obj) {\r\n    const ret = {};\r\n    if ((process.env.NODE_ENV !== 'production') && !isObject(obj)) {\r\n        warn(`v-on with no argument expects an object value.`);\r\n        return ret;\r\n    }\r\n    for (const key in obj) {\r\n        ret[toHandlerKey(key)] = obj[key];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Compiler runtime helper for creating dynamic slots object\r\n * @private\r\n */\r\nfunction createSlots(slots, dynamicSlots) {\r\n    for (let i = 0; i < dynamicSlots.length; i++) {\r\n        const slot = dynamicSlots[i];\r\n        // array of dynamic slot generated by <template v-for=\"...\" #[...]>\r\n        if (isArray(slot)) {\r\n            for (let j = 0; j < slot.length; j++) {\r\n                slots[slot[j].name] = slot[j].fn;\r\n            }\r\n        }\r\n        else if (slot) {\r\n            // conditional single slot generated by <template v-if=\"...\" #foo>\r\n            slots[slot.name] = slot.fn;\r\n        }\r\n    }\r\n    return slots;\r\n}\n\n// Core API ------------------------------------------------------------------\r\nconst version = \"3.0.11\";\r\n/**\r\n * SSR utils for \\@vue/server-renderer. Only exposed in cjs builds.\r\n * @internal\r\n */\r\nconst ssrUtils = (null);\n\nexport { BaseTransition, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, computed, createBlock, createCommentVNode, createHydrationRenderer, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmit, defineProps, devtools, getCurrentInstance, getTransitionRawChildren, h, handleError, initCustomFormatter, inject, isRuntimeOnly, isVNode, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useContext, useSSRContext, useTransitionState, version, warn, watch, watchEffect, withCtx, withDirectives, withScopeId };\n","import { camelize, warn, callWithAsyncErrorHandling, getCurrentInstance, onMounted, watchEffect, onUpdated, Fragment, h, BaseTransition, useTransitionState, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, createVNode, createRenderer, isRuntimeOnly, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, isOn, isModelListener, isFunction, EMPTY_OBJ, extend, isObject, toNumber, invokeArrayFns, looseIndexOf, isSet, looseEqual, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nconst doc = (typeof document !== 'undefined' ? document : null);\r\nlet tempContainer;\r\nlet tempSVGContainer;\r\nconst nodeOps = {\r\n    insert: (child, parent, anchor) => {\r\n        parent.insertBefore(child, anchor || null);\r\n    },\r\n    remove: child => {\r\n        const parent = child.parentNode;\r\n        if (parent) {\r\n            parent.removeChild(child);\r\n        }\r\n    },\r\n    createElement: (tag, isSVG, is, props) => {\r\n        const el = isSVG\r\n            ? doc.createElementNS(svgNS, tag)\r\n            : doc.createElement(tag, is ? { is } : undefined);\r\n        if (tag === 'select' && props && props.multiple != null) {\r\n            el.setAttribute('multiple', props.multiple);\r\n        }\r\n        return el;\r\n    },\r\n    createText: text => doc.createTextNode(text),\r\n    createComment: text => doc.createComment(text),\r\n    setText: (node, text) => {\r\n        node.nodeValue = text;\r\n    },\r\n    setElementText: (el, text) => {\r\n        el.textContent = text;\r\n    },\r\n    parentNode: node => node.parentNode,\r\n    nextSibling: node => node.nextSibling,\r\n    querySelector: selector => doc.querySelector(selector),\r\n    setScopeId(el, id) {\r\n        el.setAttribute(id, '');\r\n    },\r\n    cloneNode(el) {\r\n        const cloned = el.cloneNode(true);\r\n        // #3072\r\n        // - in `patchDOMProp`, we store the actual value in the `el._value` property.\r\n        // - normally, elements using `:value` bindings will not be hoisted, but if\r\n        //   the bound value is a constant, e.g. `:value=\"true\"` - they do get\r\n        //   hoisted.\r\n        // - in production, hoisted nodes are cloned when subsequent inserts, but\r\n        //   cloneNode() does not copy the custom property we attached.\r\n        // - This may need to account for other custom DOM properties we attach to\r\n        //   elements in addition to `_value` in the future.\r\n        if (`_value` in el) {\r\n            cloned._value = el._value;\r\n        }\r\n        return cloned;\r\n    },\r\n    // __UNSAFE__\r\n    // Reason: innerHTML.\r\n    // Static content here can only come from compiled templates.\r\n    // As long as the user only uses trusted templates, this is safe.\r\n    insertStaticContent(content, parent, anchor, isSVG) {\r\n        const temp = isSVG\r\n            ? tempSVGContainer ||\r\n                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))\r\n            : tempContainer || (tempContainer = doc.createElement('div'));\r\n        temp.innerHTML = content;\r\n        const first = temp.firstChild;\r\n        let node = first;\r\n        let last = node;\r\n        while (node) {\r\n            last = node;\r\n            nodeOps.insert(node, parent, anchor);\r\n            node = temp.firstChild;\r\n        }\r\n        return [first, last];\r\n    }\r\n};\n\n// compiler should normalize class + :class bindings on the same element\r\n// into a single binding ['staticClass', dynamic]\r\nfunction patchClass(el, value, isSVG) {\r\n    if (value == null) {\r\n        value = '';\r\n    }\r\n    if (isSVG) {\r\n        el.setAttribute('class', value);\r\n    }\r\n    else {\r\n        // directly setting className should be faster than setAttribute in theory\r\n        // if this is an element during a transition, take the temporary transition\r\n        // classes into account.\r\n        const transitionClasses = el._vtc;\r\n        if (transitionClasses) {\r\n            value = (value\r\n                ? [value, ...transitionClasses]\r\n                : [...transitionClasses]).join(' ');\r\n        }\r\n        el.className = value;\r\n    }\r\n}\n\nfunction patchStyle(el, prev, next) {\r\n    const style = el.style;\r\n    if (!next) {\r\n        el.removeAttribute('style');\r\n    }\r\n    else if (isString(next)) {\r\n        if (prev !== next) {\r\n            const current = style.display;\r\n            style.cssText = next;\r\n            // indicates that the `display` of the element is controlled by `v-show`,\r\n            // so we always keep the current `display` value regardless of the `style` value,\r\n            // thus handing over control to `v-show`.\r\n            if ('_vod' in el) {\r\n                style.display = current;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (const key in next) {\r\n            setStyle(style, key, next[key]);\r\n        }\r\n        if (prev && !isString(prev)) {\r\n            for (const key in prev) {\r\n                if (next[key] == null) {\r\n                    setStyle(style, key, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nconst importantRE = /\\s*!important$/;\r\nfunction setStyle(style, name, val) {\r\n    if (isArray(val)) {\r\n        val.forEach(v => setStyle(style, name, v));\r\n    }\r\n    else {\r\n        if (name.startsWith('--')) {\r\n            // custom property definition\r\n            style.setProperty(name, val);\r\n        }\r\n        else {\r\n            const prefixed = autoPrefix(style, name);\r\n            if (importantRE.test(val)) {\r\n                // !important\r\n                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');\r\n            }\r\n            else {\r\n                style[prefixed] = val;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst prefixes = ['Webkit', 'Moz', 'ms'];\r\nconst prefixCache = {};\r\nfunction autoPrefix(style, rawName) {\r\n    const cached = prefixCache[rawName];\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let name = camelize(rawName);\r\n    if (name !== 'filter' && name in style) {\r\n        return (prefixCache[rawName] = name);\r\n    }\r\n    name = capitalize(name);\r\n    for (let i = 0; i < prefixes.length; i++) {\r\n        const prefixed = prefixes[i] + name;\r\n        if (prefixed in style) {\r\n            return (prefixCache[rawName] = prefixed);\r\n        }\r\n    }\r\n    return rawName;\r\n}\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\r\nfunction patchAttr(el, key, value, isSVG) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && value === false)) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\n\n// __UNSAFE__\r\n// functions. The user is responsible for using them with only trusted content.\r\nfunction patchDOMProp(el, key, value, \r\n// the following args are passed only due to potential innerHTML/textContent\r\n// overriding existing VNodes, in which case the old tree must be properly\r\n// unmounted.\r\nprevChildren, parentComponent, parentSuspense, unmountChildren) {\r\n    if (key === 'innerHTML' || key === 'textContent') {\r\n        if (prevChildren) {\r\n            unmountChildren(prevChildren, parentComponent, parentSuspense);\r\n        }\r\n        el[key] = value == null ? '' : value;\r\n        return;\r\n    }\r\n    if (key === 'value' && el.tagName !== 'PROGRESS') {\r\n        // store value as _value as well since\r\n        // non-string values will be stringified.\r\n        el._value = value;\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n        return;\r\n    }\r\n    if (value === '' || value == null) {\r\n        const type = typeof el[key];\r\n        if (value === '' && type === 'boolean') {\r\n            // e.g. <select multiple> compiles to { multiple: '' }\r\n            el[key] = true;\r\n            return;\r\n        }\r\n        else if (value == null && type === 'string') {\r\n            // e.g. <div :id=\"null\">\r\n            el[key] = '';\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n        else if (type === 'number') {\r\n            // e.g. <img :width=\"null\">\r\n            el[key] = 0;\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n    }\r\n    // some properties perform value validation and throw\r\n    try {\r\n        el[key] = value;\r\n    }\r\n    catch (e) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Failed setting prop \"${key}\" on <${el.tagName.toLowerCase()}>: ` +\r\n                `value ${value} is invalid.`, e);\r\n        }\r\n    }\r\n}\n\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nlet _getNow = Date.now;\r\nlet skipTimestampCheck = false;\r\nif (typeof window !== 'undefined') {\r\n    // Determine what event timestamp the browser is using. Annoyingly, the\r\n    // timestamp can either be hi-res (relative to page load) or low-res\r\n    // (relative to UNIX epoch), so in order to compare time we have to use the\r\n    // same timestamp type when saving the flush timestamp.\r\n    if (_getNow() > document.createEvent('Event').timeStamp) {\r\n        // if the low-res timestamp which is bigger than the event timestamp\r\n        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,\r\n        // and we need to use the hi-res version for event listeners as well.\r\n        _getNow = () => performance.now();\r\n    }\r\n    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation\r\n    // and does not fire microtasks in between event propagation, so safe to exclude.\r\n    const ffMatch = navigator.userAgent.match(/firefox\\/(\\d+)/i);\r\n    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);\r\n}\r\n// To avoid the overhead of repeatedly calling performance.now(), we cache\r\n// and use the same timestamp for all event listeners attached in the same tick.\r\nlet cachedNow = 0;\r\nconst p = Promise.resolve();\r\nconst reset = () => {\r\n    cachedNow = 0;\r\n};\r\nconst getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()));\r\nfunction addEventListener(el, event, handler, options) {\r\n    el.addEventListener(event, handler, options);\r\n}\r\nfunction removeEventListener(el, event, handler, options) {\r\n    el.removeEventListener(event, handler, options);\r\n}\r\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\r\n    // vei = vue event invokers\r\n    const invokers = el._vei || (el._vei = {});\r\n    const existingInvoker = invokers[rawName];\r\n    if (nextValue && existingInvoker) {\r\n        // patch\r\n        existingInvoker.value = nextValue;\r\n    }\r\n    else {\r\n        const [name, options] = parseName(rawName);\r\n        if (nextValue) {\r\n            // add\r\n            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));\r\n            addEventListener(el, name, invoker, options);\r\n        }\r\n        else if (existingInvoker) {\r\n            // remove\r\n            removeEventListener(el, name, existingInvoker, options);\r\n            invokers[rawName] = undefined;\r\n        }\r\n    }\r\n}\r\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\r\nfunction parseName(name) {\r\n    let options;\r\n    if (optionsModifierRE.test(name)) {\r\n        options = {};\r\n        let m;\r\n        while ((m = name.match(optionsModifierRE))) {\r\n            name = name.slice(0, name.length - m[0].length);\r\n            options[m[0].toLowerCase()] = true;\r\n        }\r\n    }\r\n    return [hyphenate(name.slice(2)), options];\r\n}\r\nfunction createInvoker(initialValue, instance) {\r\n    const invoker = (e) => {\r\n        // async edge case #6566: inner click event triggers patch, event handler\r\n        // attached to outer element during patch, and triggered again. This\r\n        // happens because browsers fire microtask ticks between event propagation.\r\n        // the solution is simple: we save the timestamp when a handler is attached,\r\n        // and the handler would only fire if the event passed to it was fired\r\n        // AFTER it was attached.\r\n        const timeStamp = e.timeStamp || _getNow();\r\n        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {\r\n            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);\r\n        }\r\n    };\r\n    invoker.value = initialValue;\r\n    invoker.attached = getNow();\r\n    return invoker;\r\n}\r\nfunction patchStopImmediatePropagation(e, value) {\r\n    if (isArray(value)) {\r\n        const originalStop = e.stopImmediatePropagation;\r\n        e.stopImmediatePropagation = () => {\r\n            originalStop.call(e);\r\n            e._stopped = true;\r\n        };\r\n        return value.map(fn => (e) => !e._stopped && fn(e));\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\n\nconst nativeOnRE = /^on[a-z]/;\r\nconst forcePatchProp = (_, key) => key === 'value';\r\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\r\n    switch (key) {\r\n        // special\r\n        case 'class':\r\n            patchClass(el, nextValue, isSVG);\r\n            break;\r\n        case 'style':\r\n            patchStyle(el, prevValue, nextValue);\r\n            break;\r\n        default:\r\n            if (isOn(key)) {\r\n                // ignore v-model listeners\r\n                if (!isModelListener(key)) {\r\n                    patchEvent(el, key, prevValue, nextValue, parentComponent);\r\n                }\r\n            }\r\n            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {\r\n                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);\r\n            }\r\n            else {\r\n                // special case for <input v-model type=\"checkbox\"> with\r\n                // :true-value & :false-value\r\n                // store value as dom properties since non-string values will be\r\n                // stringified.\r\n                if (key === 'true-value') {\r\n                    el._trueValue = nextValue;\r\n                }\r\n                else if (key === 'false-value') {\r\n                    el._falseValue = nextValue;\r\n                }\r\n                patchAttr(el, key, nextValue, isSVG);\r\n            }\r\n            break;\r\n    }\r\n};\r\nfunction shouldSetAsProp(el, key, value, isSVG) {\r\n    if (isSVG) {\r\n        // most keys must be set as attribute on svg elements to work\r\n        // ...except innerHTML\r\n        if (key === 'innerHTML') {\r\n            return true;\r\n        }\r\n        // or native onclick with function values\r\n        if (key in el && nativeOnRE.test(key) && isFunction(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    // spellcheck and draggable are numerated attrs, however their\r\n    // corresponding DOM properties are actually booleans - this leads to\r\n    // setting it with a string \"false\" value leading it to be coerced to\r\n    // `true`, so we need to always treat them as attributes.\r\n    // Note that `contentEditable` doesn't have this problem: its DOM\r\n    // property is also enumerated string values.\r\n    if (key === 'spellcheck' || key === 'draggable') {\r\n        return false;\r\n    }\r\n    // #1787, #2840 form property on form elements is readonly and must be set as\r\n    // attribute.\r\n    if (key === 'form') {\r\n        return false;\r\n    }\r\n    // #1526 <input list> must be set as attribute\r\n    if (key === 'list' && el.tagName === 'INPUT') {\r\n        return false;\r\n    }\r\n    // #2766 <textarea type> must be set as attribute\r\n    if (key === 'type' && el.tagName === 'TEXTAREA') {\r\n        return false;\r\n    }\r\n    // native onclick with string value, must be set as attribute\r\n    if (nativeOnRE.test(key) && isString(value)) {\r\n        return false;\r\n    }\r\n    return key in el;\r\n}\n\nfunction useCssModule(name = '$style') {\r\n    /* istanbul ignore else */\r\n    {\r\n        const instance = getCurrentInstance();\r\n        if (!instance) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`useCssModule must be called inside setup()`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const modules = instance.type.__cssModules;\r\n        if (!modules) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`Current instance does not have CSS modules injected.`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const mod = modules[name];\r\n        if (!mod) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current instance does not have CSS module named \"${name}\".`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        return mod;\r\n    }\r\n}\n\n/**\r\n * Runtime helper for SFC's CSS variable injection feature.\r\n * @private\r\n */\r\nfunction useCssVars(getter) {\r\n    const instance = getCurrentInstance();\r\n    /* istanbul ignore next */\r\n    if (!instance) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`useCssVars is called without current active component instance.`);\r\n        return;\r\n    }\r\n    const setVars = () => setVarsOnVNode(instance.subTree, getter(instance.proxy));\r\n    onMounted(() => watchEffect(setVars, { flush: 'post' }));\r\n    onUpdated(setVars);\r\n}\r\nfunction setVarsOnVNode(vnode, vars) {\r\n    if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        const suspense = vnode.suspense;\r\n        vnode = suspense.activeBranch;\r\n        if (suspense.pendingBranch && !suspense.isHydrating) {\r\n            suspense.effects.push(() => {\r\n                setVarsOnVNode(suspense.activeBranch, vars);\r\n            });\r\n        }\r\n    }\r\n    // drill down HOCs until it's a non-component vnode\r\n    while (vnode.component) {\r\n        vnode = vnode.component.subTree;\r\n    }\r\n    if (vnode.shapeFlag & 1 /* ELEMENT */ && vnode.el) {\r\n        const style = vnode.el.style;\r\n        for (const key in vars) {\r\n            style.setProperty(`--${key}`, vars[key]);\r\n        }\r\n    }\r\n    else if (vnode.type === Fragment) {\r\n        vnode.children.forEach(c => setVarsOnVNode(c, vars));\r\n    }\r\n}\n\nconst TRANSITION = 'transition';\r\nconst ANIMATION = 'animation';\r\n// DOM Transition is a higher-order-component based on the platform-agnostic\r\n// base Transition component, with DOM-specific logic.\r\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\r\nTransition.displayName = 'Transition';\r\nconst DOMTransitionPropsValidators = {\r\n    name: String,\r\n    type: String,\r\n    css: {\r\n        type: Boolean,\r\n        default: true\r\n    },\r\n    duration: [String, Number, Object],\r\n    enterFromClass: String,\r\n    enterActiveClass: String,\r\n    enterToClass: String,\r\n    appearFromClass: String,\r\n    appearActiveClass: String,\r\n    appearToClass: String,\r\n    leaveFromClass: String,\r\n    leaveActiveClass: String,\r\n    leaveToClass: String\r\n};\r\nconst TransitionPropsValidators = (Transition.props = /*#__PURE__*/ extend({}, BaseTransition.props, DOMTransitionPropsValidators));\r\nfunction resolveTransitionProps(rawProps) {\r\n    let { name = 'v', type, css = true, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;\r\n    const baseProps = {};\r\n    for (const key in rawProps) {\r\n        if (!(key in DOMTransitionPropsValidators)) {\r\n            baseProps[key] = rawProps[key];\r\n        }\r\n    }\r\n    if (!css) {\r\n        return baseProps;\r\n    }\r\n    const durations = normalizeDuration(duration);\r\n    const enterDuration = durations && durations[0];\r\n    const leaveDuration = durations && durations[1];\r\n    const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;\r\n    const finishEnter = (el, isAppear, done) => {\r\n        removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n        removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\r\n        done && done();\r\n    };\r\n    const finishLeave = (el, done) => {\r\n        removeTransitionClass(el, leaveToClass);\r\n        removeTransitionClass(el, leaveActiveClass);\r\n        done && done();\r\n    };\r\n    const makeEnterHook = (isAppear) => {\r\n        return (el, done) => {\r\n            const hook = isAppear ? onAppear : onEnter;\r\n            const resolve = () => finishEnter(el, isAppear, done);\r\n            hook && hook(el, resolve);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\r\n                addTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n                if (!(hook && hook.length > 1)) {\r\n                    whenTransitionEnds(el, type, enterDuration, resolve);\r\n                }\r\n            });\r\n        };\r\n    };\r\n    return extend(baseProps, {\r\n        onBeforeEnter(el) {\r\n            onBeforeEnter && onBeforeEnter(el);\r\n            addTransitionClass(el, enterFromClass);\r\n            addTransitionClass(el, enterActiveClass);\r\n        },\r\n        onBeforeAppear(el) {\r\n            onBeforeAppear && onBeforeAppear(el);\r\n            addTransitionClass(el, appearFromClass);\r\n            addTransitionClass(el, appearActiveClass);\r\n        },\r\n        onEnter: makeEnterHook(false),\r\n        onAppear: makeEnterHook(true),\r\n        onLeave(el, done) {\r\n            const resolve = () => finishLeave(el, done);\r\n            addTransitionClass(el, leaveFromClass);\r\n            // force reflow so *-leave-from classes immediately take effect (#2593)\r\n            forceReflow();\r\n            addTransitionClass(el, leaveActiveClass);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, leaveFromClass);\r\n                addTransitionClass(el, leaveToClass);\r\n                if (!(onLeave && onLeave.length > 1)) {\r\n                    whenTransitionEnds(el, type, leaveDuration, resolve);\r\n                }\r\n            });\r\n            onLeave && onLeave(el, resolve);\r\n        },\r\n        onEnterCancelled(el) {\r\n            finishEnter(el, false);\r\n            onEnterCancelled && onEnterCancelled(el);\r\n        },\r\n        onAppearCancelled(el) {\r\n            finishEnter(el, true);\r\n            onAppearCancelled && onAppearCancelled(el);\r\n        },\r\n        onLeaveCancelled(el) {\r\n            finishLeave(el);\r\n            onLeaveCancelled && onLeaveCancelled(el);\r\n        }\r\n    });\r\n}\r\nfunction normalizeDuration(duration) {\r\n    if (duration == null) {\r\n        return null;\r\n    }\r\n    else if (isObject(duration)) {\r\n        return [NumberOf(duration.enter), NumberOf(duration.leave)];\r\n    }\r\n    else {\r\n        const n = NumberOf(duration);\r\n        return [n, n];\r\n    }\r\n}\r\nfunction NumberOf(val) {\r\n    const res = toNumber(val);\r\n    if ((process.env.NODE_ENV !== 'production'))\r\n        validateDuration(res);\r\n    return res;\r\n}\r\nfunction validateDuration(val) {\r\n    if (typeof val !== 'number') {\r\n        warn(`<transition> explicit duration is not a valid number - ` +\r\n            `got ${JSON.stringify(val)}.`);\r\n    }\r\n    else if (isNaN(val)) {\r\n        warn(`<transition> explicit duration is NaN - ` +\r\n            'the duration expression might be incorrect.');\r\n    }\r\n}\r\nfunction addTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.add(c));\r\n    (el._vtc ||\r\n        (el._vtc = new Set())).add(cls);\r\n}\r\nfunction removeTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.remove(c));\r\n    const { _vtc } = el;\r\n    if (_vtc) {\r\n        _vtc.delete(cls);\r\n        if (!_vtc.size) {\r\n            el._vtc = undefined;\r\n        }\r\n    }\r\n}\r\nfunction nextFrame(cb) {\r\n    requestAnimationFrame(() => {\r\n        requestAnimationFrame(cb);\r\n    });\r\n}\r\nlet endId = 0;\r\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\r\n    const id = (el._endId = ++endId);\r\n    const resolveIfNotStale = () => {\r\n        if (id === el._endId) {\r\n            resolve();\r\n        }\r\n    };\r\n    if (explicitTimeout) {\r\n        return setTimeout(resolveIfNotStale, explicitTimeout);\r\n    }\r\n    const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\r\n    if (!type) {\r\n        return resolve();\r\n    }\r\n    const endEvent = type + 'end';\r\n    let ended = 0;\r\n    const end = () => {\r\n        el.removeEventListener(endEvent, onEnd);\r\n        resolveIfNotStale();\r\n    };\r\n    const onEnd = (e) => {\r\n        if (e.target === el && ++ended >= propCount) {\r\n            end();\r\n        }\r\n    };\r\n    setTimeout(() => {\r\n        if (ended < propCount) {\r\n            end();\r\n        }\r\n    }, timeout + 1);\r\n    el.addEventListener(endEvent, onEnd);\r\n}\r\nfunction getTransitionInfo(el, expectedType) {\r\n    const styles = window.getComputedStyle(el);\r\n    // JSDOM may return undefined for transition properties\r\n    const getStyleProperties = (key) => (styles[key] || '').split(', ');\r\n    const transitionDelays = getStyleProperties(TRANSITION + 'Delay');\r\n    const transitionDurations = getStyleProperties(TRANSITION + 'Duration');\r\n    const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\r\n    const animationDelays = getStyleProperties(ANIMATION + 'Delay');\r\n    const animationDurations = getStyleProperties(ANIMATION + 'Duration');\r\n    const animationTimeout = getTimeout(animationDelays, animationDurations);\r\n    let type = null;\r\n    let timeout = 0;\r\n    let propCount = 0;\r\n    /* istanbul ignore if */\r\n    if (expectedType === TRANSITION) {\r\n        if (transitionTimeout > 0) {\r\n            type = TRANSITION;\r\n            timeout = transitionTimeout;\r\n            propCount = transitionDurations.length;\r\n        }\r\n    }\r\n    else if (expectedType === ANIMATION) {\r\n        if (animationTimeout > 0) {\r\n            type = ANIMATION;\r\n            timeout = animationTimeout;\r\n            propCount = animationDurations.length;\r\n        }\r\n    }\r\n    else {\r\n        timeout = Math.max(transitionTimeout, animationTimeout);\r\n        type =\r\n            timeout > 0\r\n                ? transitionTimeout > animationTimeout\r\n                    ? TRANSITION\r\n                    : ANIMATION\r\n                : null;\r\n        propCount = type\r\n            ? type === TRANSITION\r\n                ? transitionDurations.length\r\n                : animationDurations.length\r\n            : 0;\r\n    }\r\n    const hasTransform = type === TRANSITION &&\r\n        /\\b(transform|all)(,|$)/.test(styles[TRANSITION + 'Property']);\r\n    return {\r\n        type,\r\n        timeout,\r\n        propCount,\r\n        hasTransform\r\n    };\r\n}\r\nfunction getTimeout(delays, durations) {\r\n    while (delays.length < durations.length) {\r\n        delays = delays.concat(delays);\r\n    }\r\n    return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\r\n}\r\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer\r\n// numbers in a locale-dependent way, using a comma instead of a dot.\r\n// If comma is not replaced with a dot, the input will be rounded down\r\n// (i.e. acting as a floor function) causing unexpected behaviors\r\nfunction toMs(s) {\r\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\r\n}\r\n// synchronously force layout to put elements into a certain state\r\nfunction forceReflow() {\r\n    return document.body.offsetHeight;\r\n}\n\nconst positionMap = new WeakMap();\r\nconst newPositionMap = new WeakMap();\r\nconst TransitionGroupImpl = {\r\n    name: 'TransitionGroup',\r\n    props: /*#__PURE__*/ extend({}, TransitionPropsValidators, {\r\n        tag: String,\r\n        moveClass: String\r\n    }),\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevChildren;\r\n        let children;\r\n        onUpdated(() => {\r\n            // children is guaranteed to exist after initial render\r\n            if (!prevChildren.length) {\r\n                return;\r\n            }\r\n            const moveClass = props.moveClass || `${props.name || 'v'}-move`;\r\n            if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {\r\n                return;\r\n            }\r\n            // we divide the work into three loops to avoid mixing DOM reads and writes\r\n            // in each iteration - which helps prevent layout thrashing.\r\n            prevChildren.forEach(callPendingCbs);\r\n            prevChildren.forEach(recordPosition);\r\n            const movedChildren = prevChildren.filter(applyTranslation);\r\n            // force reflow to put everything in position\r\n            forceReflow();\r\n            movedChildren.forEach(c => {\r\n                const el = c.el;\r\n                const style = el.style;\r\n                addTransitionClass(el, moveClass);\r\n                style.transform = style.webkitTransform = style.transitionDuration = '';\r\n                const cb = (el._moveCb = (e) => {\r\n                    if (e && e.target !== el) {\r\n                        return;\r\n                    }\r\n                    if (!e || /transform$/.test(e.propertyName)) {\r\n                        el.removeEventListener('transitionend', cb);\r\n                        el._moveCb = null;\r\n                        removeTransitionClass(el, moveClass);\r\n                    }\r\n                });\r\n                el.addEventListener('transitionend', cb);\r\n            });\r\n        });\r\n        return () => {\r\n            const rawProps = toRaw(props);\r\n            const cssTransitionProps = resolveTransitionProps(rawProps);\r\n            const tag = rawProps.tag || Fragment;\r\n            prevChildren = children;\r\n            children = slots.default ? getTransitionRawChildren(slots.default()) : [];\r\n            for (let i = 0; i < children.length; i++) {\r\n                const child = children[i];\r\n                if (child.key != null) {\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`<TransitionGroup> children must be keyed.`);\r\n                }\r\n            }\r\n            if (prevChildren) {\r\n                for (let i = 0; i < prevChildren.length; i++) {\r\n                    const child = prevChildren[i];\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                    positionMap.set(child, child.el.getBoundingClientRect());\r\n                }\r\n            }\r\n            return createVNode(tag, null, children);\r\n        };\r\n    }\r\n};\r\nconst TransitionGroup = TransitionGroupImpl;\r\nfunction callPendingCbs(c) {\r\n    const el = c.el;\r\n    if (el._moveCb) {\r\n        el._moveCb();\r\n    }\r\n    if (el._enterCb) {\r\n        el._enterCb();\r\n    }\r\n}\r\nfunction recordPosition(c) {\r\n    newPositionMap.set(c, c.el.getBoundingClientRect());\r\n}\r\nfunction applyTranslation(c) {\r\n    const oldPos = positionMap.get(c);\r\n    const newPos = newPositionMap.get(c);\r\n    const dx = oldPos.left - newPos.left;\r\n    const dy = oldPos.top - newPos.top;\r\n    if (dx || dy) {\r\n        const s = c.el.style;\r\n        s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\r\n        s.transitionDuration = '0s';\r\n        return c;\r\n    }\r\n}\r\nfunction hasCSSTransform(el, root, moveClass) {\r\n    // Detect whether an element with the move class applied has\r\n    // CSS transitions. Since the element may be inside an entering\r\n    // transition at this very moment, we make a clone of it and remove\r\n    // all other transition classes applied to ensure only the move class\r\n    // is applied.\r\n    const clone = el.cloneNode();\r\n    if (el._vtc) {\r\n        el._vtc.forEach(cls => {\r\n            cls.split(/\\s+/).forEach(c => c && clone.classList.remove(c));\r\n        });\r\n    }\r\n    moveClass.split(/\\s+/).forEach(c => c && clone.classList.add(c));\r\n    clone.style.display = 'none';\r\n    const container = (root.nodeType === 1\r\n        ? root\r\n        : root.parentNode);\r\n    container.appendChild(clone);\r\n    const { hasTransform } = getTransitionInfo(clone);\r\n    container.removeChild(clone);\r\n    return hasTransform;\r\n}\n\nconst getModelAssigner = (vnode) => {\r\n    const fn = vnode.props['onUpdate:modelValue'];\r\n    return isArray(fn) ? value => invokeArrayFns(fn, value) : fn;\r\n};\r\nfunction onCompositionStart(e) {\r\n    e.target.composing = true;\r\n}\r\nfunction onCompositionEnd(e) {\r\n    const target = e.target;\r\n    if (target.composing) {\r\n        target.composing = false;\r\n        trigger(target, 'input');\r\n    }\r\n}\r\nfunction trigger(el, type) {\r\n    const e = document.createEvent('HTMLEvents');\r\n    e.initEvent(type, true, true);\r\n    el.dispatchEvent(e);\r\n}\r\n// We are exporting the v-model runtime directly as vnode hooks so that it can\r\n// be tree-shaken in case v-model is never used.\r\nconst vModelText = {\r\n    created(el, { modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        const castToNumber = number || el.type === 'number';\r\n        addEventListener(el, lazy ? 'change' : 'input', e => {\r\n            if (e.target.composing)\r\n                return;\r\n            let domValue = el.value;\r\n            if (trim) {\r\n                domValue = domValue.trim();\r\n            }\r\n            else if (castToNumber) {\r\n                domValue = toNumber(domValue);\r\n            }\r\n            el._assign(domValue);\r\n        });\r\n        if (trim) {\r\n            addEventListener(el, 'change', () => {\r\n                el.value = el.value.trim();\r\n            });\r\n        }\r\n        if (!lazy) {\r\n            addEventListener(el, 'compositionstart', onCompositionStart);\r\n            addEventListener(el, 'compositionend', onCompositionEnd);\r\n            // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n            // switching focus before confirming composition choice\r\n            // this also fixes the issue where some browsers e.g. iOS Chrome\r\n            // fires \"change\" instead of \"input\" on autocomplete.\r\n            addEventListener(el, 'change', onCompositionEnd);\r\n        }\r\n    },\r\n    // set value on mounted so it's after min/max for type=\"range\"\r\n    mounted(el, { value }) {\r\n        el.value = value == null ? '' : value;\r\n    },\r\n    beforeUpdate(el, { value, modifiers: { trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        // avoid clearing unresolved text. #2302\r\n        if (el.composing)\r\n            return;\r\n        if (document.activeElement === el) {\r\n            if (trim && el.value.trim() === value) {\r\n                return;\r\n            }\r\n            if ((number || el.type === 'number') && toNumber(el.value) === value) {\r\n                return;\r\n            }\r\n        }\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n    }\r\n};\r\nconst vModelCheckbox = {\r\n    created(el, _, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            const modelValue = el._modelValue;\r\n            const elementValue = getValue(el);\r\n            const checked = el.checked;\r\n            const assign = el._assign;\r\n            if (isArray(modelValue)) {\r\n                const index = looseIndexOf(modelValue, elementValue);\r\n                const found = index !== -1;\r\n                if (checked && !found) {\r\n                    assign(modelValue.concat(elementValue));\r\n                }\r\n                else if (!checked && found) {\r\n                    const filtered = [...modelValue];\r\n                    filtered.splice(index, 1);\r\n                    assign(filtered);\r\n                }\r\n            }\r\n            else if (isSet(modelValue)) {\r\n                const cloned = new Set(modelValue);\r\n                if (checked) {\r\n                    cloned.add(elementValue);\r\n                }\r\n                else {\r\n                    cloned.delete(elementValue);\r\n                }\r\n                assign(cloned);\r\n            }\r\n            else {\r\n                assign(getCheckboxValue(el, checked));\r\n            }\r\n        });\r\n    },\r\n    // set initial checked on mount to wait for true-value/false-value\r\n    mounted: setChecked,\r\n    beforeUpdate(el, binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        setChecked(el, binding, vnode);\r\n    }\r\n};\r\nfunction setChecked(el, { value, oldValue }, vnode) {\r\n    el._modelValue = value;\r\n    if (isArray(value)) {\r\n        el.checked = looseIndexOf(value, vnode.props.value) > -1;\r\n    }\r\n    else if (isSet(value)) {\r\n        el.checked = value.has(vnode.props.value);\r\n    }\r\n    else if (value !== oldValue) {\r\n        el.checked = looseEqual(value, getCheckboxValue(el, true));\r\n    }\r\n}\r\nconst vModelRadio = {\r\n    created(el, { value }, vnode) {\r\n        el.checked = looseEqual(value, vnode.props.value);\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            el._assign(getValue(el));\r\n        });\r\n    },\r\n    beforeUpdate(el, { value, oldValue }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        if (value !== oldValue) {\r\n            el.checked = looseEqual(value, vnode.props.value);\r\n        }\r\n    }\r\n};\r\nconst vModelSelect = {\r\n    created(el, { value, modifiers: { number } }, vnode) {\r\n        const isSetModel = isSet(value);\r\n        addEventListener(el, 'change', () => {\r\n            const selectedVal = Array.prototype.filter\r\n                .call(el.options, (o) => o.selected)\r\n                .map((o) => number ? toNumber(getValue(o)) : getValue(o));\r\n            el._assign(el.multiple\r\n                ? isSetModel\r\n                    ? new Set(selectedVal)\r\n                    : selectedVal\r\n                : selectedVal[0]);\r\n        });\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    // set value in mounted & updated because <select> relies on its children\r\n    // <option>s.\r\n    mounted(el, { value }) {\r\n        setSelected(el, value);\r\n    },\r\n    beforeUpdate(el, _binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    updated(el, { value }) {\r\n        setSelected(el, value);\r\n    }\r\n};\r\nfunction setSelected(el, value) {\r\n    const isMultiple = el.multiple;\r\n    if (isMultiple && !isArray(value) && !isSet(value)) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`<select multiple v-model> expects an Array or Set value for its binding, ` +\r\n                `but got ${Object.prototype.toString.call(value).slice(8, -1)}.`);\r\n        return;\r\n    }\r\n    for (let i = 0, l = el.options.length; i < l; i++) {\r\n        const option = el.options[i];\r\n        const optionValue = getValue(option);\r\n        if (isMultiple) {\r\n            if (isArray(value)) {\r\n                option.selected = looseIndexOf(value, optionValue) > -1;\r\n            }\r\n            else {\r\n                option.selected = value.has(optionValue);\r\n            }\r\n        }\r\n        else {\r\n            if (looseEqual(getValue(option), value)) {\r\n                el.selectedIndex = i;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    if (!isMultiple) {\r\n        el.selectedIndex = -1;\r\n    }\r\n}\r\n// retrieve raw value set via :value bindings\r\nfunction getValue(el) {\r\n    return '_value' in el ? el._value : el.value;\r\n}\r\n// retrieve raw value for true-value and false-value set via :true-value or :false-value bindings\r\nfunction getCheckboxValue(el, checked) {\r\n    const key = checked ? '_trueValue' : '_falseValue';\r\n    return key in el ? el[key] : checked;\r\n}\r\nconst vModelDynamic = {\r\n    created(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'created');\r\n    },\r\n    mounted(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'mounted');\r\n    },\r\n    beforeUpdate(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'beforeUpdate');\r\n    },\r\n    updated(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'updated');\r\n    }\r\n};\r\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\r\n    let modelToUse;\r\n    switch (el.tagName) {\r\n        case 'SELECT':\r\n            modelToUse = vModelSelect;\r\n            break;\r\n        case 'TEXTAREA':\r\n            modelToUse = vModelText;\r\n            break;\r\n        default:\r\n            switch (vnode.props && vnode.props.type) {\r\n                case 'checkbox':\r\n                    modelToUse = vModelCheckbox;\r\n                    break;\r\n                case 'radio':\r\n                    modelToUse = vModelRadio;\r\n                    break;\r\n                default:\r\n                    modelToUse = vModelText;\r\n            }\r\n    }\r\n    const fn = modelToUse[hook];\r\n    fn && fn(el, binding, vnode, prevVNode);\r\n}\n\nconst systemModifiers = ['ctrl', 'shift', 'alt', 'meta'];\r\nconst modifierGuards = {\r\n    stop: e => e.stopPropagation(),\r\n    prevent: e => e.preventDefault(),\r\n    self: e => e.target !== e.currentTarget,\r\n    ctrl: e => !e.ctrlKey,\r\n    shift: e => !e.shiftKey,\r\n    alt: e => !e.altKey,\r\n    meta: e => !e.metaKey,\r\n    left: e => 'button' in e && e.button !== 0,\r\n    middle: e => 'button' in e && e.button !== 1,\r\n    right: e => 'button' in e && e.button !== 2,\r\n    exact: (e, modifiers) => systemModifiers.some(m => e[`${m}Key`] && !modifiers.includes(m))\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withModifiers = (fn, modifiers) => {\r\n    return (event, ...args) => {\r\n        for (let i = 0; i < modifiers.length; i++) {\r\n            const guard = modifierGuards[modifiers[i]];\r\n            if (guard && guard(event, modifiers))\r\n                return;\r\n        }\r\n        return fn(event, ...args);\r\n    };\r\n};\r\n// Kept for 2.x compat.\r\n// Note: IE11 compat for `spacebar` and `del` is removed for now.\r\nconst keyNames = {\r\n    esc: 'escape',\r\n    space: ' ',\r\n    up: 'arrow-up',\r\n    left: 'arrow-left',\r\n    right: 'arrow-right',\r\n    down: 'arrow-down',\r\n    delete: 'backspace'\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withKeys = (fn, modifiers) => {\r\n    return (event) => {\r\n        if (!('key' in event))\r\n            return;\r\n        const eventKey = hyphenate(event.key);\r\n        if (\r\n        // None of the provided key modifiers match the current event key\r\n        !modifiers.some(k => k === eventKey || keyNames[k] === eventKey)) {\r\n            return;\r\n        }\r\n        return fn(event);\r\n    };\r\n};\n\nconst vShow = {\r\n    beforeMount(el, { value }, { transition }) {\r\n        el._vod = el.style.display === 'none' ? '' : el.style.display;\r\n        if (transition && value) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    mounted(el, { value }, { transition }) {\r\n        if (transition && value) {\r\n            transition.enter(el);\r\n        }\r\n    },\r\n    updated(el, { value, oldValue }, { transition }) {\r\n        if (!value === !oldValue)\r\n            return;\r\n        if (transition) {\r\n            if (value) {\r\n                transition.beforeEnter(el);\r\n                setDisplay(el, true);\r\n                transition.enter(el);\r\n            }\r\n            else {\r\n                transition.leave(el, () => {\r\n                    setDisplay(el, false);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    beforeUnmount(el, { value }) {\r\n        setDisplay(el, value);\r\n    }\r\n};\r\nfunction setDisplay(el, value) {\r\n    el.style.display = value ? el._vod : 'none';\r\n}\n\nconst rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);\r\n// lazy create the renderer - this makes core renderer logic tree-shakable\r\n// in case the user only imports reactivity utilities from Vue.\r\nlet renderer;\r\nlet enabledHydration = false;\r\nfunction ensureRenderer() {\r\n    return renderer || (renderer = createRenderer(rendererOptions));\r\n}\r\nfunction ensureHydrationRenderer() {\r\n    renderer = enabledHydration\r\n        ? renderer\r\n        : createHydrationRenderer(rendererOptions);\r\n    enabledHydration = true;\r\n    return renderer;\r\n}\r\n// use explicit type casts here to avoid import() calls in rolled-up d.ts\r\nconst render = ((...args) => {\r\n    ensureRenderer().render(...args);\r\n});\r\nconst hydrate = ((...args) => {\r\n    ensureHydrationRenderer().hydrate(...args);\r\n});\r\nconst createApp = ((...args) => {\r\n    const app = ensureRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCustomElementCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (!container)\r\n            return;\r\n        const component = app._component;\r\n        if (!isFunction(component) && !component.render && !component.template) {\r\n            component.template = container.innerHTML;\r\n        }\r\n        // clear content before mounting\r\n        container.innerHTML = '';\r\n        const proxy = mount(container, false, container instanceof SVGElement);\r\n        if (container instanceof Element) {\r\n            container.removeAttribute('v-cloak');\r\n            container.setAttribute('data-v-app', '');\r\n        }\r\n        return proxy;\r\n    };\r\n    return app;\r\n});\r\nconst createSSRApp = ((...args) => {\r\n    const app = ensureHydrationRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCustomElementCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (container) {\r\n            return mount(container, true, container instanceof SVGElement);\r\n        }\r\n    };\r\n    return app;\r\n});\r\nfunction injectNativeTagCheck(app) {\r\n    // Inject `isNativeTag`\r\n    // this is used for component name validation (dev only)\r\n    Object.defineProperty(app.config, 'isNativeTag', {\r\n        value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\r\n        writable: false\r\n    });\r\n}\r\n// dev only\r\nfunction injectCustomElementCheck(app) {\r\n    if (isRuntimeOnly()) {\r\n        const value = app.config.isCustomElement;\r\n        Object.defineProperty(app.config, 'isCustomElement', {\r\n            get() {\r\n                return value;\r\n            },\r\n            set() {\r\n                warn(`The \\`isCustomElement\\` config option is only respected when using the runtime compiler.` +\r\n                    `If you are using the runtime-only build, \\`isCustomElement\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead` +\r\n                    `- for example, via the \\`compilerOptions\\` option in vue-loader: https://vue-loader.vuejs.org/options.html#compileroptions.`);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction normalizeContainer(container) {\r\n    if (isString(container)) {\r\n        const res = document.querySelector(container);\r\n        if ((process.env.NODE_ENV !== 'production') && !res) {\r\n            warn(`Failed to mount app: mount target selector \"${container}\" returned null.`);\r\n        }\r\n        return res;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        container instanceof window.ShadowRoot &&\r\n        container.mode === 'closed') {\r\n        warn(`mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`);\r\n    }\r\n    return container;\r\n}\n\nexport { Transition, TransitionGroup, createApp, createSSRApp, hydrate, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","// Geometry library.\n// -----------------\n\n// Declare shorthands to the most used math functions.\nconst math = Math;\nconst abs = math.abs;\nconst cos = math.cos;\nconst sin = math.sin;\nconst sqrt = math.sqrt;\nconst min = math.min;\nconst max = math.max;\nconst atan2 = math.atan2;\nconst round = math.round;\nconst floor = math.floor;\nconst PI = math.PI;\nconst pow = math.pow;\n\nexport const bezier = {\n\n    // Cubic Bezier curve path through points.\n    // @deprecated\n    // @param {array} points Array of points through which the smooth line will go.\n    // @return {array} SVG Path commands as an array\n    curveThroughPoints: function(points) {\n\n        console.warn('deprecated');\n\n        return new Path(Curve.throughPoints(points)).serialize();\n    },\n\n    // Get open-ended Bezier Spline Control Points.\n    // @deprecated\n    // @param knots Input Knot Bezier spline points (At least two points!).\n    // @param firstControlPoints Output First Control points. Array of knots.length - 1 length.\n    // @param secondControlPoints Output Second Control points. Array of knots.length - 1 length.\n    getCurveControlPoints: function(knots) {\n\n        console.warn('deprecated');\n\n        var firstControlPoints = [];\n        var secondControlPoints = [];\n        var n = knots.length - 1;\n        var i;\n\n        // Special case: Bezier curve should be a straight line.\n        if (n == 1) {\n            // 3P1 = 2P0 + P3\n            firstControlPoints[0] = new Point(\n                (2 * knots[0].x + knots[1].x) / 3,\n                (2 * knots[0].y + knots[1].y) / 3\n            );\n\n            // P2 = 2P1  P0\n            secondControlPoints[0] = new Point(\n                2 * firstControlPoints[0].x - knots[0].x,\n                2 * firstControlPoints[0].y - knots[0].y\n            );\n\n            return [firstControlPoints, secondControlPoints];\n        }\n\n        // Calculate first Bezier control points.\n        // Right hand side vector.\n        var rhs = [];\n\n        // Set right hand side X values.\n        for (i = 1; i < n - 1; i++) {\n            rhs[i] = 4 * knots[i].x + 2 * knots[i + 1].x;\n        }\n\n        rhs[0] = knots[0].x + 2 * knots[1].x;\n        rhs[n - 1] = (8 * knots[n - 1].x + knots[n].x) / 2.0;\n\n        // Get first control points X-values.\n        var x = this.getFirstControlPoints(rhs);\n\n        // Set right hand side Y values.\n        for (i = 1; i < n - 1; ++i) {\n            rhs[i] = 4 * knots[i].y + 2 * knots[i + 1].y;\n        }\n\n        rhs[0] = knots[0].y + 2 * knots[1].y;\n        rhs[n - 1] = (8 * knots[n - 1].y + knots[n].y) / 2.0;\n\n        // Get first control points Y-values.\n        var y = this.getFirstControlPoints(rhs);\n\n        // Fill output arrays.\n        for (i = 0; i < n; i++) {\n            // First control point.\n            firstControlPoints.push(new Point(x[i], y[i]));\n\n            // Second control point.\n            if (i < n - 1) {\n                secondControlPoints.push(new Point(\n                    2 * knots [i + 1].x - x[i + 1],\n                    2 * knots[i + 1].y - y[i + 1]\n                ));\n\n            } else {\n                secondControlPoints.push(new Point(\n                    (knots[n].x + x[n - 1]) / 2,\n                    (knots[n].y + y[n - 1]) / 2)\n                );\n            }\n        }\n\n        return [firstControlPoints, secondControlPoints];\n    },\n\n    // Divide a Bezier curve into two at point defined by value 't' <0,1>.\n    // Using deCasteljau algorithm. http://math.stackexchange.com/a/317867\n    // @deprecated\n    // @param control points (start, control start, control end, end)\n    // @return a function that accepts t and returns 2 curves.\n    getCurveDivider: function(p0, p1, p2, p3) {\n\n        console.warn('deprecated');\n\n        var curve = new Curve(p0, p1, p2, p3);\n\n        return function divideCurve(t) {\n\n            var divided = curve.divide(t);\n\n            return [{\n                p0: divided[0].start,\n                p1: divided[0].controlPoint1,\n                p2: divided[0].controlPoint2,\n                p3: divided[0].end\n            }, {\n                p0: divided[1].start,\n                p1: divided[1].controlPoint1,\n                p2: divided[1].controlPoint2,\n                p3: divided[1].end\n            }];\n        };\n    },\n\n    // Solves a tridiagonal system for one of coordinates (x or y) of first Bezier control points.\n    // @deprecated\n    // @param rhs Right hand side vector.\n    // @return Solution vector.\n    getFirstControlPoints: function(rhs) {\n\n        console.warn('deprecated');\n\n        var n = rhs.length;\n        // `x` is a solution vector.\n        var x = [];\n        var tmp = [];\n        var b = 2.0;\n\n        x[0] = rhs[0] / b;\n\n        // Decomposition and forward substitution.\n        for (var i = 1; i < n; i++) {\n            tmp[i] = 1 / b;\n            b = (i < n - 1 ? 4.0 : 3.5) - tmp[i];\n            x[i] = (rhs[i] - x[i - 1]) / b;\n        }\n\n        for (i = 1; i < n; i++) {\n            // Backsubstitution.\n            x[n - i - 1] -= tmp[n - i] * x[n - i];\n        }\n\n        return x;\n    },\n\n    // Solves an inversion problem -- Given the (x, y) coordinates of a point which lies on\n    // a parametric curve x = x(t)/w(t), y = y(t)/w(t), nd the parameter value t\n    // which corresponds to that point.\n    // @deprecated\n    // @param control points (start, control start, control end, end)\n    // @return a function that accepts a point and returns t.\n    getInversionSolver: function(p0, p1, p2, p3) {\n\n        console.warn('deprecated');\n\n        var curve = new Curve(p0, p1, p2, p3);\n\n        return function solveInversion(p) {\n\n            return curve.closestPointT(p);\n        };\n    }\n};\n\nexport const Curve = function(p1, p2, p3, p4) {\n\n    if (!(this instanceof Curve)) {\n        return new Curve(p1, p2, p3, p4);\n    }\n\n    if (p1 instanceof Curve) {\n        return new Curve(p1.start, p1.controlPoint1, p1.controlPoint2, p1.end);\n    }\n\n    this.start = new Point(p1);\n    this.controlPoint1 = new Point(p2);\n    this.controlPoint2 = new Point(p3);\n    this.end = new Point(p4);\n};\n\n// Curve passing through points.\n// Ported from C# implementation by Oleg V. Polikarpotchkin and Peter Lee (http://www.codeproject.com/KB/graphics/BezierSpline.aspx).\n// @param {array} points Array of points through which the smooth line will go.\n// @return {array} curves.\nCurve.throughPoints = (function() {\n\n    // Get open-ended Bezier Spline Control Points.\n    // @param knots Input Knot Bezier spline points (At least two points!).\n    // @param firstControlPoints Output First Control points. Array of knots.length - 1 length.\n    // @param secondControlPoints Output Second Control points. Array of knots.length - 1 length.\n    function getCurveControlPoints(knots) {\n\n        var firstControlPoints = [];\n        var secondControlPoints = [];\n        var n = knots.length - 1;\n        var i;\n\n        // Special case: Bezier curve should be a straight line.\n        if (n == 1) {\n            // 3P1 = 2P0 + P3\n            firstControlPoints[0] = new Point(\n                (2 * knots[0].x + knots[1].x) / 3,\n                (2 * knots[0].y + knots[1].y) / 3\n            );\n\n            // P2 = 2P1  P0\n            secondControlPoints[0] = new Point(\n                2 * firstControlPoints[0].x - knots[0].x,\n                2 * firstControlPoints[0].y - knots[0].y\n            );\n\n            return [firstControlPoints, secondControlPoints];\n        }\n\n        // Calculate first Bezier control points.\n        // Right hand side vector.\n        var rhs = [];\n\n        // Set right hand side X values.\n        for (i = 1; i < n - 1; i++) {\n            rhs[i] = 4 * knots[i].x + 2 * knots[i + 1].x;\n        }\n\n        rhs[0] = knots[0].x + 2 * knots[1].x;\n        rhs[n - 1] = (8 * knots[n - 1].x + knots[n].x) / 2.0;\n\n        // Get first control points X-values.\n        var x = getFirstControlPoints(rhs);\n\n        // Set right hand side Y values.\n        for (i = 1; i < n - 1; ++i) {\n            rhs[i] = 4 * knots[i].y + 2 * knots[i + 1].y;\n        }\n\n        rhs[0] = knots[0].y + 2 * knots[1].y;\n        rhs[n - 1] = (8 * knots[n - 1].y + knots[n].y) / 2.0;\n\n        // Get first control points Y-values.\n        var y = getFirstControlPoints(rhs);\n\n        // Fill output arrays.\n        for (i = 0; i < n; i++) {\n            // First control point.\n            firstControlPoints.push(new Point(x[i], y[i]));\n\n            // Second control point.\n            if (i < n - 1) {\n                secondControlPoints.push(new Point(\n                    2 * knots [i + 1].x - x[i + 1],\n                    2 * knots[i + 1].y - y[i + 1]\n                ));\n\n            } else {\n                secondControlPoints.push(new Point(\n                    (knots[n].x + x[n - 1]) / 2,\n                    (knots[n].y + y[n - 1]) / 2\n                ));\n            }\n        }\n\n        return [firstControlPoints, secondControlPoints];\n    }\n\n    // Solves a tridiagonal system for one of coordinates (x or y) of first Bezier control points.\n    // @param rhs Right hand side vector.\n    // @return Solution vector.\n    function getFirstControlPoints(rhs) {\n\n        var n = rhs.length;\n        // `x` is a solution vector.\n        var x = [];\n        var tmp = [];\n        var b = 2.0;\n\n        x[0] = rhs[0] / b;\n\n        // Decomposition and forward substitution.\n        for (var i = 1; i < n; i++) {\n            tmp[i] = 1 / b;\n            b = (i < n - 1 ? 4.0 : 3.5) - tmp[i];\n            x[i] = (rhs[i] - x[i - 1]) / b;\n        }\n\n        for (i = 1; i < n; i++) {\n            // Backsubstitution.\n            x[n - i - 1] -= tmp[n - i] * x[n - i];\n        }\n\n        return x;\n    }\n\n    return function(points) {\n\n        if (!points || (Array.isArray(points) && points.length < 2)) {\n            throw new Error('At least 2 points are required');\n        }\n\n        var controlPoints = getCurveControlPoints(points);\n\n        var curves = [];\n        var n = controlPoints[0].length;\n        for (var i = 0; i < n; i++) {\n\n            var controlPoint1 = new Point(controlPoints[0][i].x, controlPoints[0][i].y);\n            var controlPoint2 = new Point(controlPoints[1][i].x, controlPoints[1][i].y);\n\n            curves.push(new Curve(points[i], controlPoint1, controlPoint2, points[i + 1]));\n        }\n\n        return curves;\n    };\n})();\n\nCurve.prototype = {\n\n    // Returns a bbox that tightly envelops the curve.\n    bbox: function() {\n\n        var start = this.start;\n        var controlPoint1 = this.controlPoint1;\n        var controlPoint2 = this.controlPoint2;\n        var end = this.end;\n\n        var x0 = start.x;\n        var y0 = start.y;\n        var x1 = controlPoint1.x;\n        var y1 = controlPoint1.y;\n        var x2 = controlPoint2.x;\n        var y2 = controlPoint2.y;\n        var x3 = end.x;\n        var y3 = end.y;\n\n        var points = new Array(); // local extremes\n        var tvalues = new Array(); // t values of local extremes\n        var bounds = [new Array(), new Array()];\n\n        var a, b, c, t;\n        var t1, t2;\n        var b2ac, sqrtb2ac;\n\n        for (var i = 0; i < 2; ++i) {\n\n            if (i === 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n\n            if (abs(a) < 1e-12) { // Numerical robustness\n                if (abs(b) < 1e-12) { // Numerical robustness\n                    continue;\n                }\n\n                t = -c / b;\n                if ((0 < t) && (t < 1)) tvalues.push(t);\n\n                continue;\n            }\n\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = sqrt(b2ac);\n\n            if (b2ac < 0) continue;\n\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if ((0 < t1) && (t1 < 1)) tvalues.push(t1);\n\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if ((0 < t2) && (t2 < 1)) tvalues.push(t2);\n        }\n\n        var j = tvalues.length;\n        var jlen = j;\n        var mt;\n        var x, y;\n\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n\n            x = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n            bounds[0][j] = x;\n\n            y = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n            bounds[1][j] = y;\n\n            points[j] = { X: x, Y: y };\n        }\n\n        tvalues[jlen] = 0;\n        tvalues[jlen + 1] = 1;\n\n        points[jlen] = { X: x0, Y: y0 };\n        points[jlen + 1] = { X: x3, Y: y3 };\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n\n        tvalues.length = jlen + 2;\n        bounds[0].length = jlen + 2;\n        bounds[1].length = jlen + 2;\n        points.length = jlen + 2;\n\n        var left = min.apply(null, bounds[0]);\n        var top = min.apply(null, bounds[1]);\n        var right = max.apply(null, bounds[0]);\n        var bottom = max.apply(null, bounds[1]);\n\n        return new Rect(left, top, (right - left), (bottom - top));\n    },\n\n    clone: function() {\n\n        return new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n    },\n\n    // Returns the point on the curve closest to point `p`\n    closestPoint: function(p, opt) {\n\n        return this.pointAtT(this.closestPointT(p, opt));\n    },\n\n    closestPointLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        return this.lengthAtT(this.closestPointT(p, localOpt), localOpt);\n    },\n\n    closestPointNormalizedLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        var cpLength = this.closestPointLength(p, localOpt);\n        if (!cpLength) return 0;\n\n        var length = this.length(localOpt);\n        if (length === 0) return 0;\n\n        return cpLength / length;\n    },\n\n    // Returns `t` of the point on the curve closest to point `p`\n    closestPointT: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // does not use localOpt\n\n        // identify the subdivision that contains the point:\n        var investigatedSubdivision;\n        var investigatedSubdivisionStartT; // assume that subdivisions are evenly spaced\n        var investigatedSubdivisionEndT;\n        var distFromStart; // distance of point from start of baseline\n        var distFromEnd; // distance of point from end of baseline\n        var chordLength; // distance between start and end of the subdivision\n        var minSumDist; // lowest observed sum of the two distances\n        var n = subdivisions.length;\n        var subdivisionSize = (n ? (1 / n) : 0);\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n\n            var startDist = currentSubdivision.start.distance(p);\n            var endDist = currentSubdivision.end.distance(p);\n            var sumDist = startDist + endDist;\n\n            // check that the point is closest to current subdivision and not any other\n            if (!minSumDist || (sumDist < minSumDist)) {\n                investigatedSubdivision = currentSubdivision;\n\n                investigatedSubdivisionStartT = i * subdivisionSize;\n                investigatedSubdivisionEndT = (i + 1) * subdivisionSize;\n\n                distFromStart = startDist;\n                distFromEnd = endDist;\n\n                chordLength = currentSubdivision.start.distance(currentSubdivision.end);\n\n                minSumDist = sumDist;\n            }\n        }\n\n        var precisionRatio = pow(10, -precision);\n\n        // recursively divide investigated subdivision:\n        // until distance between baselinePoint and closest path endpoint is within 10^(-precision)\n        // then return the closest endpoint of that final subdivision\n        while (true) {\n\n            // check if we have reached at least one required observed precision\n            // - calculated as: the difference in distances from point to start and end divided by the distance\n            // - note that this function is not monotonic = it doesn't converge stably but has \"teeth\"\n            // - the function decreases while one of the endpoints is fixed but \"jumps\" whenever we switch\n            // - this criterion works well for points lying far away from the curve\n            var startPrecisionRatio = (distFromStart ? (abs(distFromStart - distFromEnd) / distFromStart) : 0);\n            var endPrecisionRatio = (distFromEnd ? (abs(distFromStart - distFromEnd) / distFromEnd) : 0);\n            var hasRequiredPrecision = ((startPrecisionRatio < precisionRatio) || (endPrecisionRatio < precisionRatio));\n\n            // check if we have reached at least one required minimal distance\n            // - calculated as: the subdivision chord length multiplied by precisionRatio\n            // - calculation is relative so it will work for arbitrarily large/small curves and their subdivisions\n            // - this is a backup criterion that works well for points lying \"almost at\" the curve\n            var hasMinimalStartDistance = (distFromStart ? (distFromStart < (chordLength * precisionRatio)) : true);\n            var hasMinimalEndDistance = (distFromEnd ? (distFromEnd < (chordLength * precisionRatio)) : true);\n            var hasMinimalDistance = (hasMinimalStartDistance || hasMinimalEndDistance);\n\n            // do we stop now?\n            if (hasRequiredPrecision || hasMinimalDistance) {\n                return ((distFromStart <= distFromEnd) ? investigatedSubdivisionStartT : investigatedSubdivisionEndT);\n            }\n\n            // otherwise, set up for next iteration\n            var divided = investigatedSubdivision.divide(0.5);\n            subdivisionSize /= 2;\n\n            var startDist1 = divided[0].start.distance(p);\n            var endDist1 = divided[0].end.distance(p);\n            var sumDist1 = startDist1 + endDist1;\n\n            var startDist2 = divided[1].start.distance(p);\n            var endDist2 = divided[1].end.distance(p);\n            var sumDist2 = startDist2 + endDist2;\n\n            if (sumDist1 <= sumDist2) {\n                investigatedSubdivision = divided[0];\n\n                investigatedSubdivisionEndT -= subdivisionSize; // subdivisionSize was already halved\n\n                distFromStart = startDist1;\n                distFromEnd = endDist1;\n\n            } else {\n                investigatedSubdivision = divided[1];\n\n                investigatedSubdivisionStartT += subdivisionSize; // subdivisionSize was already halved\n\n                distFromStart = startDist2;\n                distFromEnd = endDist2;\n            }\n        }\n    },\n\n    closestPointTangent: function(p, opt) {\n\n        return this.tangentAtT(this.closestPointT(p, opt));\n    },\n\n    // Returns `true` if the area surrounded by the curve contains the point `p`.\n    // Implements the even-odd algorithm (self-intersections are \"outside\").\n    // Closes open curves (always imagines a closing segment).\n    // Precision may be adjusted by passing an `opt` object.\n    containsPoint: function(p, opt) {\n\n        var polyline = this.toPolyline(opt);\n        return polyline.containsPoint(p);\n    },\n\n    // Divides the curve into two at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    // For a function that uses `t`, use Curve.divideAtT().\n    divideAt: function(ratio, opt) {\n\n        if (ratio <= 0) return this.divideAtT(0);\n        if (ratio >= 1) return this.divideAtT(1);\n\n        var t = this.tAt(ratio, opt);\n\n        return this.divideAtT(t);\n    },\n\n    // Divides the curve into two at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAtLength: function(length, opt) {\n\n        var t = this.tAtLength(length, opt);\n\n        return this.divideAtT(t);\n    },\n\n    // Divides the curve into two at point defined by `t` between 0 and 1.\n    // Using de Casteljau's algorithm (http://math.stackexchange.com/a/317867).\n    // Additional resource: https://pomax.github.io/bezierinfo/#decasteljau\n    divideAtT: function(t) {\n\n        var start = this.start;\n        var controlPoint1 = this.controlPoint1;\n        var controlPoint2 = this.controlPoint2;\n        var end = this.end;\n\n        // shortcuts for `t` values that are out of range\n        if (t <= 0) {\n            return [\n                new Curve(start, start, start, start),\n                new Curve(start, controlPoint1, controlPoint2, end)\n            ];\n        }\n\n        if (t >= 1) {\n            return [\n                new Curve(start, controlPoint1, controlPoint2, end),\n                new Curve(end, end, end, end)\n            ];\n        }\n\n        var dividerPoints = this.getSkeletonPoints(t);\n\n        var startControl1 = dividerPoints.startControlPoint1;\n        var startControl2 = dividerPoints.startControlPoint2;\n        var divider = dividerPoints.divider;\n        var dividerControl1 = dividerPoints.dividerControlPoint1;\n        var dividerControl2 = dividerPoints.dividerControlPoint2;\n\n        // return array with two new curves\n        return [\n            new Curve(start, startControl1, startControl2, divider),\n            new Curve(divider, dividerControl1, dividerControl2, end)\n        ];\n    },\n\n    // Returns the distance between the curve's start and end points.\n    endpointDistance: function() {\n\n        return this.start.distance(this.end);\n    },\n\n    // Checks whether two curves are exactly the same.\n    equals: function(c) {\n\n        return !!c &&\n            this.start.x === c.start.x &&\n            this.start.y === c.start.y &&\n            this.controlPoint1.x === c.controlPoint1.x &&\n            this.controlPoint1.y === c.controlPoint1.y &&\n            this.controlPoint2.x === c.controlPoint2.x &&\n            this.controlPoint2.y === c.controlPoint2.y &&\n            this.end.x === c.end.x &&\n            this.end.y === c.end.y;\n    },\n\n    // Returns five helper points necessary for curve division.\n    getSkeletonPoints: function(t) {\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        // shortcuts for `t` values that are out of range\n        if (t <= 0) {\n            return {\n                startControlPoint1: start.clone(),\n                startControlPoint2: start.clone(),\n                divider: start.clone(),\n                dividerControlPoint1: control1.clone(),\n                dividerControlPoint2: control2.clone()\n            };\n        }\n\n        if (t >= 1) {\n            return {\n                startControlPoint1: control1.clone(),\n                startControlPoint2: control2.clone(),\n                divider: end.clone(),\n                dividerControlPoint1: end.clone(),\n                dividerControlPoint2: end.clone()\n            };\n        }\n\n        var midpoint1 = (new Line(start, control1)).pointAt(t);\n        var midpoint2 = (new Line(control1, control2)).pointAt(t);\n        var midpoint3 = (new Line(control2, end)).pointAt(t);\n\n        var subControl1 = (new Line(midpoint1, midpoint2)).pointAt(t);\n        var subControl2 = (new Line(midpoint2, midpoint3)).pointAt(t);\n\n        var divider = (new Line(subControl1, subControl2)).pointAt(t);\n\n        var output = {\n            startControlPoint1: midpoint1,\n            startControlPoint2: subControl1,\n            divider: divider,\n            dividerControlPoint1: subControl2,\n            dividerControlPoint2: midpoint3\n        };\n\n        return output;\n    },\n\n    // Returns a list of curves whose flattened length is better than `opt.precision`.\n    // That is, observed difference in length between recursions is less than 10^(-3) = 0.001 = 0.1%\n    // (Observed difference is not real precision, but close enough as long as special cases are covered)\n    // (That is why skipping iteration 1 is important)\n    // As a rule of thumb, increasing `precision` by 1 requires two more division operations\n    // - Precision 0 (endpointDistance) - total of 2^0 - 1 = 0 operations (1 subdivision)\n    // - Precision 1 (<10% error) - total of 2^2 - 1 = 3 operations (4 subdivisions)\n    // - Precision 2 (<1% error) - total of 2^4 - 1 = 15 operations requires 4 division operations on all elements (15 operations total) (16 subdivisions)\n    // - Precision 3 (<0.1% error) - total of 2^6 - 1 = 63 operations - acceptable when drawing (64 subdivisions)\n    // - Precision 4 (<0.01% error) - total of 2^8 - 1 = 255 operations - high resolution, can be used to interpolate `t` (256 subdivisions)\n    // (Variation of 1 recursion worse or better is possible depending on the curve, doubling/halving the number of operations accordingly)\n    getSubdivisions: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.subdivisions\n        // not using localOpt\n\n        var subdivisions = [new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end)];\n        if (precision === 0) return subdivisions;\n\n        var previousLength = this.endpointDistance();\n\n        var precisionRatio = pow(10, -precision);\n\n        // recursively divide curve at `t = 0.5`\n        // until the difference between observed length at subsequent iterations is lower than precision\n        var iteration = 0;\n        while (true) {\n            iteration += 1;\n\n            // divide all subdivisions\n            var newSubdivisions = [];\n            var numSubdivisions = subdivisions.length;\n            for (var i = 0; i < numSubdivisions; i++) {\n\n                var currentSubdivision = subdivisions[i];\n                var divided = currentSubdivision.divide(0.5); // dividing at t = 0.5 (not at middle length!)\n                newSubdivisions.push(divided[0], divided[1]);\n            }\n\n            // measure new length\n            var length = 0;\n            var numNewSubdivisions = newSubdivisions.length;\n            for (var j = 0; j < numNewSubdivisions; j++) {\n\n                var currentNewSubdivision = newSubdivisions[j];\n                length += currentNewSubdivision.endpointDistance();\n            }\n\n            // check if we have reached required observed precision\n            // sine-like curves may have the same observed length in iteration 0 and 1 - skip iteration 1\n            // not a problem for further iterations because cubic curves cannot have more than two local extrema\n            // (i.e. cubic curves cannot intersect the baseline more than once)\n            // therefore two subsequent iterations cannot produce sampling with equal length\n            var observedPrecisionRatio = ((length !== 0) ? ((length - previousLength) / length) : 0);\n            if (iteration > 1 && observedPrecisionRatio < precisionRatio) {\n                return newSubdivisions;\n            }\n\n            // otherwise, set up for next iteration\n            subdivisions = newSubdivisions;\n            previousLength = length;\n        }\n    },\n\n    isDifferentiable: function() {\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        return !(start.equals(control1) && control1.equals(control2) && control2.equals(end));\n    },\n\n    // Returns flattened length of the curve with precision better than `opt.precision`; or using `opt.subdivisions` provided.\n    length: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSubdivisions() call\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // not using localOpt\n\n        var length = 0;\n        var n = subdivisions.length;\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n            length += currentSubdivision.endpointDistance();\n        }\n\n        return length;\n    },\n\n    // Returns distance along the curve up to `t` with precision better than requested `opt.precision`. (Not using `opt.subdivisions`.)\n    lengthAtT: function(t, opt) {\n\n        if (t <= 0) return 0;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.subdivisions\n        // not using localOpt\n\n        var subCurve = this.divide(t)[0];\n        var subCurveLength = subCurve.length({ precision: precision });\n\n        return subCurveLength;\n    },\n\n    // Returns point at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    // Mirrors Line.pointAt() function.\n    // For a function that tracks `t`, use Curve.pointAtT().\n    pointAt: function(ratio, opt) {\n\n        if (ratio <= 0) return this.start.clone();\n        if (ratio >= 1) return this.end.clone();\n\n        var t = this.tAt(ratio, opt);\n\n        return this.pointAtT(t);\n    },\n\n    // Returns point at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    pointAtLength: function(length, opt) {\n\n        var t = this.tAtLength(length, opt);\n\n        return this.pointAtT(t);\n    },\n\n    // Returns the point at provided `t` between 0 and 1.\n    // `t` does not track distance along curve as it does in Line objects.\n    // Non-linear relationship, speeds up and slows down as curve warps!\n    // For linear length-based solution, use Curve.pointAt().\n    pointAtT: function(t) {\n\n        if (t <= 0) return this.start.clone();\n        if (t >= 1) return this.end.clone();\n\n        return this.getSkeletonPoints(t).divider;\n    },\n\n    // Default precision\n    PRECISION: 3,\n\n    round: function(precision) {\n\n        this.start.round(precision);\n        this.controlPoint1.round(precision);\n        this.controlPoint2.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.start.scale(sx, sy, origin);\n        this.controlPoint1.scale(sx, sy, origin);\n        this.controlPoint2.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    // Returns a tangent line at requested `ratio` with precision better than requested `opt.precision`; or using `opt.subdivisions` provided.\n    tangentAt: function(ratio, opt) {\n\n        if (!this.isDifferentiable()) return null;\n\n        if (ratio < 0) ratio = 0;\n        else if (ratio > 1) ratio = 1;\n\n        var t = this.tAt(ratio, opt);\n\n        return this.tangentAtT(t);\n    },\n\n    // Returns a tangent line at requested `length` with precision better than requested `opt.precision`; or using `opt.subdivisions` provided.\n    tangentAtLength: function(length, opt) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var t = this.tAtLength(length, opt);\n\n        return this.tangentAtT(t);\n    },\n\n    // Returns a tangent line at requested `t`.\n    tangentAtT: function(t) {\n\n        if (!this.isDifferentiable()) return null;\n\n        if (t < 0) t = 0;\n        else if (t > 1) t = 1;\n\n        var skeletonPoints = this.getSkeletonPoints(t);\n\n        var p1 = skeletonPoints.startControlPoint2;\n        var p2 = skeletonPoints.dividerControlPoint1;\n\n        var tangentStart = skeletonPoints.divider;\n\n        var tangentLine = new Line(p1, p2);\n        tangentLine.translate(tangentStart.x - p1.x, tangentStart.y - p1.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    // Returns `t` at requested `ratio` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    tAt: function(ratio, opt) {\n\n        if (ratio <= 0) return 0;\n        if (ratio >= 1) return 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        var curveLength = this.length(localOpt);\n        var length = curveLength * ratio;\n\n        return this.tAtLength(length, localOpt);\n    },\n\n    // Returns `t` at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    // Uses `precision` to approximate length within `precision` (always underestimates)\n    // Then uses a binary search to find the `t` of a subdivision endpoint that is close (within `precision`) to the `length`, if the curve was as long as approximated\n    // As a rule of thumb, increasing `precision` by 1 causes the algorithm to go 2^(precision - 1) deeper\n    // - Precision 0 (chooses one of the two endpoints) - 0 levels\n    // - Precision 1 (chooses one of 5 points, <10% error) - 1 level\n    // - Precision 2 (<1% error) - 3 levels\n    // - Precision 3 (<0.1% error) - 7 levels\n    // - Precision 4 (<0.01% error) - 15 levels\n    tAtLength: function(length, opt) {\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        // identify the subdivision that contains the point at requested `length`:\n        var investigatedSubdivision;\n        var investigatedSubdivisionStartT; // assume that subdivisions are evenly spaced\n        var investigatedSubdivisionEndT;\n        //var baseline; // straightened version of subdivision to investigate\n        //var baselinePoint; // point on the baseline that is the requested distance away from start\n        var baselinePointDistFromStart; // distance of baselinePoint from start of baseline\n        var baselinePointDistFromEnd; // distance of baselinePoint from end of baseline\n        var l = 0; // length so far\n        var n = subdivisions.length;\n        var subdivisionSize = 1 / n;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var currentSubdivision = subdivisions[i];\n            var d = currentSubdivision.endpointDistance(); // length of current subdivision\n\n            if (length <= (l + d)) {\n                investigatedSubdivision = currentSubdivision;\n\n                investigatedSubdivisionStartT = index * subdivisionSize;\n                investigatedSubdivisionEndT = (index + 1) * subdivisionSize;\n\n                baselinePointDistFromStart = (fromStart ? (length - l) : ((d + l) - length));\n                baselinePointDistFromEnd = (fromStart ? ((d + l) - length) : (length - l));\n\n                break;\n            }\n\n            l += d;\n        }\n\n        if (!investigatedSubdivision) return (fromStart ? 1 : 0); // length requested is out of range - return maximum t\n        // note that precision affects what length is recorded\n        // (imprecise measurements underestimate length by up to 10^(-precision) of the precise length)\n        // e.g. at precision 1, the length may be underestimated by up to 10% and cause this function to return 1\n\n        var curveLength = this.length(localOpt);\n\n        var precisionRatio = pow(10, -precision);\n\n        // recursively divide investigated subdivision:\n        // until distance between baselinePoint and closest path endpoint is within 10^(-precision)\n        // then return the closest endpoint of that final subdivision\n        while (true) {\n\n            // check if we have reached required observed precision\n            var observedPrecisionRatio;\n\n            observedPrecisionRatio = ((curveLength !== 0) ? (baselinePointDistFromStart / curveLength) : 0);\n            if (observedPrecisionRatio < precisionRatio) return investigatedSubdivisionStartT;\n            observedPrecisionRatio = ((curveLength !== 0) ? (baselinePointDistFromEnd / curveLength) : 0);\n            if (observedPrecisionRatio < precisionRatio) return investigatedSubdivisionEndT;\n\n            // otherwise, set up for next iteration\n            var newBaselinePointDistFromStart;\n            var newBaselinePointDistFromEnd;\n\n            var divided = investigatedSubdivision.divide(0.5);\n            subdivisionSize /= 2;\n\n            var baseline1Length = divided[0].endpointDistance();\n            var baseline2Length = divided[1].endpointDistance();\n\n            if (baselinePointDistFromStart <= baseline1Length) { // point at requested length is inside divided[0]\n                investigatedSubdivision = divided[0];\n\n                investigatedSubdivisionEndT -= subdivisionSize; // sudivisionSize was already halved\n\n                newBaselinePointDistFromStart = baselinePointDistFromStart;\n                newBaselinePointDistFromEnd = baseline1Length - newBaselinePointDistFromStart;\n\n            } else { // point at requested length is inside divided[1]\n                investigatedSubdivision = divided[1];\n\n                investigatedSubdivisionStartT += subdivisionSize; // subdivisionSize was already halved\n\n                newBaselinePointDistFromStart = baselinePointDistFromStart - baseline1Length;\n                newBaselinePointDistFromEnd = baseline2Length - newBaselinePointDistFromStart;\n            }\n\n            baselinePointDistFromStart = newBaselinePointDistFromStart;\n            baselinePointDistFromEnd = newBaselinePointDistFromEnd;\n        }\n    },\n\n    // Returns an array of points that represents the curve when flattened, up to `opt.precision`; or using `opt.subdivisions` provided.\n    // Flattened length is no more than 10^(-precision) away from real curve length.\n    toPoints: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSubdivisions() call\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // not using localOpt\n\n        var points = [subdivisions[0].start.clone()];\n        var n = subdivisions.length;\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n            points.push(currentSubdivision.end.clone());\n        }\n\n        return points;\n    },\n\n    // Returns a polyline that represents the curve when flattened, up to `opt.precision`; or using `opt.subdivisions` provided.\n    // Flattened length is no more than 10^(-precision) away from real curve length.\n    toPolyline: function(opt) {\n\n        return new Polyline(this.toPoints(opt));\n    },\n\n    toString: function() {\n\n        return this.start + ' ' + this.controlPoint1 + ' ' + this.controlPoint2 + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.start.translate(tx, ty);\n        this.controlPoint1.translate(tx, ty);\n        this.controlPoint2.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nCurve.prototype.divide = Curve.prototype.divideAtT;\n\nexport const Ellipse = function(c, a, b) {\n\n    if (!(this instanceof Ellipse)) {\n        return new Ellipse(c, a, b);\n    }\n\n    if (c instanceof Ellipse) {\n        return new Ellipse(new Point(c.x, c.y), c.a, c.b);\n    }\n\n    c = new Point(c);\n    this.x = c.x;\n    this.y = c.y;\n    this.a = a;\n    this.b = b;\n};\n\nEllipse.fromRect = function(rect) {\n\n    rect = new Rect(rect);\n    return new Ellipse(rect.center(), rect.width / 2, rect.height / 2);\n};\n\nEllipse.prototype = {\n\n    bbox: function() {\n\n        return new Rect(this.x - this.a, this.y - this.b, 2 * this.a, 2 * this.b);\n    },\n\n    /**\n     * @returns {g.Point}\n     */\n    center: function() {\n\n        return new Point(this.x, this.y);\n    },\n\n    clone: function() {\n\n        return new Ellipse(this);\n    },\n\n    /**\n     * @param {g.Point} p\n     * @returns {boolean}\n     */\n    containsPoint: function(p) {\n\n        return this.normalizedDistance(p) <= 1;\n    },\n\n    equals: function(ellipse) {\n\n        return !!ellipse &&\n            ellipse.x === this.x &&\n            ellipse.y === this.y &&\n            ellipse.a === this.a &&\n            ellipse.b === this.b;\n    },\n\n    // inflate by dx and dy\n    // @param dx {delta_x} representing additional size to x\n    // @param dy {delta_y} representing additional size to y -\n    // dy param is not required -> in that case y is sized by dx\n    inflate: function(dx, dy) {\n        if (dx === undefined) {\n            dx = 0;\n        }\n\n        if (dy === undefined) {\n            dy = dx;\n        }\n\n        this.a += 2 * dx;\n        this.b += 2 * dy;\n\n        return this;\n    },\n\n    intersectionWithLine: function(line) {\n\n        var intersections = [];\n        var a1 = line.start;\n        var a2 = line.end;\n        var rx = this.a;\n        var ry = this.b;\n        var dir = line.vector();\n        var diff = a1.difference(new Point(this));\n        var mDir = new Point(dir.x / (rx * rx), dir.y / (ry * ry));\n        var mDiff = new Point(diff.x / (rx * rx), diff.y / (ry * ry));\n\n        var a = dir.dot(mDir);\n        var b = dir.dot(mDiff);\n        var c = diff.dot(mDiff) - 1.0;\n        var d = b * b - a * c;\n\n        if (d < 0) {\n            return null;\n        } else if (d > 0) {\n            var root = sqrt(d);\n            var ta = (-b - root) / a;\n            var tb = (-b + root) / a;\n\n            if ((ta < 0 || 1 < ta) && (tb < 0 || 1 < tb)) {\n                // if ((ta < 0 && tb < 0) || (ta > 1 && tb > 1)) outside else inside\n                return null;\n            } else {\n                if (0 <= ta && ta <= 1) intersections.push(a1.lerp(a2, ta));\n                if (0 <= tb && tb <= 1) intersections.push(a1.lerp(a2, tb));\n            }\n        } else {\n            var t = -b / a;\n            if (0 <= t && t <= 1) {\n                intersections.push(a1.lerp(a2, t));\n            } else {\n                // outside\n                return null;\n            }\n        }\n\n        return intersections;\n    },\n\n    // Find point on me where line from my center to\n    // point p intersects my boundary.\n    // @param {number} angle If angle is specified, intersection with rotated ellipse is computed.\n    intersectionWithLineFromCenterToPoint: function(p, angle) {\n\n        p = new Point(p);\n\n        if (angle) p.rotate(new Point(this.x, this.y), angle);\n\n        var dx = p.x - this.x;\n        var dy = p.y - this.y;\n        var result;\n\n        if (dx === 0) {\n            result = this.bbox().pointNearestToPoint(p);\n            if (angle) return result.rotate(new Point(this.x, this.y), -angle);\n            return result;\n        }\n\n        var m = dy / dx;\n        var mSquared = m * m;\n        var aSquared = this.a * this.a;\n        var bSquared = this.b * this.b;\n\n        var x = sqrt(1 / ((1 / aSquared) + (mSquared / bSquared)));\n        x = dx < 0 ? -x : x;\n\n        var y = m * x;\n        result = new Point(this.x + x, this.y + y);\n\n        if (angle) return result.rotate(new Point(this.x, this.y), -angle);\n        return result;\n    },\n\n    /**\n     * @param {g.Point} point\n     * @returns {number} result < 1 - inside ellipse, result == 1 - on ellipse boundary, result > 1 - outside\n     */\n    normalizedDistance: function(point) {\n\n        var x0 = point.x;\n        var y0 = point.y;\n        var a = this.a;\n        var b = this.b;\n        var x = this.x;\n        var y = this.y;\n\n        return ((x0 - x) * (x0 - x)) / (a * a) + ((y0 - y) * (y0 - y)) / (b * b);\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        this.a = round(this.a * f) / f;\n        this.b = round(this.b * f) / f;\n        return this;\n    },\n\n    /** Compute angle between tangent and x axis\n     * @param {g.Point} p Point of tangency, it has to be on ellipse boundaries.\n     * @returns {number} angle between tangent and x axis\n     */\n    tangentTheta: function(p) {\n\n        var refPointDelta = 30;\n        var x0 = p.x;\n        var y0 = p.y;\n        var a = this.a;\n        var b = this.b;\n        var center = this.bbox().center();\n        var m = center.x;\n        var n = center.y;\n\n        var q1 = x0 > center.x + a / 2;\n        var q3 = x0 < center.x - a / 2;\n\n        var y, x;\n        if (q1 || q3) {\n            y = x0 > center.x ? y0 - refPointDelta : y0 + refPointDelta;\n            x = (a * a / (x0 - m)) - (a * a * (y0 - n) * (y - n)) / (b * b * (x0 - m)) + m;\n\n        } else {\n            x = y0 > center.y ? x0 + refPointDelta : x0 - refPointDelta;\n            y = (b * b / (y0 - n)) - (b * b * (x0 - m) * (x - m)) / (a * a * (y0 - n)) + n;\n        }\n\n        return (new Point(x, y)).theta(p);\n\n    },\n\n    toString: function() {\n\n        return (new Point(this.x, this.y)).toString() + ' ' + this.a + ' ' + this.b;\n    }\n};\n\nexport const Line = function(p1, p2) {\n\n    if (!(this instanceof Line)) {\n        return new Line(p1, p2);\n    }\n\n    if (p1 instanceof Line) {\n        return new Line(p1.start, p1.end);\n    }\n\n    this.start = new Point(p1);\n    this.end = new Point(p2);\n};\n\nLine.prototype = {\n\n    // @returns the angle of incline of the line.\n    angle: function() {\n\n        var horizontalPoint = new Point(this.start.x + 1, this.start.y);\n        return this.start.angleBetween(this.end, horizontalPoint);\n    },\n\n    bbox: function() {\n\n        var left = min(this.start.x, this.end.x);\n        var top = min(this.start.y, this.end.y);\n        var right = max(this.start.x, this.end.x);\n        var bottom = max(this.start.y, this.end.y);\n\n        return new Rect(left, top, (right - left), (bottom - top));\n    },\n\n    // @return the bearing (cardinal direction) of the line. For example N, W, or SE.\n    // @returns {String} One of the following bearings : NE, E, SE, S, SW, W, NW, N.\n    bearing: function() {\n\n        var lat1 = toRad(this.start.y);\n        var lat2 = toRad(this.end.y);\n        var lon1 = this.start.x;\n        var lon2 = this.end.x;\n        var dLon = toRad(lon2 - lon1);\n        var y = sin(dLon) * cos(lat2);\n        var x = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(dLon);\n        var brng = toDeg(atan2(y, x));\n\n        var bearings = ['NE', 'E', 'SE', 'S', 'SW', 'W', 'NW', 'N'];\n\n        var index = brng - 22.5;\n        if (index < 0)\n            index += 360;\n        index = parseInt(index / 45);\n\n        return bearings[index];\n    },\n\n    clone: function() {\n\n        return new Line(this.start, this.end);\n    },\n\n    // @return {point} the closest point on the line to point `p`\n    closestPoint: function(p) {\n\n        return this.pointAt(this.closestPointNormalizedLength(p));\n    },\n\n    closestPointLength: function(p) {\n\n        return this.closestPointNormalizedLength(p) * this.length();\n    },\n\n    // @return {number} the normalized length of the closest point on the line to point `p`\n    closestPointNormalizedLength: function(p) {\n\n        var product = this.vector().dot((new Line(this.start, p)).vector());\n        var cpNormalizedLength = min(1, max(0, product / this.squaredLength()));\n\n        // cpNormalizedLength returns `NaN` if this line has zero length\n        // we can work with that - if `NaN`, return 0\n        if (cpNormalizedLength !== cpNormalizedLength) return 0; // condition evaluates to `true` if and only if cpNormalizedLength is `NaN`\n        // (`NaN` is the only value that is not equal to itself)\n\n        return cpNormalizedLength;\n    },\n\n    closestPointTangent: function(p) {\n\n        return this.tangentAt(this.closestPointNormalizedLength(p));\n    },\n\n    // Returns `true` if the point lies on the line.\n    containsPoint: function(p) {\n\n        var start = this.start;\n        var end = this.end;\n\n        if (start.cross(p, end) !== 0) return false;\n        // else: cross product of 0 indicates that this line and the vector to `p` are collinear\n\n        var length = this.length();\n        if ((new Line(start, p)).length() > length) return false;\n        if ((new Line(p, end)).length() > length) return false;\n        // else: `p` lies between start and end of the line\n\n        return true;\n    },\n\n    // Divides the line into two at requested `ratio` between 0 and 1.\n    divideAt: function(ratio) {\n\n        var dividerPoint = this.pointAt(ratio);\n\n        // return array with two lines\n        return [\n            new Line(this.start, dividerPoint),\n            new Line(dividerPoint, this.end)\n        ];\n    },\n\n    // Divides the line into two at requested `length`.\n    divideAtLength: function(length) {\n\n        var dividerPoint = this.pointAtLength(length);\n\n        // return array with two new lines\n        return [\n            new Line(this.start, dividerPoint),\n            new Line(dividerPoint, this.end)\n        ];\n    },\n\n    equals: function(l) {\n\n        return !!l &&\n            this.start.x === l.start.x &&\n            this.start.y === l.start.y &&\n            this.end.x === l.end.x &&\n            this.end.y === l.end.y;\n    },\n\n    // @return {point} Point where I'm intersecting a line.\n    // @return [point] Points where I'm intersecting a rectangle.\n    // @see Squeak Smalltalk, LineSegment>>intersectionWith:\n    intersect: function(shape, opt) {\n\n        if (shape instanceof Line ||\n            shape instanceof Rect ||\n            shape instanceof Polyline ||\n            shape instanceof Ellipse ||\n            shape instanceof Path\n        ) {\n            var intersection = shape.intersectionWithLine(this, opt);\n\n            // Backwards compatibility\n            if (intersection && (shape instanceof Line)) {\n                intersection = intersection[0];\n            }\n\n            return intersection;\n        }\n\n        return null;\n    },\n\n    intersectionWithLine: function(line) {\n\n        var pt1Dir = new Point(this.end.x - this.start.x, this.end.y - this.start.y);\n        var pt2Dir = new Point(line.end.x - line.start.x, line.end.y - line.start.y);\n        var det = (pt1Dir.x * pt2Dir.y) - (pt1Dir.y * pt2Dir.x);\n        var deltaPt = new Point(line.start.x - this.start.x, line.start.y - this.start.y);\n        var alpha = (deltaPt.x * pt2Dir.y) - (deltaPt.y * pt2Dir.x);\n        var beta = (deltaPt.x * pt1Dir.y) - (deltaPt.y * pt1Dir.x);\n\n        if (det === 0 || alpha * det < 0 || beta * det < 0) {\n            // No intersection found.\n            return null;\n        }\n\n        if (det > 0) {\n            if (alpha > det || beta > det) {\n                return null;\n            }\n\n        } else {\n            if (alpha < det || beta < det) {\n                return null;\n            }\n        }\n\n        return [new Point(\n            this.start.x + (alpha * pt1Dir.x / det),\n            this.start.y + (alpha * pt1Dir.y / det)\n        )];\n    },\n\n    isDifferentiable: function() {\n\n        return !this.start.equals(this.end);\n    },\n\n    // @return {double} length of the line\n    length: function() {\n\n        return sqrt(this.squaredLength());\n    },\n\n    // @return {point} my midpoint\n    midpoint: function() {\n\n        return new Point(\n            (this.start.x + this.end.x) / 2,\n            (this.start.y + this.end.y) / 2\n        );\n    },\n\n    parallel: function(distance) {\n        const l = this.clone();\n        if (!this.isDifferentiable()) return l;\n        const { start, end } = l;\n        const eRef = start.clone().rotate(end, 270);\n        const sRef = end.clone().rotate(start, 90);\n        start.move(sRef, distance);\n        end.move(eRef, distance);\n        return l;\n    },\n\n    // @return {point} my point at 't' <0,1>\n    pointAt: function(t) {\n\n        var start = this.start;\n        var end = this.end;\n\n        if (t <= 0) return start.clone();\n        if (t >= 1) return end.clone();\n\n        return start.lerp(end, t);\n    },\n\n    pointAtLength: function(length) {\n\n        var start = this.start;\n        var end = this.end;\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var lineLength = this.length();\n        if (length >= lineLength) return (fromStart ? end.clone() : start.clone());\n\n        return this.pointAt((fromStart ? (length) : (lineLength - length)) / lineLength);\n    },\n\n    // @return {number} the offset of the point `p` from the line. + if the point `p` is on the right side of the line, - if on the left and 0 if on the line.\n    pointOffset: function(p) {\n\n        // Find the sign of the determinant of vectors (start,end), where p is the query point.\n        p = new Point(p);\n        var start = this.start;\n        var end = this.end;\n        var determinant = ((end.x - start.x) * (p.y - start.y) - (end.y - start.y) * (p.x - start.x));\n\n        return determinant / this.length();\n    },\n\n    rotate: function(origin, angle) {\n\n        this.start.rotate(origin, angle);\n        this.end.rotate(origin, angle);\n        return this;\n    },\n\n    round: function(precision) {\n\n        this.start.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.start.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    // @return {number} scale the line so that it has the requested length\n    setLength: function(length) {\n\n        var currentLength = this.length();\n        if (!currentLength) return this;\n\n        var scaleFactor = length / currentLength;\n        return this.scale(scaleFactor, scaleFactor, this.start);\n    },\n\n    // @return {integer} length without sqrt\n    // @note for applications where the exact length is not necessary (e.g. compare only)\n    squaredLength: function() {\n\n        var x0 = this.start.x;\n        var y0 = this.start.y;\n        var x1 = this.end.x;\n        var y1 = this.end.y;\n        return (x0 -= x1) * x0 + (y0 -= y1) * y0;\n    },\n\n    tangentAt: function(t) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var start = this.start;\n        var end = this.end;\n\n        var tangentStart = this.pointAt(t); // constrains `t` between 0 and 1\n\n        var tangentLine = new Line(start, end);\n        tangentLine.translate(tangentStart.x - start.x, tangentStart.y - start.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    tangentAtLength: function(length) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var start = this.start;\n        var end = this.end;\n\n        var tangentStart = this.pointAtLength(length);\n\n        var tangentLine = new Line(start, end);\n        tangentLine.translate(tangentStart.x - start.x, tangentStart.y - start.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    toString: function() {\n\n        return this.start.toString() + ' ' + this.end.toString();\n    },\n\n    serialize: function() {\n\n        return this.start.serialize() + ' ' + this.end.serialize();\n    },\n\n    translate: function(tx, ty) {\n\n        this.start.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    },\n\n    // @return vector {point} of the line\n    vector: function() {\n\n        return new Point(this.end.x - this.start.x, this.end.y - this.start.y);\n    }\n};\n\n// For backwards compatibility:\nLine.prototype.intersection = Line.prototype.intersect;\n\n// Accepts path data string, array of segments, array of Curves and/or Lines, or a Polyline.\n// Path created is not guaranteed to be a valid (serializable) path (might not start with an M).\nexport const Path = function(arg) {\n\n    if (!(this instanceof Path)) {\n        return new Path(arg);\n    }\n\n    if (typeof arg === 'string') { // create from a path data string\n        return new Path.parse(arg);\n    }\n\n    this.segments = [];\n\n    var i;\n    var n;\n\n    if (!arg) {\n        // don't do anything\n\n    } else if (Array.isArray(arg) && arg.length !== 0) { // if arg is a non-empty array\n        // flatten one level deep\n        // so we can chain arbitrary Path.createSegment results\n        arg = arg.reduce(function(acc, val) {\n            return acc.concat(val);\n        }, []);\n\n        n = arg.length;\n        if (arg[0].isSegment) { // create from an array of segments\n            for (i = 0; i < n; i++) {\n\n                var segment = arg[i];\n\n                this.appendSegment(segment);\n            }\n\n        } else { // create from an array of Curves and/or Lines\n            var previousObj = null;\n            for (i = 0; i < n; i++) {\n\n                var obj = arg[i];\n\n                if (!((obj instanceof Line) || (obj instanceof Curve))) {\n                    throw new Error('Cannot construct a path segment from the provided object.');\n                }\n\n                if (i === 0) this.appendSegment(Path.createSegment('M', obj.start));\n\n                // if objects do not link up, moveto segments are inserted to cover the gaps\n                if (previousObj && !previousObj.end.equals(obj.start)) this.appendSegment(Path.createSegment('M', obj.start));\n\n                if (obj instanceof Line) {\n                    this.appendSegment(Path.createSegment('L', obj.end));\n\n                } else if (obj instanceof Curve) {\n                    this.appendSegment(Path.createSegment('C', obj.controlPoint1, obj.controlPoint2, obj.end));\n                }\n\n                previousObj = obj;\n            }\n        }\n\n    } else if (arg.isSegment) { // create from a single segment\n        this.appendSegment(arg);\n\n    } else if (arg instanceof Line) { // create from a single Line\n        this.appendSegment(Path.createSegment('M', arg.start));\n        this.appendSegment(Path.createSegment('L', arg.end));\n\n    } else if (arg instanceof Curve) { // create from a single Curve\n        this.appendSegment(Path.createSegment('M', arg.start));\n        this.appendSegment(Path.createSegment('C', arg.controlPoint1, arg.controlPoint2, arg.end));\n\n    } else if (arg instanceof Polyline) { // create from a Polyline\n        if (!(arg.points && (arg.points.length !== 0))) return; // if Polyline has no points, leave Path empty\n\n        n = arg.points.length;\n        for (i = 0; i < n; i++) {\n\n            var point = arg.points[i];\n\n            if (i === 0) this.appendSegment(Path.createSegment('M', point));\n            else this.appendSegment(Path.createSegment('L', point));\n        }\n\n    } else { // unknown object\n        throw new Error('Cannot construct a path from the provided object.');\n    }\n};\n\n// More permissive than V.normalizePathData and Path.prototype.serialize.\n// Allows path data strings that do not start with a Moveto command (unlike SVG specification).\n// Does not require spaces between elements; commas are allowed, separators may be omitted when unambiguous (e.g. 'ZM10,10', 'L1.6.8', 'M100-200').\n// Allows for command argument chaining.\n// Throws an error if wrong number of arguments is provided with a command.\n// Throws an error if an unrecognized path command is provided (according to Path.segmentTypes). Only a subset of SVG commands is currently supported (L, C, M, Z).\nPath.parse = function(pathData) {\n\n    if (!pathData) return new Path();\n\n    var path = new Path();\n\n    var commandRe = /(?:[a-zA-Z] *)(?:(?:-?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)? *,? *)|(?:-?\\.\\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\\d|-|\\.)/g;\n    var commands = pathData.match(commandRe);\n\n    var numCommands = commands.length;\n    for (var i = 0; i < numCommands; i++) {\n\n        var command = commands[i];\n        var argRe = /(?:[a-zA-Z])|(?:(?:-?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))|(?:(?:-?\\.\\d+))/g;\n        var args = command.match(argRe);\n\n        var segment = Path.createSegment.apply(this, args); // args = [type, coordinate1, coordinate2...]\n        path.appendSegment(segment);\n    }\n\n    return path;\n};\n\n// Create a segment or an array of segments.\n// Accepts unlimited points/coords arguments after `type`.\nPath.createSegment = function(type) {\n\n    if (!type) throw new Error('Type must be provided.');\n\n    var segmentConstructor = Path.segmentTypes[type];\n    if (!segmentConstructor) throw new Error(type + ' is not a recognized path segment type.');\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 1; i < n; i++) { // do not add first element (`type`) to args array\n        args.push(arguments[i]);\n    }\n\n    return applyToNew(segmentConstructor, args);\n};\n\nPath.prototype = {\n\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if argument is not a segment or an array of segments.\n    appendSegment: function(arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        var currentSegment;\n\n        var previousSegment = ((numSegments !== 0) ? segments[numSegments - 1] : null); // if we are appending to an empty path, previousSegment is null\n        var nextSegment = null;\n\n        if (!Array.isArray(arg)) { // arg is a segment\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.push(currentSegment);\n\n        } else { // arg is an array of segments\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.push(currentSegment);\n                previousSegment = currentSegment;\n            }\n        }\n    },\n\n    // Returns the bbox of the path.\n    // If path has no segments, returns null.\n    // If path has only invisible segments, returns bbox of the end point of last segment.\n    bbox: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var bbox;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            if (segment.isVisible) {\n                var segmentBBox = segment.bbox();\n                bbox = bbox ? bbox.union(segmentBBox) : segmentBBox;\n            }\n        }\n\n        if (bbox) return bbox;\n\n        // if the path has only invisible elements, return end point of last segment\n        var lastSegment = segments[numSegments - 1];\n        return new Rect(lastSegment.end.x, lastSegment.end.y, 0, 0);\n    },\n\n    // Returns a new path that is a clone of this path.\n    clone: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        var path = new Path();\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i].clone();\n            path.appendSegment(segment);\n        }\n\n        return path;\n    },\n\n    closestPoint: function(p, opt) {\n\n        var t = this.closestPointT(p, opt);\n        if (!t) return null;\n\n        return this.pointAtT(t);\n    },\n\n    closestPointLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var t = this.closestPointT(p, localOpt);\n        if (!t) return 0;\n\n        return this.lengthAtT(t, localOpt);\n    },\n\n    closestPointNormalizedLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var cpLength = this.closestPointLength(p, localOpt);\n        if (cpLength === 0) return 0; // shortcut\n\n        var length = this.length(localOpt);\n        if (length === 0) return 0; // prevents division by zero\n\n        return cpLength / length;\n    },\n\n    // Private function.\n    closestPointT: function(p, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var closestPointT;\n        var minSquaredDistance = Infinity;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n\n            if (segment.isVisible) {\n                var segmentClosestPointT = segment.closestPointT(p, {\n                    precision: precision,\n                    subdivisions: subdivisions\n                });\n                var segmentClosestPoint = segment.pointAtT(segmentClosestPointT);\n                var squaredDistance = (new Line(segmentClosestPoint, p)).squaredLength();\n\n                if (squaredDistance < minSquaredDistance) {\n                    closestPointT = { segmentIndex: i, value: segmentClosestPointT };\n                    minSquaredDistance = squaredDistance;\n                }\n            }\n        }\n\n        if (closestPointT) return closestPointT;\n\n        // if no visible segment, return end of last segment\n        return { segmentIndex: numSegments - 1, value: 1 };\n    },\n\n    closestPointTangent: function(p, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var closestPointTangent;\n        var minSquaredDistance = Infinity;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n\n            if (segment.isDifferentiable()) {\n                var segmentClosestPointT = segment.closestPointT(p, {\n                    precision: precision,\n                    subdivisions: subdivisions\n                });\n                var segmentClosestPoint = segment.pointAtT(segmentClosestPointT);\n                var squaredDistance = (new Line(segmentClosestPoint, p)).squaredLength();\n\n                if (squaredDistance < minSquaredDistance) {\n                    closestPointTangent = segment.tangentAtT(segmentClosestPointT);\n                    minSquaredDistance = squaredDistance;\n                }\n            }\n        }\n\n        if (closestPointTangent) return closestPointTangent;\n\n        // if no valid segment, return null\n        return null;\n    },\n\n    // Returns `true` if the area surrounded by the path contains the point `p`.\n    // Implements the even-odd algorithm (self-intersections are \"outside\").\n    // Closes open paths (always imagines a final closing segment).\n    // Precision may be adjusted by passing an `opt` object.\n    containsPoint: function(p, opt) {\n\n        var polylines = this.toPolylines(opt);\n        if (!polylines) return false; // shortcut (this path has no polylines)\n\n        var numPolylines = polylines.length;\n\n        // how many component polylines does `p` lie within?\n        var numIntersections = 0;\n        for (var i = 0; i < numPolylines; i++) {\n            var polyline = polylines[i];\n            if (polyline.containsPoint(p)) {\n                // `p` lies within this polyline\n                numIntersections++;\n            }\n        }\n\n        // returns `true` for odd numbers of intersections (even-odd algorithm)\n        return ((numIntersections % 2) === 1);\n    },\n\n    // Divides the path into two at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.divideAtLength(length, localOpt);\n    },\n\n    // Divides the path into two at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAtLength: function(length, opt) {\n\n        var numSegments = this.segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var i;\n        var segment;\n\n        // identify the segment to divide:\n\n        var l = 0; // length so far\n        var divided;\n        var dividedSegmentIndex;\n        var lastValidSegment; // visible AND differentiable\n        var lastValidSegmentIndex;\n        var t;\n        for (i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            segment = this.getSegment(index);\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isDifferentiable()) { // segment is not just a point\n                lastValidSegment = segment;\n                lastValidSegmentIndex = index;\n\n                if (length <= (l + d)) {\n                    dividedSegmentIndex = index;\n                    divided = segment.divideAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                    break;\n                }\n            }\n\n            l += d;\n        }\n\n        if (!lastValidSegment) { // no valid segment found\n            return null;\n        }\n\n        // else: the path contains at least one valid segment\n\n        if (!divided) { // the desired length is greater than the length of the path\n            dividedSegmentIndex = lastValidSegmentIndex;\n            t = (fromStart ? 1 : 0);\n            divided = lastValidSegment.divideAtT(t);\n        }\n\n        // create a copy of this path and replace the identified segment with its two divided parts:\n\n        var pathCopy = this.clone();\n        pathCopy.replaceSegment(dividedSegmentIndex, divided);\n\n        var divisionStartIndex = dividedSegmentIndex;\n        var divisionMidIndex = dividedSegmentIndex + 1;\n        var divisionEndIndex = dividedSegmentIndex + 2;\n\n        // do not insert the part if it looks like a point\n        if (!divided[0].isDifferentiable()) {\n            pathCopy.removeSegment(divisionStartIndex);\n            divisionMidIndex -= 1;\n            divisionEndIndex -= 1;\n        }\n\n        // insert a Moveto segment to ensure secondPath will be valid:\n        var movetoEnd = pathCopy.getSegment(divisionMidIndex).start;\n        pathCopy.insertSegment(divisionMidIndex, Path.createSegment('M', movetoEnd));\n        divisionEndIndex += 1;\n\n        // do not insert the part if it looks like a point\n        if (!divided[1].isDifferentiable()) {\n            pathCopy.removeSegment(divisionEndIndex - 1);\n            divisionEndIndex -= 1;\n        }\n\n        // ensure that Closepath segments in secondPath will be assigned correct subpathStartSegment:\n\n        var secondPathSegmentIndexConversion = divisionEndIndex - divisionStartIndex - 1;\n        for (i = divisionEndIndex; i < pathCopy.segments.length; i++) {\n\n            var originalSegment = this.getSegment(i - secondPathSegmentIndexConversion);\n            segment = pathCopy.getSegment(i);\n\n            if ((segment.type === 'Z') && !originalSegment.subpathStartSegment.end.equals(segment.subpathStartSegment.end)) {\n                // pathCopy segment's subpathStartSegment is different from original segment's one\n                // convert this Closepath segment to a Lineto and replace it in pathCopy\n                var convertedSegment = Path.createSegment('L', originalSegment.end);\n                pathCopy.replaceSegment(i, convertedSegment);\n            }\n        }\n\n        // distribute pathCopy segments into two paths and return those:\n\n        var firstPath = new Path(pathCopy.segments.slice(0, divisionMidIndex));\n        var secondPath = new Path(pathCopy.segments.slice(divisionMidIndex));\n\n        return [firstPath, secondPath];\n    },\n\n    // Checks whether two paths are exactly the same.\n    // If `p` is undefined or null, returns false.\n    equals: function(p) {\n\n        if (!p) return false;\n\n        var segments = this.segments;\n        var otherSegments = p.segments;\n\n        var numSegments = segments.length;\n        if (otherSegments.length !== numSegments) return false; // if the two paths have different number of segments, they cannot be equal\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var otherSegment = otherSegments[i];\n\n            // as soon as an inequality is found in segments, return false\n            if ((segment.type !== otherSegment.type) || (!segment.equals(otherSegment))) return false;\n        }\n\n        // if no inequality found in segments, return true\n        return true;\n    },\n\n    // Accepts negative indices.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    getSegment: function(index) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        return segments[index];\n    },\n\n    // Returns an array of segment subdivisions, with precision better than requested `opt.precision`.\n    getSegmentSubdivisions: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.segmentSubdivisions\n        // not using localOpt\n\n        var segmentSubdivisions = [];\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segment.getSubdivisions({ precision: precision });\n            segmentSubdivisions.push(subdivisions);\n        }\n\n        return segmentSubdivisions;\n    },\n\n    // Returns an array of subpaths of this path.\n    // Invalid paths are validated first.\n    // Returns `[]` if path has no segments.\n    getSubpaths: function() {\n\n        const validatedPath = this.clone().validate();\n\n        const segments = validatedPath.segments;\n        const numSegments = segments.length;\n\n        const subpaths = [];\n        for (let i = 0; i < numSegments; i++) {\n\n            const segment = segments[i];\n            if (segment.isSubpathStart) {\n                // we encountered a subpath start segment\n                // create a new path for segment, and push it to list of subpaths\n                subpaths.push(new Path(segment));\n\n            } else {\n                // append current segment to the last subpath\n                subpaths[subpaths.length - 1].appendSegment(segment);\n            }\n        }\n\n        return subpaths;\n    },\n\n    // Insert `arg` at given `index`.\n    // `index = 0` means insert at the beginning.\n    // `index = segments.length` means insert at the end.\n    // Accepts negative indices, from `-1` to `-(segments.length + 1)`.\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if index is out of range.\n    // Throws an error if argument is not a segment or an array of segments.\n    insertSegment: function(index, arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        // note that these are incremented comapared to getSegments()\n        // we can insert after last element (note that this changes the meaning of index -1)\n        if (index < 0) index = numSegments + index + 1; // convert negative indices to positive\n        if (index > numSegments || index < 0) throw new Error('Index out of range.');\n\n        var currentSegment;\n\n        var previousSegment = null;\n        var nextSegment = null;\n\n        if (numSegments !== 0) {\n            if (index >= 1) {\n                previousSegment = segments[index - 1];\n                nextSegment = previousSegment.nextSegment; // if we are inserting at end, nextSegment is null\n\n            } else { // if index === 0\n                // previousSegment is null\n                nextSegment = segments[0];\n            }\n        }\n\n        if (!Array.isArray(arg)) {\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.splice(index, 0, currentSegment);\n\n        } else {\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.splice((index + i), 0, currentSegment); // incrementing index to insert subsequent segments after inserted segments\n                previousSegment = currentSegment;\n            }\n        }\n    },\n\n    intersectionWithLine: function(line, opt) {\n\n        var intersection = null;\n        var polylines = this.toPolylines(opt);\n        if (!polylines) return null;\n        for (var i = 0, n = polylines.length; i < n; i++) {\n            var polyline = polylines[i];\n            var polylineIntersection = line.intersect(polyline);\n            if (polylineIntersection) {\n                intersection || (intersection = []);\n                if (Array.isArray(polylineIntersection)) {\n                    Array.prototype.push.apply(intersection, polylineIntersection);\n                } else {\n                    intersection.push(polylineIntersection);\n                }\n            }\n        }\n\n        return intersection;\n    },\n\n    isDifferentiable: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            // as soon as a differentiable segment is found in segments, return true\n            if (segment.isDifferentiable()) return true;\n        }\n\n        // if no differentiable segment is found in segments, return false\n        return false;\n    },\n\n    // Checks whether current path segments are valid.\n    // Note that d is allowed to be empty - should disable rendering of the path.\n    isValid: function() {\n\n        var segments = this.segments;\n        var isValid = (segments.length === 0) || (segments[0].type === 'M'); // either empty or first segment is a Moveto\n        return isValid;\n    },\n\n    // Returns length of the path, with precision better than requested `opt.precision`; or using `opt.segmentSubdivisions` provided.\n    // If path has no segments, returns 0.\n    length: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return 0; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSegmentSubdivisions() call\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var length = 0;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n            length += segment.length({ subdivisions: subdivisions });\n        }\n\n        return length;\n    },\n\n    // Private function.\n    lengthAtT: function(t, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return 0; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return 0; // regardless of t.value\n\n        var tValue = t.value;\n        if (segmentIndex >= numSegments) {\n            segmentIndex = numSegments - 1;\n            tValue = 1;\n        } else if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var subdivisions;\n        var length = 0;\n        for (var i = 0; i < segmentIndex; i++) {\n\n            var segment = segments[i];\n            subdivisions = segmentSubdivisions[i];\n            length += segment.length({ precisison: precision, subdivisions: subdivisions });\n        }\n\n        segment = segments[segmentIndex];\n        subdivisions = segmentSubdivisions[segmentIndex];\n        length += segment.lengthAtT(tValue, { precisison: precision, subdivisions: subdivisions });\n\n        return length;\n    },\n\n    // Returns point at requested `ratio` between 0 and 1, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    pointAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio <= 0) return this.start.clone();\n        if (ratio >= 1) return this.end.clone();\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.pointAtLength(length, localOpt);\n    },\n\n    // Returns point at requested `length`, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    // Accepts negative length.\n    pointAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (length === 0) return this.start.clone();\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastVisibleSegment;\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isVisible) {\n                if (length <= (l + d)) {\n                    return segment.pointAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                }\n\n                lastVisibleSegment = segment;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return last visible segment endpoint\n        if (lastVisibleSegment) return (fromStart ? lastVisibleSegment.end : lastVisibleSegment.start);\n\n        // if no visible segment, return last segment end point (no matter if fromStart or no)\n        var lastSegment = segments[numSegments - 1];\n        return lastSegment.end.clone();\n    },\n\n    // Private function.\n    pointAtT: function(t) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return segments[0].pointAtT(0);\n        if (segmentIndex >= numSegments) return segments[numSegments - 1].pointAtT(1);\n\n        var tValue = t.value;\n        if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        return segments[segmentIndex].pointAtT(tValue);\n    },\n\n    // Default precision\n    PRECISION: 3,\n\n    // Helper method for adding segments.\n    prepareSegment: function(segment, previousSegment, nextSegment) {\n\n        // insert after previous segment and before previous segment's next segment\n        segment.previousSegment = previousSegment;\n        segment.nextSegment = nextSegment;\n        if (previousSegment) previousSegment.nextSegment = segment;\n        if (nextSegment) nextSegment.previousSegment = segment;\n\n        var updateSubpathStart = segment;\n        if (segment.isSubpathStart) {\n            segment.subpathStartSegment = segment; // assign self as subpath start segment\n            updateSubpathStart = nextSegment; // start updating from next segment\n        }\n\n        // assign previous segment's subpath start (or self if it is a subpath start) to subsequent segments\n        if (updateSubpathStart) this.updateSubpathStartSegment(updateSubpathStart);\n\n        return segment;\n    },\n\n    // Remove the segment at `index`.\n    // Accepts negative indices, from `-1` to `-segments.length`.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    removeSegment: function(index) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        var removedSegment = segments.splice(index, 1)[0];\n        var previousSegment = removedSegment.previousSegment;\n        var nextSegment = removedSegment.nextSegment;\n\n        // link the previous and next segments together (if present)\n        if (previousSegment) previousSegment.nextSegment = nextSegment; // may be null\n        if (nextSegment) nextSegment.previousSegment = previousSegment; // may be null\n\n        // if removed segment used to start a subpath, update all subsequent segments until another subpath start segment is reached\n        if (removedSegment.isSubpathStart && nextSegment) this.updateSubpathStartSegment(nextSegment);\n    },\n\n    // Replace the segment at `index` with `arg`.\n    // Accepts negative indices, from `-1` to `-segments.length`.\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    // Throws an error if argument is not a segment or an array of segments.\n    replaceSegment: function(index, arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        var currentSegment;\n\n        var replacedSegment = segments[index];\n        var previousSegment = replacedSegment.previousSegment;\n        var nextSegment = replacedSegment.nextSegment;\n\n        var updateSubpathStart = replacedSegment.isSubpathStart; // boolean: is an update of subpath starts necessary?\n\n        if (!Array.isArray(arg)) {\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.splice(index, 1, currentSegment); // directly replace\n\n            if (updateSubpathStart && currentSegment.isSubpathStart) updateSubpathStart = false; // already updated by `prepareSegment`\n\n        } else {\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            segments.splice(index, 1);\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.splice((index + i), 0, currentSegment); // incrementing index to insert subsequent segments after inserted segments\n                previousSegment = currentSegment;\n\n                if (updateSubpathStart && currentSegment.isSubpathStart) updateSubpathStart = false; // already updated by `prepareSegment`\n            }\n        }\n\n        // if replaced segment used to start a subpath and no new subpath start was added, update all subsequent segments until another subpath start segment is reached\n        if (updateSubpathStart && nextSegment) this.updateSubpathStartSegment(nextSegment);\n    },\n\n    round: function(precision) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.round(precision);\n        }\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.scale(sx, sy, origin);\n        }\n\n        return this;\n    },\n\n    segmentAt: function(ratio, opt) {\n\n        var index = this.segmentIndexAt(ratio, opt);\n        if (!index) return null;\n\n        return this.getSegment(index);\n    },\n\n    // Accepts negative length.\n    segmentAtLength: function(length, opt) {\n\n        var index = this.segmentIndexAtLength(length, opt);\n        if (!index) return null;\n\n        return this.getSegment(index);\n    },\n\n    segmentIndexAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.segmentIndexAtLength(length, localOpt);\n    },\n\n    // Accepts negative length.\n    segmentIndexAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastVisibleSegmentIndex = null;\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isVisible) {\n                if (length <= (l + d)) return index;\n                lastVisibleSegmentIndex = index;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return last visible segment index\n        // if no visible segment, return null\n        return lastVisibleSegmentIndex;\n    },\n\n    // Returns a string that can be used to reconstruct the path.\n    // Additional error checking compared to toString (must start with M segment).\n    serialize: function() {\n\n        if (!this.isValid()) throw new Error('Invalid path segments.');\n\n        return this.toString();\n    },\n\n    // Returns tangent line at requested `ratio` between 0 and 1, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    tangentAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.tangentAtLength(length, localOpt);\n    },\n\n    // Returns tangent line at requested `length`, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    // Accepts negative length.\n    tangentAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastValidSegment; // visible AND differentiable (with a tangent)\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isDifferentiable()) {\n                if (length <= (l + d)) {\n                    return segment.tangentAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                }\n\n                lastValidSegment = segment;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return tangent of endpoint of last valid segment\n        if (lastValidSegment) {\n            var t = (fromStart ? 1 : 0);\n            return lastValidSegment.tangentAtT(t);\n        }\n\n        // if no valid segment, return null\n        return null;\n    },\n\n    // Private function.\n    tangentAtT: function(t) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return segments[0].tangentAtT(0);\n        if (segmentIndex >= numSegments) return segments[numSegments - 1].tangentAtT(1);\n\n        var tValue = t.value;\n        if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        return segments[segmentIndex].tangentAtT(tValue);\n    },\n\n    toPoints: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n\n        var points = [];\n        var partialPoints = [];\n        for (var i = 0; i < numSegments; i++) {\n            var segment = segments[i];\n            if (segment.isVisible) {\n                var currentSegmentSubdivisions = segmentSubdivisions[i];\n                if (currentSegmentSubdivisions.length > 0) {\n                    var subdivisionPoints = currentSegmentSubdivisions.map(function(curve) {\n                        return curve.start;\n                    });\n                    Array.prototype.push.apply(partialPoints, subdivisionPoints);\n                } else {\n                    partialPoints.push(segment.start);\n                }\n            } else if (partialPoints.length > 0) {\n                partialPoints.push(segments[i - 1].end);\n                points.push(partialPoints);\n                partialPoints = [];\n            }\n        }\n\n        if (partialPoints.length > 0) {\n            partialPoints.push(this.end);\n            points.push(partialPoints);\n        }\n        return points;\n    },\n\n    toPolylines: function(opt) {\n\n        var polylines = [];\n        var points = this.toPoints(opt);\n        if (!points) return null;\n        for (var i = 0, n = points.length; i < n; i++) {\n            polylines.push(new Polyline(points[i]));\n        }\n\n        return polylines;\n    },\n\n    toString: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        var pathData = '';\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            pathData += segment.serialize() + ' ';\n        }\n\n        return pathData.trim();\n    },\n\n    translate: function(tx, ty) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.translate(tx, ty);\n        }\n\n        return this;\n    },\n\n    // Helper method for updating subpath start of segments, starting with the one provided.\n    updateSubpathStartSegment: function(segment) {\n\n        var previousSegment = segment.previousSegment; // may be null\n        while (segment && !segment.isSubpathStart) {\n\n            // assign previous segment's subpath start segment to this segment\n            if (previousSegment) segment.subpathStartSegment = previousSegment.subpathStartSegment; // may be null\n            else segment.subpathStartSegment = null; // if segment had no previous segment, assign null - creates an invalid path!\n\n            previousSegment = segment;\n            segment = segment.nextSegment; // move on to the segment after etc.\n        }\n    },\n\n    // If the path is not valid, insert M 0 0 at the beginning.\n    // Path with no segments is considered valid, so nothing is inserted.\n    validate: function() {\n\n        if (!this.isValid()) this.insertSegment(0, Path.createSegment('M', 0, 0));\n        return this;\n    }\n};\n\nObject.defineProperty(Path.prototype, 'start', {\n    // Getter for the first visible endpoint of the path.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            if (segment.isVisible) return segment.start;\n        }\n\n        // if no visible segment, return last segment end point\n        return segments[numSegments - 1].end;\n    }\n});\n\nObject.defineProperty(Path.prototype, 'end', {\n    // Getter for the last visible endpoint of the path.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null;\n\n        for (var i = numSegments - 1; i >= 0; i--) {\n\n            var segment = segments[i];\n            if (segment.isVisible) return segment.end;\n        }\n\n        // if no visible segment, return last segment end point\n        return segments[numSegments - 1].end;\n    }\n});\n\n/*\n    Point is the most basic object consisting of x/y coordinate.\n\n    Possible instantiations are:\n    * `Point(10, 20)`\n    * `new Point(10, 20)`\n    * `Point('10 20')`\n    * `Point(Point(10, 20))`\n*/\nexport const Point = function(x, y) {\n\n    if (!(this instanceof Point)) {\n        return new Point(x, y);\n    }\n\n    if (typeof x === 'string') {\n        var xy = x.split(x.indexOf('@') === -1 ? ' ' : '@');\n        x = parseFloat(xy[0]);\n        y = parseFloat(xy[1]);\n\n    } else if (Object(x) === x) {\n        y = x.y;\n        x = x.x;\n    }\n\n    this.x = x === undefined ? 0 : x;\n    this.y = y === undefined ? 0 : y;\n};\n\n// Alternative constructor, from polar coordinates.\n// @param {number} Distance.\n// @param {number} Angle in radians.\n// @param {point} [optional] Origin.\nPoint.fromPolar = function(distance, angle, origin) {\n\n    origin = new Point(origin);\n    var x = abs(distance * cos(angle));\n    var y = abs(distance * sin(angle));\n    var deg = normalizeAngle(toDeg(angle));\n\n    if (deg < 90) {\n        y = -y;\n\n    } else if (deg < 180) {\n        x = -x;\n        y = -y;\n\n    } else if (deg < 270) {\n        x = -x;\n    }\n\n    return new Point(origin.x + x, origin.y + y);\n};\n\n// Create a point with random coordinates that fall into the range `[x1, x2]` and `[y1, y2]`.\nPoint.random = function(x1, x2, y1, y2) {\n\n    return new Point(random(x1, x2), random(y1, y2));\n};\n\nPoint.prototype = {\n\n    chooseClosest: function(points) {\n\n        var n = points.length;\n        if (n === 1) return new Point(points[0]);\n        var closest = null;\n        var minSqrDistance = Infinity;\n        for (var i = 0; i < n; i++) {\n            var p = new Point(points[i]);\n            var sqrDistance = this.squaredDistance(p);\n            if (sqrDistance < minSqrDistance) {\n                closest = p;\n                minSqrDistance = sqrDistance;\n            }\n        }\n        return closest;\n    },\n\n    // If point lies outside rectangle `r`, return the nearest point on the boundary of rect `r`,\n    // otherwise return point itself.\n    // (see Squeak Smalltalk, Point>>adhereTo:)\n    adhereToRect: function(r) {\n\n        if (r.containsPoint(this)) {\n            return this;\n        }\n\n        this.x = min(max(this.x, r.x), r.x + r.width);\n        this.y = min(max(this.y, r.y), r.y + r.height);\n        return this;\n    },\n\n    // Compute the angle between vector from me to p1 and the vector from me to p2.\n    // ordering of points p1 and p2 is important!\n    // theta function's angle convention:\n    // returns angles between 0 and 180 when the angle is counterclockwise\n    // returns angles between 180 and 360 to convert clockwise angles into counterclockwise ones\n    // returns NaN if any of the points p1, p2 is coincident with this point\n    angleBetween: function(p1, p2) {\n\n        var angleBetween = (this.equals(p1) || this.equals(p2)) ? NaN : (this.theta(p2) - this.theta(p1));\n\n        if (angleBetween < 0) {\n            angleBetween += 360; // correction to keep angleBetween between 0 and 360\n        }\n\n        return angleBetween;\n    },\n\n    // Return the bearing between me and the given point.\n    bearing: function(point) {\n\n        return (new Line(this, point)).bearing();\n    },\n\n    // Returns change in angle from my previous position (-dx, -dy) to my new position\n    // relative to ref point.\n    changeInAngle: function(dx, dy, ref) {\n\n        // Revert the translation and measure the change in angle around x-axis.\n        return this.clone().offset(-dx, -dy).theta(ref) - this.theta(ref);\n    },\n\n    clone: function() {\n\n        return new Point(this);\n    },\n\n    // Returns the cross product of this point relative to two other points\n    // this point is the common point\n    // point p1 lies on the first vector, point p2 lies on the second vector\n    // watch out for the ordering of points p1 and p2!\n    // positive result indicates a clockwise (\"right\") turn from first to second vector\n    // negative result indicates a counterclockwise (\"left\") turn from first to second vector\n    // zero indicates that the first and second vector are collinear\n    // note that the above directions are reversed from the usual answer on the Internet\n    // that is because we are in a left-handed coord system (because the y-axis points downward)\n    cross: function(p1, p2) {\n\n        return (p1 && p2) ? (((p2.x - this.x) * (p1.y - this.y)) - ((p2.y - this.y) * (p1.x - this.x))) : NaN;\n    },\n\n    difference: function(dx, dy) {\n\n        if ((Object(dx) === dx)) {\n            dy = dx.y;\n            dx = dx.x;\n        }\n\n        return new Point(this.x - (dx || 0), this.y - (dy || 0));\n    },\n\n    // Returns distance between me and point `p`.\n    distance: function(p) {\n\n        return (new Line(this, p)).length();\n    },\n\n    // Returns the dot product of this point with given other point\n    dot: function(p) {\n\n        return p ? (this.x * p.x + this.y * p.y) : NaN;\n    },\n\n    equals: function(p) {\n\n        return !!p &&\n            this.x === p.x &&\n            this.y === p.y;\n    },\n\n    // Linear interpolation\n    lerp: function(p, t) {\n\n        var x = this.x;\n        var y = this.y;\n        return new Point((1 - t) * x + t * p.x, (1 - t) * y + t * p.y);\n    },\n\n    magnitude: function() {\n\n        return sqrt((this.x * this.x) + (this.y * this.y)) || 0.01;\n    },\n\n    // Returns a manhattan (taxi-cab) distance between me and point `p`.\n    manhattanDistance: function(p) {\n\n        return abs(p.x - this.x) + abs(p.y - this.y);\n    },\n\n    // Move point on line starting from ref ending at me by\n    // distance distance.\n    move: function(ref, distance) {\n\n        var theta = toRad((new Point(ref)).theta(this));\n        var offset = this.offset(cos(theta) * distance, -sin(theta) * distance);\n        return offset;\n    },\n\n    // Scales x and y such that the distance between the point and the origin (0,0) is equal to the given length.\n    normalize: function(length) {\n\n        var scale = (length || 1) / this.magnitude();\n        return this.scale(scale, scale);\n    },\n\n    // Offset me by the specified amount.\n    offset: function(dx, dy) {\n\n        if ((Object(dx) === dx)) {\n            dy = dx.y;\n            dx = dx.x;\n        }\n\n        this.x += dx || 0;\n        this.y += dy || 0;\n        return this;\n    },\n\n    // Returns a point that is the reflection of me with\n    // the center of inversion in ref point.\n    reflection: function(ref) {\n\n        return (new Point(ref)).move(this, this.distance(ref));\n    },\n\n    // Rotate point by angle around origin.\n    // Angle is flipped because this is a left-handed coord system (y-axis points downward).\n    rotate: function(origin, angle) {\n\n        if (angle === 0) return this;\n\n        origin = origin || new Point(0, 0);\n\n        angle = toRad(normalizeAngle(-angle));\n        var cosAngle = cos(angle);\n        var sinAngle = sin(angle);\n\n        var x = (cosAngle * (this.x - origin.x)) - (sinAngle * (this.y - origin.y)) + origin.x;\n        var y = (sinAngle * (this.x - origin.x)) + (cosAngle * (this.y - origin.y)) + origin.y;\n\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        return this;\n    },\n\n    // Scale point with origin.\n    scale: function(sx, sy, origin) {\n\n        origin = (origin && new Point(origin)) || new Point(0, 0);\n        this.x = origin.x + sx * (this.x - origin.x);\n        this.y = origin.y + sy * (this.y - origin.y);\n        return this;\n    },\n\n    snapToGrid: function(gx, gy) {\n\n        this.x = snapToGrid(this.x, gx);\n        this.y = snapToGrid(this.y, gy || gx);\n        return this;\n    },\n\n    squaredDistance: function(p) {\n\n        return (new Line(this, p)).squaredLength();\n    },\n\n    // Compute the angle between me and `p` and the x axis.\n    // (cartesian-to-polar coordinates conversion)\n    // Return theta angle in degrees.\n    theta: function(p) {\n\n        p = new Point(p);\n\n        // Invert the y-axis.\n        var y = -(p.y - this.y);\n        var x = p.x - this.x;\n        var rad = atan2(y, x); // defined for all 0 corner cases\n\n        // Correction for III. and IV. quadrant.\n        if (rad < 0) {\n            rad = 2 * PI + rad;\n        }\n\n        return 180 * rad / PI;\n    },\n\n    toJSON: function() {\n\n        return { x: this.x, y: this.y };\n    },\n\n    // Converts rectangular to polar coordinates.\n    // An origin can be specified, otherwise it's 0@0.\n    toPolar: function(o) {\n\n        o = (o && new Point(o)) || new Point(0, 0);\n        var x = this.x;\n        var y = this.y;\n        this.x = sqrt((x - o.x) * (x - o.x) + (y - o.y) * (y - o.y)); // r\n        this.y = toRad(o.theta(new Point(x, y)));\n        return this;\n    },\n\n    toString: function() {\n\n        return this.x + '@' + this.y;\n    },\n\n    serialize: function() {\n\n        return this.x + ',' + this.y;\n    },\n\n    update: function(x, y) {\n\n        this.x = x || 0;\n        this.y = y || 0;\n        return this;\n    },\n\n    // Compute the angle between the vector from 0,0 to me and the vector from 0,0 to p.\n    // Returns NaN if p is at 0,0.\n    vectorAngle: function(p) {\n\n        var zero = new Point(0, 0);\n        return zero.angleBetween(this, p);\n    }\n};\n\nPoint.prototype.translate = Point.prototype.offset;\n\nexport const Polyline = function(points) {\n\n    if (!(this instanceof Polyline)) {\n        return new Polyline(points);\n    }\n\n    if (typeof points === 'string') {\n        return new Polyline.parse(points);\n    }\n\n    this.points = (Array.isArray(points) ? points.map(Point) : []);\n};\n\nPolyline.parse = function(svgString) {\n    svgString = svgString.trim();\n    if (svgString === '') return new Polyline();\n\n    var points = [];\n\n    var coords = svgString.split(/\\s*,\\s*|\\s+/);\n    var n = coords.length;\n    for (var i = 0; i < n; i += 2) {\n        points.push({ x: +coords[i], y: +coords[i + 1] });\n    }\n\n    return new Polyline(points);\n};\n\nPolyline.prototype = {\n\n    bbox: function() {\n\n        var x1 = Infinity;\n        var x2 = -Infinity;\n        var y1 = Infinity;\n        var y2 = -Infinity;\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            var x = point.x;\n            var y = point.y;\n\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n        }\n\n        return new Rect(x1, y1, x2 - x1, y2 - y1);\n    },\n\n    clone: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return new Polyline(); // if points array is empty\n\n        var newPoints = [];\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i].clone();\n            newPoints.push(point);\n        }\n\n        return new Polyline(newPoints);\n    },\n\n    closestPoint: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n\n        return this.pointAtLength(cpLength);\n    },\n\n    closestPointLength: function(p) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return 0; // if points array is empty\n        if (numPoints === 1) return 0; // if there is only one point\n\n        var cpLength;\n        var minSqrDistance = Infinity;\n        var length = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n\n            var line = new Line(points[i], points[i + 1]);\n            var lineLength = line.length();\n\n            var cpNormalizedLength = line.closestPointNormalizedLength(p);\n            var cp = line.pointAt(cpNormalizedLength);\n\n            var sqrDistance = cp.squaredDistance(p);\n            if (sqrDistance < minSqrDistance) {\n                minSqrDistance = sqrDistance;\n                cpLength = length + (cpNormalizedLength * lineLength);\n            }\n\n            length += lineLength;\n        }\n\n        return cpLength;\n    },\n\n    closestPointNormalizedLength: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n        if (cpLength === 0) return 0; // shortcut\n\n        var length = this.length();\n        if (length === 0) return 0; // prevents division by zero\n\n        return cpLength / length;\n    },\n\n    closestPointTangent: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n\n        return this.tangentAtLength(cpLength);\n    },\n\n    // Returns `true` if the area surrounded by the polyline contains the point `p`.\n    // Implements the even-odd SVG algorithm (self-intersections are \"outside\").\n    // (Uses horizontal rays to the right of `p` to look for intersections.)\n    // Closes open polylines (always imagines a final closing segment).\n    containsPoint: function(p) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return false; // shortcut (this polyline has no points)\n\n        var x = p.x;\n        var y = p.y;\n\n        // initialize a final closing segment by creating one from last-first points on polyline\n        var startIndex = numPoints - 1; // start of current polyline segment\n        var endIndex = 0; // end of current polyline segment\n        var numIntersections = 0;\n        for (; endIndex < numPoints; endIndex++) {\n            var start = points[startIndex];\n            var end = points[endIndex];\n            if (p.equals(start)) return true; // shortcut (`p` is a point on polyline)\n\n            var segment = new Line(start, end); // current polyline segment\n            if (segment.containsPoint(p)) return true; // shortcut (`p` lies on a polyline segment)\n\n            // do we have an intersection?\n            if (((y <= start.y) && (y > end.y)) || ((y > start.y) && (y <= end.y))) {\n                // this conditional branch IS NOT entered when `segment` is collinear/coincident with `ray`\n                // (when `y === start.y === end.y`)\n                // this conditional branch IS entered when `segment` touches `ray` at only one point\n                // (e.g. when `y === start.y !== end.y`)\n                // since this branch is entered again for the following segment, the two touches cancel out\n\n                var xDifference = (((start.x - x) > (end.x - x)) ? (start.x - x) : (end.x - x));\n                if (xDifference >= 0) {\n                    // segment lies at least partially to the right of `p`\n                    var rayEnd = new Point((x + xDifference), y); // right\n                    var ray = new Line(p, rayEnd);\n\n                    if (segment.intersect(ray)) {\n                        // an intersection was detected to the right of `p`\n                        numIntersections++;\n                    }\n                } // else: `segment` lies completely to the left of `p` (i.e. no intersection to the right)\n            }\n\n            // move to check the next polyline segment\n            startIndex = endIndex;\n        }\n\n        // returns `true` for odd numbers of intersections (even-odd algorithm)\n        return ((numIntersections % 2) === 1);\n    },\n\n    // Returns a convex-hull polyline from this polyline.\n    // Implements the Graham scan (https://en.wikipedia.org/wiki/Graham_scan).\n    // Output polyline starts at the first element of the original polyline that is on the hull, then continues clockwise.\n    // Minimal polyline is found (only vertices of the hull are reported, no collinear points).\n    convexHull: function() {\n\n        var i;\n        var n;\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return new Polyline(); // if points array is empty\n\n        // step 1: find the starting point - point with the lowest y (if equality, highest x)\n        var startPoint;\n        for (i = 0; i < numPoints; i++) {\n            if (startPoint === undefined) {\n                // if this is the first point we see, set it as start point\n                startPoint = points[i];\n\n            } else if (points[i].y < startPoint.y) {\n                // start point should have lowest y from all points\n                startPoint = points[i];\n\n            } else if ((points[i].y === startPoint.y) && (points[i].x > startPoint.x)) {\n                // if two points have the lowest y, choose the one that has highest x\n                // there are no points to the right of startPoint - no ambiguity about theta 0\n                // if there are several coincident start point candidates, first one is reported\n                startPoint = points[i];\n            }\n        }\n\n        // step 2: sort the list of points\n        // sorting by angle between line from startPoint to point and the x-axis (theta)\n\n        // step 2a: create the point records = [point, originalIndex, angle]\n        var sortedPointRecords = [];\n        for (i = 0; i < numPoints; i++) {\n\n            var angle = startPoint.theta(points[i]);\n            if (angle === 0) {\n                angle = 360; // give highest angle to start point\n                // the start point will end up at end of sorted list\n                // the start point will end up at beginning of hull points list\n            }\n\n            var entry = [points[i], i, angle];\n            sortedPointRecords.push(entry);\n        }\n\n        // step 2b: sort the list in place\n        sortedPointRecords.sort(function(record1, record2) {\n            // returning a negative number here sorts record1 before record2\n            // if first angle is smaller than second, first angle should come before second\n\n            var sortOutput = record1[2] - record2[2];  // negative if first angle smaller\n            if (sortOutput === 0) {\n                // if the two angles are equal, sort by originalIndex\n                sortOutput = record2[1] - record1[1]; // negative if first index larger\n                // coincident points will be sorted in reverse-numerical order\n                // so the coincident points with lower original index will be considered first\n            }\n\n            return sortOutput;\n        });\n\n        // step 2c: duplicate start record from the top of the stack to the bottom of the stack\n        if (sortedPointRecords.length > 2) {\n            var startPointRecord = sortedPointRecords[sortedPointRecords.length - 1];\n            sortedPointRecords.unshift(startPointRecord);\n        }\n\n        // step 3a: go through sorted points in order and find those with right turns\n        // we want to get our results in clockwise order\n        var insidePoints = {}; // dictionary of points with left turns - cannot be on the hull\n        var hullPointRecords = []; // stack of records with right turns - hull point candidates\n\n        var currentPointRecord;\n        var currentPoint;\n        var lastHullPointRecord;\n        var lastHullPoint;\n        var secondLastHullPointRecord;\n        var secondLastHullPoint;\n        while (sortedPointRecords.length !== 0) {\n\n            currentPointRecord = sortedPointRecords.pop();\n            currentPoint = currentPointRecord[0];\n\n            // check if point has already been discarded\n            // keys for insidePoints are stored in the form 'point.x@point.y@@originalIndex'\n            if (insidePoints.hasOwnProperty(currentPointRecord[0] + '@@' + currentPointRecord[1])) {\n                // this point had an incorrect turn at some previous iteration of this loop\n                // this disqualifies it from possibly being on the hull\n                continue;\n            }\n\n            var correctTurnFound = false;\n            while (!correctTurnFound) {\n\n                if (hullPointRecords.length < 2) {\n                    // not enough points for comparison, just add current point\n                    hullPointRecords.push(currentPointRecord);\n                    correctTurnFound = true;\n\n                } else {\n                    lastHullPointRecord = hullPointRecords.pop();\n                    lastHullPoint = lastHullPointRecord[0];\n                    secondLastHullPointRecord = hullPointRecords.pop();\n                    secondLastHullPoint = secondLastHullPointRecord[0];\n\n                    var crossProduct = secondLastHullPoint.cross(lastHullPoint, currentPoint);\n\n                    if (crossProduct < 0) {\n                        // found a right turn\n                        hullPointRecords.push(secondLastHullPointRecord);\n                        hullPointRecords.push(lastHullPointRecord);\n                        hullPointRecords.push(currentPointRecord);\n                        correctTurnFound = true;\n\n                    } else if (crossProduct === 0) {\n                        // the three points are collinear\n                        // three options:\n                        // there may be a 180 or 0 degree angle at lastHullPoint\n                        // or two of the three points are coincident\n                        var THRESHOLD = 1e-10; // we have to take rounding errors into account\n                        var angleBetween = lastHullPoint.angleBetween(secondLastHullPoint, currentPoint);\n                        if (abs(angleBetween - 180) < THRESHOLD) { // rouding around 180 to 180\n                            // if the cross product is 0 because the angle is 180 degrees\n                            // discard last hull point (add to insidePoints)\n                            //insidePoints.unshift(lastHullPoint);\n                            insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                            // reenter second-to-last hull point (will be last at next iter)\n                            hullPointRecords.push(secondLastHullPointRecord);\n                            // do not do anything with current point\n                            // correct turn not found\n\n                        } else if (lastHullPoint.equals(currentPoint) || secondLastHullPoint.equals(lastHullPoint)) {\n                            // if the cross product is 0 because two points are the same\n                            // discard last hull point (add to insidePoints)\n                            //insidePoints.unshift(lastHullPoint);\n                            insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                            // reenter second-to-last hull point (will be last at next iter)\n                            hullPointRecords.push(secondLastHullPointRecord);\n                            // do not do anything with current point\n                            // correct turn not found\n\n                        } else if (abs(((angleBetween + 1) % 360) - 1) < THRESHOLD) { // rounding around 0 and 360 to 0\n                            // if the cross product is 0 because the angle is 0 degrees\n                            // remove last hull point from hull BUT do not discard it\n                            // reenter second-to-last hull point (will be last at next iter)\n                            hullPointRecords.push(secondLastHullPointRecord);\n                            // put last hull point back into the sorted point records list\n                            sortedPointRecords.push(lastHullPointRecord);\n                            // we are switching the order of the 0deg and 180deg points\n                            // correct turn not found\n                        }\n\n                    } else {\n                        // found a left turn\n                        // discard last hull point (add to insidePoints)\n                        //insidePoints.unshift(lastHullPoint);\n                        insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                        // reenter second-to-last hull point (will be last at next iter of loop)\n                        hullPointRecords.push(secondLastHullPointRecord);\n                        // do not do anything with current point\n                        // correct turn not found\n                    }\n                }\n            }\n        }\n        // at this point, hullPointRecords contains the output points in clockwise order\n        // the points start with lowest-y,highest-x startPoint, and end at the same point\n\n        // step 3b: remove duplicated startPointRecord from the end of the array\n        if (hullPointRecords.length > 2) {\n            hullPointRecords.pop();\n        }\n\n        // step 4: find the lowest originalIndex record and put it at the beginning of hull\n        var lowestHullIndex; // the lowest originalIndex on the hull\n        var indexOfLowestHullIndexRecord = -1; // the index of the record with lowestHullIndex\n        n = hullPointRecords.length;\n        for (i = 0; i < n; i++) {\n\n            var currentHullIndex = hullPointRecords[i][1];\n\n            if (lowestHullIndex === undefined || currentHullIndex < lowestHullIndex) {\n                lowestHullIndex = currentHullIndex;\n                indexOfLowestHullIndexRecord = i;\n            }\n        }\n\n        var hullPointRecordsReordered = [];\n        if (indexOfLowestHullIndexRecord > 0) {\n            var newFirstChunk = hullPointRecords.slice(indexOfLowestHullIndexRecord);\n            var newSecondChunk = hullPointRecords.slice(0, indexOfLowestHullIndexRecord);\n            hullPointRecordsReordered = newFirstChunk.concat(newSecondChunk);\n\n        } else {\n            hullPointRecordsReordered = hullPointRecords;\n        }\n\n        var hullPoints = [];\n        n = hullPointRecordsReordered.length;\n        for (i = 0; i < n; i++) {\n            hullPoints.push(hullPointRecordsReordered[i][0]);\n        }\n\n        return new Polyline(hullPoints);\n    },\n\n    // Checks whether two polylines are exactly the same.\n    // If `p` is undefined or null, returns false.\n    equals: function(p) {\n\n        if (!p) return false;\n\n        var points = this.points;\n        var otherPoints = p.points;\n\n        var numPoints = points.length;\n        if (otherPoints.length !== numPoints) return false; // if the two polylines have different number of points, they cannot be equal\n\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            var otherPoint = p.points[i];\n\n            // as soon as an inequality is found in points, return false\n            if (!point.equals(otherPoint)) return false;\n        }\n\n        // if no inequality found in points, return true\n        return true;\n    },\n\n    intersectionWithLine: function(l) {\n        var line = new Line(l);\n        var intersections = [];\n        var points = this.points;\n        for (var i = 0, n = points.length - 1; i < n; i++) {\n            var a = points[i];\n            var b = points[i + 1];\n            var l2 = new Line(a, b);\n            var int = line.intersectionWithLine(l2);\n            if (int) intersections.push(int[0]);\n        }\n        return (intersections.length > 0) ? intersections : null;\n    },\n\n    isDifferentiable: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return false;\n\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n\n            var a = points[i];\n            var b = points[i + 1];\n            var line = new Line(a, b);\n\n            // as soon as a differentiable line is found between two points, return true\n            if (line.isDifferentiable()) return true;\n        }\n\n        // if no differentiable line is found between pairs of points, return false\n        return false;\n    },\n\n    length: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return 0; // if points array is empty\n\n        var length = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            length += points[i].distance(points[i + 1]);\n        }\n\n        return length;\n    },\n\n    pointAt: function(ratio) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return points[0].clone(); // if there is only one point\n\n        if (ratio <= 0) return points[0].clone();\n        if (ratio >= 1) return points[numPoints - 1].clone();\n\n        var polylineLength = this.length();\n        var length = polylineLength * ratio;\n\n        return this.pointAtLength(length);\n    },\n\n    pointAtLength: function(length) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return points[0].clone(); // if there is only one point\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var l = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var a = points[index];\n            var b = points[index + 1];\n            var line = new Line(a, b);\n            var d = a.distance(b);\n\n            if (length <= (l + d)) {\n                return line.pointAtLength((fromStart ? 1 : -1) * (length - l));\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the polyline, return last endpoint\n        var lastPoint = (fromStart ? points[numPoints - 1] : points[0]);\n        return lastPoint.clone();\n    },\n\n    round: function(precision) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].round(precision);\n        }\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].scale(sx, sy, origin);\n        }\n\n        return this;\n    },\n\n    simplify: function(opt = {}) {\n\n        const points = this.points;\n        if (points.length < 3) return this; // we need at least 3 points\n\n        // TODO: we may also accept startIndex and endIndex to specify where to start and end simplification\n        const threshold = opt.threshold || 0; // = max distance of middle point from chord to be simplified\n\n        // start at the beginning of the polyline and go forward\n        let currentIndex = 0;\n        // we need at least one intermediate point (3 points) in every iteration\n        // as soon as that stops being true, we know we reached the end of the polyline\n        while (points[currentIndex + 2]) {\n            const firstIndex = currentIndex;\n            const middleIndex = (currentIndex + 1);\n            const lastIndex = (currentIndex + 2);\n\n            const firstPoint = points[firstIndex];\n            const middlePoint = points[middleIndex];\n            const lastPoint = points[lastIndex];\n\n            const chord = new Line(firstPoint, lastPoint); // = connection between first and last point\n            const closestPoint = chord.closestPoint(middlePoint); // = closest point on chord from middle point\n            const closestPointDistance = closestPoint.distance(middlePoint);\n            if (closestPointDistance <= threshold) {\n                // middle point is close enough to the chord = simplify\n                // 1) remove middle point:\n                points.splice(middleIndex, 1);\n                // 2) in next iteration, investigate the newly-created triplet of points\n                //    - do not change `currentIndex`\n                //    = (first point stays, point after removed point becomes middle point)\n            } else {\n                // middle point is far from the chord\n                // 1) preserve middle point\n                // 2) in next iteration, move `currentIndex` by one step:\n                currentIndex += 1;\n                //    = (point after first point becomes first point)\n            }\n        }\n\n        // `points` array was modified in-place\n        return this;\n    },\n\n    tangentAt: function(ratio) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return null; // if there is only one point\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        var polylineLength = this.length();\n        var length = polylineLength * ratio;\n\n        return this.tangentAtLength(length);\n    },\n\n    tangentAtLength: function(length) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return null; // if there is only one point\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var lastValidLine; // differentiable (with a tangent)\n        var l = 0; // length so far\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var a = points[index];\n            var b = points[index + 1];\n            var line = new Line(a, b);\n            var d = a.distance(b);\n\n            if (line.isDifferentiable()) { // has a tangent line (line length is not 0)\n                if (length <= (l + d)) {\n                    return line.tangentAtLength((fromStart ? 1 : -1) * (length - l));\n                }\n\n                lastValidLine = line;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the polyline, return last valid endpoint\n        if (lastValidLine) {\n            var ratio = (fromStart ? 1 : 0);\n            return lastValidLine.tangentAt(ratio);\n        }\n\n        // if no valid line, return null\n        return null;\n    },\n\n    toString: function() {\n\n        return this.points + '';\n    },\n\n    translate: function(tx, ty) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].translate(tx, ty);\n        }\n\n        return this;\n    },\n\n    // Return svgString that can be used to recreate this line.\n    serialize: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return ''; // if points array is empty\n\n        var output = '';\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            output += point.x + ',' + point.y + ' ';\n        }\n\n        return output.trim();\n    }\n};\n\nObject.defineProperty(Polyline.prototype, 'start', {\n    // Getter for the first point of the polyline.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        return this.points[0];\n    },\n});\n\nObject.defineProperty(Polyline.prototype, 'end', {\n    // Getter for the last point of the polyline.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        return this.points[numPoints - 1];\n    },\n});\n\nexport const Rect = function(x, y, w, h) {\n\n    if (!(this instanceof Rect)) {\n        return new Rect(x, y, w, h);\n    }\n\n    if ((Object(x) === x)) {\n        y = x.y;\n        w = x.width;\n        h = x.height;\n        x = x.x;\n    }\n\n    this.x = x === undefined ? 0 : x;\n    this.y = y === undefined ? 0 : y;\n    this.width = w === undefined ? 0 : w;\n    this.height = h === undefined ? 0 : h;\n};\n\nRect.fromEllipse = function(e) {\n\n    e = new Ellipse(e);\n    return new Rect(e.x - e.a, e.y - e.b, 2 * e.a, 2 * e.b);\n};\n\nRect.prototype = {\n\n    // Find my bounding box when I'm rotated with the center of rotation in the center of me.\n    // @return r {rectangle} representing a bounding box\n    bbox: function(angle) {\n\n        if (!angle) return this.clone();\n\n        var theta = toRad(angle);\n        var st = abs(sin(theta));\n        var ct = abs(cos(theta));\n        var w = this.width * ct + this.height * st;\n        var h = this.width * st + this.height * ct;\n        return new Rect(this.x + (this.width - w) / 2, this.y + (this.height - h) / 2, w, h);\n    },\n\n    bottomLeft: function() {\n\n        return new Point(this.x, this.y + this.height);\n    },\n\n    bottomLine: function() {\n\n        return new Line(this.bottomLeft(), this.bottomRight());\n    },\n\n    bottomMiddle: function() {\n\n        return new Point(this.x + this.width / 2, this.y + this.height);\n    },\n\n    center: function() {\n\n        return new Point(this.x + this.width / 2, this.y + this.height / 2);\n    },\n\n    clone: function() {\n\n        return new Rect(this);\n    },\n\n    // @return {bool} true if point p is inside me.\n    containsPoint: function(p) {\n\n        p = new Point(p);\n        return p.x >= this.x && p.x <= this.x + this.width && p.y >= this.y && p.y <= this.y + this.height;\n    },\n\n    // @return {bool} true if rectangle `r` is inside me.\n    containsRect: function(r) {\n\n        var r0 = new Rect(this).normalize();\n        var r1 = new Rect(r).normalize();\n        var w0 = r0.width;\n        var h0 = r0.height;\n        var w1 = r1.width;\n        var h1 = r1.height;\n\n        if (!w0 || !h0 || !w1 || !h1) {\n            // At least one of the dimensions is 0\n            return false;\n        }\n\n        var x0 = r0.x;\n        var y0 = r0.y;\n        var x1 = r1.x;\n        var y1 = r1.y;\n\n        w1 += x1;\n        w0 += x0;\n        h1 += y1;\n        h0 += y0;\n\n        return x0 <= x1 && w1 <= w0 && y0 <= y1 && h1 <= h0;\n    },\n\n    corner: function() {\n\n        return new Point(this.x + this.width, this.y + this.height);\n    },\n\n    // @return {boolean} true if rectangles are equal.\n    equals: function(r) {\n\n        var mr = (new Rect(this)).normalize();\n        var nr = (new Rect(r)).normalize();\n        return mr.x === nr.x && mr.y === nr.y && mr.width === nr.width && mr.height === nr.height;\n    },\n\n    // inflate by dx and dy, recompute origin [x, y]\n    // @param dx {delta_x} representing additional size to x\n    // @param dy {delta_y} representing additional size to y -\n    // dy param is not required -> in that case y is sized by dx\n    inflate: function(dx, dy) {\n\n        if (dx === undefined) {\n            dx = 0;\n        }\n\n        if (dy === undefined) {\n            dy = dx;\n        }\n\n        this.x -= dx;\n        this.y -= dy;\n        this.width += 2 * dx;\n        this.height += 2 * dy;\n\n        return this;\n    },\n\n    // @return {rect} if rectangles intersect, {null} if not.\n    intersect: function(r) {\n\n        var myOrigin = this.origin();\n        var myCorner = this.corner();\n        var rOrigin = r.origin();\n        var rCorner = r.corner();\n\n        // No intersection found\n        if (rCorner.x <= myOrigin.x ||\n            rCorner.y <= myOrigin.y ||\n            rOrigin.x >= myCorner.x ||\n            rOrigin.y >= myCorner.y) return null;\n\n        var x = max(myOrigin.x, rOrigin.x);\n        var y = max(myOrigin.y, rOrigin.y);\n\n        return new Rect(x, y, min(myCorner.x, rCorner.x) - x, min(myCorner.y, rCorner.y) - y);\n    },\n\n    intersectionWithLine: function(line) {\n\n        var r = this;\n        var rectLines = [r.topLine(), r.rightLine(), r.bottomLine(), r.leftLine()];\n        var points = [];\n        var dedupeArr = [];\n        var pt, i;\n\n        var n = rectLines.length;\n        for (i = 0; i < n; i++) {\n\n            pt = line.intersect(rectLines[i]);\n            if (pt !== null && dedupeArr.indexOf(pt.toString()) < 0) {\n                points.push(pt);\n                dedupeArr.push(pt.toString());\n            }\n        }\n\n        return points.length > 0 ? points : null;\n    },\n\n    // Find point on my boundary where line starting\n    // from my center ending in point p intersects me.\n    // @param {number} angle If angle is specified, intersection with rotated rectangle is computed.\n    intersectionWithLineFromCenterToPoint: function(p, angle) {\n\n        p = new Point(p);\n        var center = new Point(this.x + this.width / 2, this.y + this.height / 2);\n        var result;\n\n        if (angle) p.rotate(center, angle);\n\n        // (clockwise, starting from the top side)\n        var sides = [\n            this.topLine(),\n            this.rightLine(),\n            this.bottomLine(),\n            this.leftLine()\n        ];\n        var connector = new Line(center, p);\n\n        for (var i = sides.length - 1; i >= 0; --i) {\n            var intersection = sides[i].intersection(connector);\n            if (intersection !== null) {\n                result = intersection;\n                break;\n            }\n        }\n        if (result && angle) result.rotate(center, -angle);\n        return result;\n    },\n\n    leftLine: function() {\n\n        return new Line(this.topLeft(), this.bottomLeft());\n    },\n\n    leftMiddle: function() {\n\n        return new Point(this.x, this.y + this.height / 2);\n    },\n\n    maxRectScaleToFit: function(rect, origin) {\n\n        rect = new Rect(rect);\n        origin || (origin = rect.center());\n\n        var sx1, sx2, sx3, sx4, sy1, sy2, sy3, sy4;\n        var ox = origin.x;\n        var oy = origin.y;\n\n        // Here we find the maximal possible scale for all corner points (for x and y axis) of the rectangle,\n        // so when the scale is applied the point is still inside the rectangle.\n\n        sx1 = sx2 = sx3 = sx4 = sy1 = sy2 = sy3 = sy4 = Infinity;\n\n        // Top Left\n        var p1 = rect.topLeft();\n        if (p1.x < ox) {\n            sx1 = (this.x - ox) / (p1.x - ox);\n        }\n        if (p1.y < oy) {\n            sy1 = (this.y - oy) / (p1.y - oy);\n        }\n        // Bottom Right\n        var p2 = rect.bottomRight();\n        if (p2.x > ox) {\n            sx2 = (this.x + this.width - ox) / (p2.x - ox);\n        }\n        if (p2.y > oy) {\n            sy2 = (this.y + this.height - oy) / (p2.y - oy);\n        }\n        // Top Right\n        var p3 = rect.topRight();\n        if (p3.x > ox) {\n            sx3 = (this.x + this.width - ox) / (p3.x - ox);\n        }\n        if (p3.y < oy) {\n            sy3 = (this.y - oy) / (p3.y - oy);\n        }\n        // Bottom Left\n        var p4 = rect.bottomLeft();\n        if (p4.x < ox) {\n            sx4 = (this.x - ox) / (p4.x - ox);\n        }\n        if (p4.y > oy) {\n            sy4 = (this.y + this.height - oy) / (p4.y - oy);\n        }\n\n        return {\n            sx: min(sx1, sx2, sx3, sx4),\n            sy: min(sy1, sy2, sy3, sy4)\n        };\n    },\n\n    maxRectUniformScaleToFit: function(rect, origin) {\n\n        var scale = this.maxRectScaleToFit(rect, origin);\n        return min(scale.sx, scale.sy);\n    },\n\n    // Move and expand me.\n    // @param r {rectangle} representing deltas\n    moveAndExpand: function(r) {\n\n        this.x += r.x || 0;\n        this.y += r.y || 0;\n        this.width += r.width || 0;\n        this.height += r.height || 0;\n        return this;\n    },\n\n    // Normalize the rectangle; i.e., make it so that it has a non-negative width and height.\n    // If width < 0 the function swaps the left and right corners,\n    // and it swaps the top and bottom corners if height < 0\n    // like in http://qt-project.org/doc/qt-4.8/qrectf.html#normalized\n    normalize: function() {\n\n        var newx = this.x;\n        var newy = this.y;\n        var newwidth = this.width;\n        var newheight = this.height;\n        if (this.width < 0) {\n            newx = this.x + this.width;\n            newwidth = -this.width;\n        }\n        if (this.height < 0) {\n            newy = this.y + this.height;\n            newheight = -this.height;\n        }\n        this.x = newx;\n        this.y = newy;\n        this.width = newwidth;\n        this.height = newheight;\n        return this;\n    },\n\n    // Offset me by the specified amount.\n    offset: function(dx, dy) {\n\n        // pretend that this is a point and call offset()\n        // rewrites x and y according to dx and dy\n        return Point.prototype.offset.call(this, dx, dy);\n    },\n\n    origin: function() {\n\n        return new Point(this.x, this.y);\n    },\n\n    // @return {point} a point on my boundary nearest to the given point.\n    // @see Squeak Smalltalk, Rectangle>>pointNearestTo:\n    pointNearestToPoint: function(point) {\n\n        point = new Point(point);\n        if (this.containsPoint(point)) {\n            var side = this.sideNearestToPoint(point);\n            switch (side) {\n                case 'right':\n                    return new Point(this.x + this.width, point.y);\n                case 'left':\n                    return new Point(this.x, point.y);\n                case 'bottom':\n                    return new Point(point.x, this.y + this.height);\n                case 'top':\n                    return new Point(point.x, this.y);\n            }\n        }\n        return point.adhereToRect(this);\n    },\n\n    rightLine: function() {\n\n        return new Line(this.topRight(), this.bottomRight());\n    },\n\n    rightMiddle: function() {\n\n        return new Point(this.x + this.width, this.y + this.height / 2);\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        this.width = round(this.width * f) / f;\n        this.height = round(this.height * f) / f;\n        return this;\n    },\n\n    // Scale rectangle with origin.\n    scale: function(sx, sy, origin) {\n\n        origin = this.origin().scale(sx, sy, origin);\n        this.x = origin.x;\n        this.y = origin.y;\n        this.width *= sx;\n        this.height *= sy;\n        return this;\n    },\n\n    // @return {string} (left|right|top|bottom) side which is nearest to point\n    // @see Squeak Smalltalk, Rectangle>>sideNearestTo:\n    sideNearestToPoint: function(point) {\n\n        point = new Point(point);\n        var distToLeft = point.x - this.x;\n        var distToRight = (this.x + this.width) - point.x;\n        var distToTop = point.y - this.y;\n        var distToBottom = (this.y + this.height) - point.y;\n        var closest = distToLeft;\n        var side = 'left';\n\n        if (distToRight < closest) {\n            closest = distToRight;\n            side = 'right';\n        }\n        if (distToTop < closest) {\n            closest = distToTop;\n            side = 'top';\n        }\n        if (distToBottom < closest) {\n            // closest = distToBottom;\n            side = 'bottom';\n        }\n        return side;\n    },\n\n    snapToGrid: function(gx, gy) {\n\n        var origin = this.origin().snapToGrid(gx, gy);\n        var corner = this.corner().snapToGrid(gx, gy);\n        this.x = origin.x;\n        this.y = origin.y;\n        this.width = corner.x - origin.x;\n        this.height = corner.y - origin.y;\n        return this;\n    },\n\n    toJSON: function() {\n\n        return { x: this.x, y: this.y, width: this.width, height: this.height };\n    },\n\n    topLine: function() {\n\n        return new Line(this.topLeft(), this.topRight());\n    },\n\n    topMiddle: function() {\n\n        return new Point(this.x + this.width / 2, this.y);\n    },\n\n    topRight: function() {\n\n        return new Point(this.x + this.width, this.y);\n    },\n\n    toString: function() {\n\n        return this.origin().toString() + ' ' + this.corner().toString();\n    },\n\n    // @return {rect} representing the union of both rectangles.\n    union: function(rect) {\n\n        const u = new Rect(rect);\n        const { x, y, width, height } = this;\n        const { x: rx, y: ry, width: rw, height: rh } = u;\n        const ux = u.x = min(x, rx);\n        const uy = u.y = min(y, ry);\n        u.width = max(x + width, rx + rw) - ux;\n        u.height = max(y + height, ry + rh) - uy;\n        return u;\n    }\n};\n\nRect.prototype.bottomRight = Rect.prototype.corner;\n\nRect.prototype.topLeft = Rect.prototype.origin;\n\nRect.prototype.translate = Rect.prototype.offset;\n\nexport const scale = {\n\n    // Return the `value` from the `domain` interval scaled to the `range` interval.\n    linear: function(domain, range, value) {\n\n        var domainSpan = domain[1] - domain[0];\n        var rangeSpan = range[1] - range[0];\n        return (((value - domain[0]) / domainSpan) * rangeSpan + range[0]) || 0;\n    }\n};\n\nexport const normalizeAngle = function(angle) {\n\n    return (angle % 360) + (angle < 0 ? 360 : 0);\n};\n\nexport const snapToGrid = function(value, gridSize) {\n\n    return gridSize * round(value / gridSize);\n};\n\nexport const toDeg = function(rad) {\n\n    return (180 * rad / PI) % 360;\n};\n\nexport const toRad = function(deg, over360) {\n\n    over360 = over360 || false;\n    deg = over360 ? deg : (deg % 360);\n    return deg * PI / 180;\n};\n\n// Return a random integer from the interval [min,max], inclusive.\nexport const random = function(min, max) {\n\n    if (max === undefined) {\n        // use first argument as max, min is 0\n        max = (min === undefined) ? 1 : min;\n        min = 0;\n\n    } else if (max < min) {\n        // switch max and min\n        const temp = min;\n        min = max;\n        max = temp;\n    }\n\n    return floor((math.random() * (max - min + 1)) + min);\n};\n\n// For backwards compatibility:\nexport const ellipse = Ellipse;\nexport const line = Line;\nexport const point = Point;\nexport const rect = Rect;\n\n// Local helper function.\n// Use an array of arguments to call a constructor (function called with `new`).\n// Adapted from https://stackoverflow.com/a/8843181/2263595\n// It is not necessary to use this function if the arguments can be passed separately (i.e. if the number of arguments is limited).\n// - If that is the case, use `new constructor(arg1, arg2)`, for example.\n// It is not necessary to use this function if the function that needs an array of arguments is not supposed to be used as a constructor.\n// - If that is the case, use `f.apply(thisArg, [arg1, arg2...])`, for example.\nfunction applyToNew(constructor, argsArray) {\n    // The `new` keyword can only be applied to functions that take a limited number of arguments.\n    // - We can fake that with .bind().\n    // - It calls a function (`constructor`, here) with the arguments that were provided to it - effectively transforming an unlimited number of arguments into limited.\n    // - So `new (constructor.bind(thisArg, arg1, arg2...))`\n    // - `thisArg` can be anything (e.g. null) because `new` keyword resets context to the constructor object.\n    // We need to pass in a variable number of arguments to the bind() call.\n    // - We can use .apply().\n    // - So `new (constructor.bind.apply(constructor, [thisArg, arg1, arg2...]))`\n    // - `thisArg` can still be anything because `new` overwrites it.\n    // Finally, to make sure that constructor.bind overwriting is not a problem, we switch to `Function.prototype.bind`.\n    // - So, the final version is `new (Function.prototype.bind.apply(constructor, [thisArg, arg1, arg2...]))`\n\n    // The function expects `argsArray[0]` to be `thisArg`.\n    // - This means that whatever is sent as the first element will be ignored.\n    // - The constructor will only see arguments starting from argsArray[1].\n    // - So, a new dummy element is inserted at the start of the array.\n    argsArray.unshift(null);\n\n    return new (Function.prototype.bind.apply(constructor, argsArray));\n}\n\n// Local helper function.\n// Add properties from arguments on top of properties from `obj`.\n// This allows for rudimentary inheritance.\n// - The `obj` argument acts as parent.\n// - This function creates a new object that inherits all `obj` properties and adds/replaces those that are present in arguments.\n// - A high-level example: calling `extend(Vehicle, Car)` would be akin to declaring `class Car extends Vehicle`.\nfunction extend(obj) {\n    // In JavaScript, the combination of a constructor function (e.g. `g.Line = function(...) {...}`) and prototype (e.g. `g.Line.prototype = {...}) is akin to a C++ class.\n    // - When inheritance is not necessary, we can leave it at that. (This would be akin to calling extend with only `obj`.)\n    // - But, what if we wanted the `g.Line` quasiclass to inherit from another quasiclass (let's call it `g.GeometryObject`) in JavaScript?\n    // - First, realize that both of those quasiclasses would still have their own separate constructor function.\n    // - So what we are actually saying is that we want the `g.Line` prototype to inherit from `g.GeometryObject` prototype.\n    // - This method provides a way to do exactly that.\n    // - It copies parent prototype's properties, then adds extra ones from child prototype/overrides parent prototype properties with child prototype properties.\n    // - Therefore, to continue with the example above:\n    //   - `g.Line.prototype = extend(g.GeometryObject.prototype, linePrototype)`\n    //   - Where `linePrototype` is a properties object that looks just like `g.Line.prototype` does right now.\n    //   - Then, `g.Line` would allow the programmer to access to all methods currently in `g.Line.Prototype`, plus any non-overridden methods from `g.GeometryObject.prototype`.\n    //   - In that aspect, `g.GeometryObject` would then act like the parent of `g.Line`.\n    // - Multiple inheritance is also possible, if multiple arguments are provided.\n    // - What if we wanted to add another level of abstraction between `g.GeometryObject` and `g.Line` (let's call it `g.LinearObject`)?\n    //   - `g.Line.prototype = extend(g.GeometryObject.prototype, g.LinearObject.prototype, linePrototype)`\n    //   - The ancestors are applied in order of appearance.\n    //   - That means that `g.Line` would have inherited from `g.LinearObject` that would have inherited from `g.GeometryObject`.\n    //   - Any number of ancestors may be provided.\n    // - Note that neither `obj` nor any of the arguments need to actually be prototypes of any JavaScript quasiclass, that was just a simplified explanation.\n    // - We can create a new object composed from the properties of any number of other objects (since they do not have a constructor, we can think of those as interfaces).\n    //   - `extend({ a: 1, b: 2 }, { b: 10, c: 20 }, { c: 100, d: 200 })` gives `{ a: 1, b: 10, c: 100, d: 200 }`.\n    //   - Basically, with this function, we can emulate the `extends` keyword as well as the `implements` keyword.\n    // - Therefore, both of the following are valid:\n    //   - `Lineto.prototype = extend(Line.prototype, segmentPrototype, linetoPrototype)`\n    //   - `Moveto.prototype = extend(segmentPrototype, movetoPrototype)`\n\n    var i;\n    var n;\n\n    var args = [];\n    n = arguments.length;\n    for (i = 1; i < n; i++) { // skip over obj\n        args.push(arguments[i]);\n    }\n\n    if (!obj) throw new Error('Missing a parent object.');\n    var child = Object.create(obj);\n\n    n = args.length;\n    for (i = 0; i < n; i++) {\n\n        var src = args[i];\n\n        var inheritedProperty;\n        var key;\n        for (key in src) {\n\n            if (src.hasOwnProperty(key)) {\n                delete child[key]; // delete property inherited from parent\n                inheritedProperty = Object.getOwnPropertyDescriptor(src, key); // get new definition of property from src\n                Object.defineProperty(child, key, inheritedProperty); // re-add property with new definition (includes getter/setter methods)\n            }\n        }\n    }\n\n    return child;\n}\n\n// Path segment interface:\nvar segmentPrototype = {\n\n    // virtual\n    bbox: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    clone: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPoint: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPointLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPointNormalizedLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to closestPointNormalizedLength() function if closestPointT() is not defined for segment.\n    closestPointT: function(p) {\n\n        if (this.closestPointNormalizedLength) return this.closestPointNormalizedLength(p);\n\n        throw new Error('Neither closestPointT() nor closestPointNormalizedLength() function is implemented.');\n    },\n\n    // virtual\n    closestPointTangent: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    divideAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    divideAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to divideAt() function if divideAtT() is not defined for segment.\n    divideAtT: function(t) {\n\n        if (this.divideAt) return this.divideAt(t);\n\n        throw new Error('Neither divideAtT() nor divideAt() function is implemented.');\n    },\n\n    // virtual\n    equals: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    getSubdivisions: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    isDifferentiable: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    isSegment: true,\n\n    isSubpathStart: false, // true for Moveto segments\n\n    isVisible: true, // false for Moveto segments\n\n    // virtual\n    length: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Return a fraction of result of length() function if lengthAtT() is not defined for segment.\n    lengthAtT: function(t) {\n\n        if (t <= 0) return 0;\n\n        var length = this.length();\n\n        if (t >= 1) return length;\n\n        return length * t;\n    },\n\n    nextSegment: null, // needed for subpath start segment updating\n\n    // virtual\n    pointAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    pointAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to pointAt() function if pointAtT() is not defined for segment.\n    pointAtT: function(t) {\n\n        if (this.pointAt) return this.pointAt(t);\n\n        throw new Error('Neither pointAtT() nor pointAt() function is implemented.');\n    },\n\n    previousSegment: null, // needed to get segment start property\n\n    // virtual\n    round: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    subpathStartSegment: null, // needed to get Closepath segment end property\n\n    // virtual\n    scale: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    serialize: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    tangentAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    tangentAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to tangentAt() function if tangentAtT() is not defined for segment.\n    tangentAtT: function(t) {\n\n        if (this.tangentAt) return this.tangentAt(t);\n\n        throw new Error('Neither tangentAtT() nor tangentAt() function is implemented.');\n    },\n\n    // virtual\n    toString: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    translate: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    }\n};\n\n// usually directly assigned\n// getter for Closepath\nObject.defineProperty(segmentPrototype, 'end', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    writable: true\n});\n\n// always a getter\n// always throws error for Moveto\nObject.defineProperty(segmentPrototype, 'start', {\n    // get a reference to the end point of previous segment\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        if (!this.previousSegment) throw new Error('Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)');\n\n        return this.previousSegment.end;\n    }\n});\n\n// virtual\nObject.defineProperty(segmentPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        throw new Error('Bad segment declaration. No type specified.');\n    }\n});\n\n// Path segment implementations:\nvar Lineto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Lineto)) { // switching context of `this` to Lineto when called without `new`\n        return applyToNew(Lineto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Line) { // lines provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (' + n + ' lines provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 2) {\n            this.end = new Point(+args[0], +args[1]);\n            return this;\n\n        } else if (n < 2) {\n            throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a poly-line segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 2) { // coords come in groups of two\n\n                segmentCoords = args.slice(i, i + 2); // will send one coord if args.length not divisible by 2\n                outputArray.push(applyToNew(Lineto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 1) {\n            this.end = new Point(args[0]);\n            return this;\n\n        } else { // this is a poly-line segment\n            var segmentPoint;\n            outputArray = [];\n            for (i = 0; i < n; i += 1) {\n\n                segmentPoint = args[i];\n                outputArray.push(new Lineto(segmentPoint));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar linetoPrototype = {\n\n    clone: function() {\n\n        return new Lineto(this.end);\n    },\n\n    divideAt: function(ratio) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAt(ratio);\n        return [\n            new Lineto(divided[0]),\n            new Lineto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAtLength(length);\n        return [\n            new Lineto(divided[0]),\n            new Lineto(divided[1])\n        ];\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment) return false;\n\n        return !this.start.equals(this.end);\n    },\n\n    round: function(precision) {\n\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var end = this.end;\n        return this.type + ' ' + end.x + ' ' + end.y;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(linetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'L'\n});\n\nLineto.prototype = extend(segmentPrototype, Line.prototype, linetoPrototype);\n\nvar Curveto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Curveto)) { // switching context of `this` to Curveto when called without `new`\n        return applyToNew(Curveto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Curve) { // curves provided\n        if (n === 1) {\n            this.controlPoint1 = args[0].controlPoint1.clone();\n            this.controlPoint2 = args[0].controlPoint2.clone();\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' curves provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 6) {\n            this.controlPoint1 = new Point(+args[0], +args[1]);\n            this.controlPoint2 = new Point(+args[2], +args[3]);\n            this.end = new Point(+args[4], +args[5]);\n            return this;\n\n        } else if (n < 6) {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a poly-bezier segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 6) { // coords come in groups of six\n\n                segmentCoords = args.slice(i, i + 6); // will send fewer than six coords if args.length not divisible by 6\n                outputArray.push(applyToNew(Curveto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 3) {\n            this.controlPoint1 = new Point(args[0]);\n            this.controlPoint2 = new Point(args[1]);\n            this.end = new Point(args[2]);\n            return this;\n\n        } else if (n < 3) {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' points provided).');\n\n        } else { // this is a poly-bezier segment\n            var segmentPoints;\n            outputArray = [];\n            for (i = 0; i < n; i += 3) { // points come in groups of three\n\n                segmentPoints = args.slice(i, i + 3); // will send fewer than three points if args.length is not divisible by 3\n                outputArray.push(applyToNew(Curveto, segmentPoints));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar curvetoPrototype = {\n\n    clone: function() {\n\n        return new Curveto(this.controlPoint1, this.controlPoint2, this.end);\n    },\n\n    divideAt: function(ratio, opt) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAt(ratio, opt);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length, opt) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAtLength(length, opt);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    divideAtT: function(t) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAtT(t);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment) return false;\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        return !(start.equals(control1) && control1.equals(control2) && control2.equals(end));\n    },\n\n    round: function(precision) {\n\n        this.controlPoint1.round(precision);\n        this.controlPoint2.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.controlPoint1.scale(sx, sy, origin);\n        this.controlPoint2.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var c1 = this.controlPoint1;\n        var c2 = this.controlPoint2;\n        var end = this.end;\n        return this.type + ' ' + c1.x + ' ' + c1.y + ' ' + c2.x + ' ' + c2.y + ' ' + end.x + ' ' + end.y;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.controlPoint1 + ' ' + this.controlPoint2 + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.controlPoint1.translate(tx, ty);\n        this.controlPoint2.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(curvetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'C'\n});\n\nCurveto.prototype = extend(segmentPrototype, Curve.prototype, curvetoPrototype);\n\nvar Moveto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Moveto)) { // switching context of `this` to Moveto when called without `new`\n        return applyToNew(Moveto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Line) { // lines provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' lines provided).');\n        }\n\n    } else if (args[0] instanceof Curve) { // curves provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' curves provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 2) {\n            this.end = new Point(+args[0], +args[1]);\n            return this;\n\n        } else if (n < 2) {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a moveto-with-subsequent-poly-line segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 2) { // coords come in groups of two\n\n                segmentCoords = args.slice(i, i + 2); // will send one coord if args.length not divisible by 2\n                if (i === 0) outputArray.push(applyToNew(Moveto, segmentCoords));\n                else outputArray.push(applyToNew(Lineto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 1) {\n            this.end = new Point(args[0]);\n            return this;\n\n        } else { // this is a moveto-with-subsequent-poly-line segment\n            var segmentPoint;\n            outputArray = [];\n            for (i = 0; i < n; i += 1) { // points come one by one\n\n                segmentPoint = args[i];\n                if (i === 0) outputArray.push(new Moveto(segmentPoint));\n                else outputArray.push(new Lineto(segmentPoint));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar movetoPrototype = {\n\n    bbox: function() {\n\n        return null;\n    },\n\n    clone: function() {\n\n        return new Moveto(this.end);\n    },\n\n    closestPoint: function() {\n\n        return this.end.clone();\n    },\n\n    closestPointNormalizedLength: function() {\n\n        return 0;\n    },\n\n    closestPointLength: function() {\n\n        return 0;\n    },\n\n    closestPointT: function() {\n\n        return 1;\n    },\n\n    closestPointTangent: function() {\n\n        return null;\n    },\n\n    divideAt: function() {\n\n        return [\n            this.clone(),\n            this.clone()\n        ];\n    },\n\n    divideAtLength: function() {\n\n        return [\n            this.clone(),\n            this.clone()\n        ];\n    },\n\n    equals: function(m) {\n\n        return this.end.equals(m.end);\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        return false;\n    },\n\n    isSubpathStart: true,\n\n    isVisible: false,\n\n    length: function() {\n\n        return 0;\n    },\n\n    lengthAtT: function() {\n\n        return 0;\n    },\n\n    pointAt: function() {\n\n        return this.end.clone();\n    },\n\n    pointAtLength: function() {\n\n        return this.end.clone();\n    },\n\n    pointAtT: function() {\n\n        return this.end.clone();\n    },\n\n    round: function(precision) {\n\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var end = this.end;\n        return this.type + ' ' + end.x + ' ' + end.y;\n    },\n\n    tangentAt: function() {\n\n        return null;\n    },\n\n    tangentAtLength: function() {\n\n        return null;\n    },\n\n    tangentAtT: function() {\n\n        return null;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(movetoPrototype, 'start', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        throw new Error('Illegal access. Moveto segments should not need a start property.');\n    }\n});\n\nObject.defineProperty(movetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'M'\n});\n\nMoveto.prototype = extend(segmentPrototype, movetoPrototype); // does not inherit from any other geometry object\n\nvar Closepath = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Closepath)) { // switching context of `this` to Closepath when called without `new`\n        return applyToNew(Closepath, args);\n    }\n\n    if (n > 0) {\n        throw new Error('Closepath constructor expects no arguments.');\n    }\n\n    return this;\n};\n\nvar closepathPrototype = {\n\n    clone: function() {\n\n        return new Closepath();\n    },\n\n    divideAt: function(ratio) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAt(ratio);\n        return [\n            // if we didn't actually cut into the segment, first divided part can stay as Z\n            (divided[1].isDifferentiable() ? new Lineto(divided[0]) : this.clone()),\n            new Lineto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAtLength(length);\n        return [\n            // if we didn't actually cut into the segment, first divided part can stay as Z\n            (divided[1].isDifferentiable() ? new Lineto(divided[0]) : this.clone()),\n            new Lineto(divided[1])\n        ];\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment || !this.subpathStartSegment) return false;\n\n        return !this.start.equals(this.end);\n    },\n\n    round: function() {\n\n        return this;\n    },\n\n    scale: function() {\n\n        return this;\n    },\n\n    serialize: function() {\n\n        return this.type;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.end;\n    },\n\n    translate: function() {\n\n        return this;\n    }\n};\n\nObject.defineProperty(closepathPrototype, 'end', {\n    // get a reference to the end point of subpath start segment\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        if (!this.subpathStartSegment) throw new Error('Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)');\n\n        return this.subpathStartSegment.end;\n    }\n});\n\nObject.defineProperty(closepathPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'Z'\n});\n\nClosepath.prototype = extend(segmentPrototype, Line.prototype, closepathPrototype);\n\nvar segmentTypes = Path.segmentTypes = {\n    L: Lineto,\n    C: Curveto,\n    M: Moveto,\n    Z: Closepath,\n    z: Closepath\n};\n\nPath.regexSupportedData = new RegExp('^[\\\\s\\\\d' + Object.keys(segmentTypes).join('') + ',.]*$');\n\nPath.isDataSupported = function(data) {\n\n    if (typeof data !== 'string') return false;\n    return this.regexSupportedData.test(data);\n};\n\n","// Vectorizer.\n// -----------\n\n// A tiny library for making your life easier when dealing with SVG.\n// The only Vectorizer dependency is the Geometry library.\n\nimport * as g from '../g/index.mjs';\n\nconst V = (function() {\n\n    var hasSvg = typeof window === 'object' &&\n        !!(\n            window.SVGAngle ||\n            document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')\n        );\n\n    // SVG support is required.\n    if (!hasSvg) {\n\n        // Return a function that throws an error when it is used.\n        return function() {\n            throw new Error('SVG is required to use Vectorizer.');\n        };\n    }\n\n    // XML namespaces.\n    var ns = {\n        svg: 'http://www.w3.org/2000/svg',\n        xmlns: 'http://www.w3.org/2000/xmlns/',\n        xml: 'http://www.w3.org/XML/1998/namespace',\n        xlink: 'http://www.w3.org/1999/xlink',\n        xhtml: 'http://www.w3.org/1999/xhtml'\n    };\n\n    var SVGVersion = '1.1';\n\n    // Declare shorthands to the most used math functions.\n    var math = Math;\n    var PI = math.PI;\n    var atan2 = math.atan2;\n    var sqrt = math.sqrt;\n    var min = math.min;\n    var max = math.max;\n    var cos = math.cos;\n    var sin = math.sin;\n\n    var V = function(el, attrs, children) {\n\n        // This allows using V() without the new keyword.\n        if (!(this instanceof V)) {\n            return V.apply(Object.create(V.prototype), arguments);\n        }\n\n        if (!el) return;\n\n        if (V.isV(el)) {\n            el = el.node;\n        }\n\n        attrs = attrs || {};\n\n        if (V.isString(el)) {\n\n            if (el.toLowerCase() === 'svg') {\n\n                // Create a new SVG canvas.\n                el = V.createSvgDocument();\n\n            } else if (el[0] === '<') {\n\n                // Create element from an SVG string.\n                // Allows constructs of type: `document.appendChild(V('<rect></rect>').node)`.\n\n                var svgDoc = V.createSvgDocument(el);\n\n                // Note that `V()` might also return an array should the SVG string passed as\n                // the first argument contain more than one root element.\n                if (svgDoc.childNodes.length > 1) {\n\n                    // Map child nodes to `V`s.\n                    var arrayOfVels = [];\n                    var i, len;\n\n                    for (i = 0, len = svgDoc.childNodes.length; i < len; i++) {\n\n                        var childNode = svgDoc.childNodes[i];\n                        arrayOfVels.push(new V(document.importNode(childNode, true)));\n                    }\n\n                    return arrayOfVels;\n                }\n\n                el = document.importNode(svgDoc.firstChild, true);\n\n            } else {\n\n                el = document.createElementNS(ns.svg, el);\n            }\n\n            V.ensureId(el);\n        }\n\n        this.node = el;\n\n        this.setAttributes(attrs);\n\n        if (children) {\n            this.append(children);\n        }\n\n        return this;\n    };\n\n    var VPrototype = V.prototype;\n\n    Object.defineProperty(VPrototype, 'id', {\n        enumerable: true,\n        get: function() {\n            return this.node.id;\n        },\n        set: function(id) {\n            this.node.id = id;\n        }\n    });\n\n    /**\n     * @param {SVGGElement} toElem\n     * @returns {SVGMatrix}\n     */\n    VPrototype.getTransformToElement = function(target) {\n        var node = this.node;\n        if (V.isSVGGraphicsElement(target) && V.isSVGGraphicsElement(node)) {\n            var targetCTM = V.toNode(target).getScreenCTM();\n            var nodeCTM = node.getScreenCTM();\n            if (targetCTM && nodeCTM) {\n                return targetCTM.inverse().multiply(nodeCTM);\n            }\n        }\n        // Could not get actual transformation matrix\n        return V.createSVGMatrix();\n    };\n\n    /**\n     * @param {SVGMatrix} matrix\n     * @param {Object=} opt\n     * @returns {Vectorizer|SVGMatrix} Setter / Getter\n     */\n    VPrototype.transform = function(matrix, opt) {\n\n        var node = this.node;\n        if (V.isUndefined(matrix)) {\n            return V.transformStringToMatrix(this.attr('transform'));\n        }\n\n        if (opt && opt.absolute) {\n            return this.attr('transform', V.matrixToTransformString(matrix));\n        }\n\n        var svgTransform = V.createSVGTransform(matrix);\n        node.transform.baseVal.appendItem(svgTransform);\n        return this;\n    };\n\n    VPrototype.translate = function(tx, ty, opt) {\n\n        opt = opt || {};\n        ty = ty || 0;\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n        // Is it a getter?\n        if (V.isUndefined(tx)) {\n            return transform.translate;\n        }\n\n        transformAttr = transformAttr.replace(/translate\\([^)]*\\)/g, '').trim();\n\n        var newTx = opt.absolute ? tx : transform.translate.tx + tx;\n        var newTy = opt.absolute ? ty : transform.translate.ty + ty;\n        var newTranslate = 'translate(' + newTx + ',' + newTy + ')';\n\n        // Note that `translate()` is always the first transformation. This is\n        // usually the desired case.\n        this.attr('transform', (newTranslate + ' ' + transformAttr).trim());\n        return this;\n    };\n\n    VPrototype.rotate = function(angle, cx, cy, opt) {\n\n        opt = opt || {};\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n\n        // Is it a getter?\n        if (V.isUndefined(angle)) {\n            return transform.rotate;\n        }\n\n        transformAttr = transformAttr.replace(/rotate\\([^)]*\\)/g, '').trim();\n\n        angle %= 360;\n\n        var newAngle = opt.absolute ? angle : transform.rotate.angle + angle;\n        var newOrigin = (cx !== undefined && cy !== undefined) ? ',' + cx + ',' + cy : '';\n        var newRotate = 'rotate(' + newAngle + newOrigin + ')';\n\n        this.attr('transform', (transformAttr + ' ' + newRotate).trim());\n        return this;\n    };\n\n    // Note that `scale` as the only transformation does not combine with previous values.\n    VPrototype.scale = function(sx, sy) {\n\n        sy = V.isUndefined(sy) ? sx : sy;\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n\n        // Is it a getter?\n        if (V.isUndefined(sx)) {\n            return transform.scale;\n        }\n\n        transformAttr = transformAttr.replace(/scale\\([^)]*\\)/g, '').trim();\n\n        var newScale = 'scale(' + sx + ',' + sy + ')';\n\n        this.attr('transform', (transformAttr + ' ' + newScale).trim());\n        return this;\n    };\n\n    // Get SVGRect that contains coordinates and dimension of the real bounding box,\n    // i.e. after transformations are applied.\n    // If `target` is specified, bounding box will be computed relatively to `target` element.\n    VPrototype.bbox = function(withoutTransformations, target) {\n\n        var box;\n        var node = this.node;\n        var ownerSVGElement = node.ownerSVGElement;\n\n        // If the element is not in the live DOM, it does not have a bounding box defined and\n        // so fall back to 'zero' dimension element.\n        if (!ownerSVGElement) {\n            return new g.Rect(0, 0, 0, 0);\n        }\n\n        try {\n\n            box = node.getBBox();\n\n        } catch (e) {\n\n            // Fallback for IE.\n            box = {\n                x: node.clientLeft,\n                y: node.clientTop,\n                width: node.clientWidth,\n                height: node.clientHeight\n            };\n        }\n\n        if (withoutTransformations) {\n            return new g.Rect(box);\n        }\n\n        var matrix = this.getTransformToElement(target || ownerSVGElement);\n\n        return V.transformRect(box, matrix);\n    };\n\n    // Returns an SVGRect that contains coordinates and dimensions of the real bounding box,\n    // i.e. after transformations are applied.\n    // Fixes a browser implementation bug that returns incorrect bounding boxes for groups of svg elements.\n    // Takes an (Object) `opt` argument (optional) with the following attributes:\n    // (Object) `target` (optional): if not undefined, transform bounding boxes relative to `target`; if undefined, transform relative to this\n    // (Boolean) `recursive` (optional): if true, recursively enter all groups and get a union of element bounding boxes (svg bbox fix); if false or undefined, return result of native function this.node.getBBox();\n    VPrototype.getBBox = function(opt) {\n\n        var options = {};\n\n        var outputBBox;\n        var node = this.node;\n        var ownerSVGElement = node.ownerSVGElement;\n\n        // If the element is not in the live DOM, it does not have a bounding box defined and\n        // so fall back to 'zero' dimension element.\n        // If the element is not an SVGGraphicsElement, we could not measure the bounding box either\n        if (!ownerSVGElement || !V.isSVGGraphicsElement(node)) {\n            return new g.Rect(0, 0, 0, 0);\n        }\n\n        if (opt) {\n            if (opt.target) { // check if target exists\n                options.target = V.toNode(opt.target); // works for V objects, jquery objects, and node objects\n            }\n            if (opt.recursive) {\n                options.recursive = opt.recursive;\n            }\n        }\n\n        if (!options.recursive) {\n            try {\n                outputBBox = node.getBBox();\n            } catch (e) {\n                // Fallback for IE.\n                outputBBox = {\n                    x: node.clientLeft,\n                    y: node.clientTop,\n                    width: node.clientWidth,\n                    height: node.clientHeight\n                };\n            }\n\n            if (!options.target) {\n                // transform like this (that is, not at all)\n                return new g.Rect(outputBBox);\n            } else {\n                // transform like target\n                var matrix = this.getTransformToElement(options.target);\n                return V.transformRect(outputBBox, matrix);\n            }\n        } else { // if we want to calculate the bbox recursively\n            // browsers report correct bbox around svg elements (one that envelops the path lines tightly)\n            // but some browsers fail to report the same bbox when the elements are in a group (returning a looser bbox that also includes control points, like node.getClientRect())\n            // this happens even if we wrap a single svg element into a group!\n            // this option setting makes the function recursively enter all the groups from this and deeper, get bboxes of the elements inside, then return a union of those bboxes\n\n            var children = this.children();\n            var n = children.length;\n\n            if (n === 0) {\n                return this.getBBox({ target: options.target, recursive: false });\n            }\n\n            // recursion's initial pass-through setting:\n            // recursive passes-through just keep the target as whatever was set up here during the initial pass-through\n            if (!options.target) {\n                // transform children/descendants like this (their parent/ancestor)\n                options.target = this;\n            } // else transform children/descendants like target\n\n            for (var i = 0; i < n; i++) {\n                var currentChild = children[i];\n\n                var childBBox;\n\n                // if currentChild is not a group element, get its bbox with a nonrecursive call\n                if (currentChild.children().length === 0) {\n                    childBBox = currentChild.getBBox({ target: options.target, recursive: false });\n                } else {\n                    // if currentChild is a group element (determined by checking the number of children), enter it with a recursive call\n                    childBBox = currentChild.getBBox({ target: options.target, recursive: true });\n                }\n\n                if (!outputBBox) {\n                    // if this is the first iteration\n                    outputBBox = childBBox;\n                } else {\n                    // make a new bounding box rectangle that contains this child's bounding box and previous bounding box\n                    outputBBox = outputBBox.union(childBBox);\n                }\n            }\n\n            return outputBBox;\n        }\n    };\n\n    // Text() helpers\n\n    function createTextPathNode(attrs, vel) {\n        attrs || (attrs = {});\n        var textPathElement = V('textPath');\n        var d = attrs.d;\n        if (d && attrs['xlink:href'] === undefined) {\n            // If `opt.attrs` is a plain string, consider it to be directly the\n            // SVG path data for the text to go along (this is a shortcut).\n            // Otherwise if it is an object and contains the `d` property, then this is our path.\n            // Wrap the text in the SVG <textPath> element that points\n            // to a path defined by `opt.attrs` inside the `<defs>` element.\n            var linkedPath = V('path').attr('d', d).appendTo(vel.defs());\n            textPathElement.attr('xlink:href', '#' + linkedPath.id);\n        }\n        if (V.isObject(attrs)) {\n            // Set attributes on the `<textPath>`. The most important one\n            // is the `xlink:href` that points to our newly created `<path/>` element in `<defs/>`.\n            // Note that we also allow the following construct:\n            // `t.text('my text', { textPath: { 'xlink:href': '#my-other-path' } })`.\n            // In other words, one can completely skip the auto-creation of the path\n            // and use any other arbitrary path that is in the document.\n            textPathElement.attr(attrs);\n        }\n        return textPathElement.node;\n    }\n\n    function annotateTextLine(lineNode, lineAnnotations, opt) {\n        opt || (opt = {});\n        var includeAnnotationIndices = opt.includeAnnotationIndices;\n        var eol = opt.eol;\n        var lineHeight = opt.lineHeight;\n        var baseSize = opt.baseSize;\n        var maxFontSize = 0;\n        var fontMetrics = {};\n        var lastJ = lineAnnotations.length - 1;\n        for (var j = 0; j <= lastJ; j++) {\n            var annotation = lineAnnotations[j];\n            var fontSize = null;\n            if (V.isObject(annotation)) {\n                var annotationAttrs = annotation.attrs;\n                var vTSpan = V('tspan', annotationAttrs);\n                var tspanNode = vTSpan.node;\n                var t = annotation.t;\n                if (eol && j === lastJ) t += eol;\n                tspanNode.textContent = t;\n                // Per annotation className\n                var annotationClass = annotationAttrs['class'];\n                if (annotationClass) vTSpan.addClass(annotationClass);\n                // If `opt.includeAnnotationIndices` is `true`,\n                // set the list of indices of all the applied annotations\n                // in the `annotations` attribute. This list is a comma\n                // separated list of indices.\n                if (includeAnnotationIndices) vTSpan.attr('annotations', annotation.annotations);\n                // Check for max font size\n                fontSize = parseFloat(annotationAttrs['font-size']);\n                if (fontSize === undefined) fontSize = baseSize;\n                if (fontSize && fontSize > maxFontSize) maxFontSize = fontSize;\n            } else {\n                if (eol && j === lastJ) annotation += eol;\n                tspanNode = document.createTextNode(annotation || ' ');\n                if (baseSize && baseSize > maxFontSize) maxFontSize = baseSize;\n            }\n            lineNode.appendChild(tspanNode);\n        }\n\n        if (maxFontSize) fontMetrics.maxFontSize = maxFontSize;\n        if (lineHeight) {\n            fontMetrics.lineHeight = lineHeight;\n        } else if (maxFontSize) {\n            fontMetrics.lineHeight = (maxFontSize * 1.2);\n        }\n        return fontMetrics;\n    }\n\n    var emRegex = /em$/;\n\n    function convertEmToPx(em, fontSize) {\n        var numerical = parseFloat(em);\n        if (emRegex.test(em)) return numerical * fontSize;\n        return numerical;\n    }\n\n    function calculateDY(alignment, linesMetrics, baseSizePx, lineHeight) {\n        if (!Array.isArray(linesMetrics)) return 0;\n        var n = linesMetrics.length;\n        if (!n) return 0;\n        var lineMetrics = linesMetrics[0];\n        var flMaxFont = convertEmToPx(lineMetrics.maxFontSize, baseSizePx) || baseSizePx;\n        var rLineHeights = 0;\n        var lineHeightPx = convertEmToPx(lineHeight, baseSizePx);\n        for (var i = 1; i < n; i++) {\n            lineMetrics = linesMetrics[i];\n            var iLineHeight = convertEmToPx(lineMetrics.lineHeight, baseSizePx) || lineHeightPx;\n            rLineHeights += iLineHeight;\n        }\n        var llMaxFont = convertEmToPx(lineMetrics.maxFontSize, baseSizePx) || baseSizePx;\n        var dy;\n        switch (alignment) {\n            case 'middle':\n                dy = (flMaxFont / 2) - (0.15 * llMaxFont) - (rLineHeights / 2);\n                break;\n            case 'bottom':\n                dy = -(0.25 * llMaxFont) - rLineHeights;\n                break;\n            default:\n            case 'top':\n                dy = (0.8 * flMaxFont);\n                break;\n        }\n        return dy;\n    }\n\n    VPrototype.text = function(content, opt) {\n\n        if (content && typeof content !== 'string') throw new Error('Vectorizer: text() expects the first argument to be a string.');\n\n        // Replace all spaces with the Unicode No-break space (http://www.fileformat.info/info/unicode/char/a0/index.htm).\n        // IE would otherwise collapse all spaces into one.\n        content = V.sanitizeText(content);\n        opt || (opt = {});\n        // Should we allow the text to be selected?\n        var displayEmpty = opt.displayEmpty;\n        // End of Line character\n        var eol = opt.eol;\n        // Text along path\n        var textPath = opt.textPath;\n        // Vertical shift\n        var verticalAnchor = opt.textVerticalAnchor;\n        var namedVerticalAnchor = (verticalAnchor === 'middle' || verticalAnchor === 'bottom' || verticalAnchor === 'top');\n        // Horizontal shift applied to all the lines but the first.\n        var x = opt.x;\n        if (x === undefined) x = this.attr('x') || 0;\n        // Annotations\n        var iai = opt.includeAnnotationIndices;\n        var annotations = opt.annotations;\n        if (annotations && !V.isArray(annotations)) annotations = [annotations];\n        // Shift all the <tspan> but first by one line (`1em`)\n        var defaultLineHeight = opt.lineHeight;\n        var autoLineHeight = (defaultLineHeight === 'auto');\n        var lineHeight = (autoLineHeight) ? '1.5em' : (defaultLineHeight || '1em');\n        // Clearing the element\n        this.empty();\n        this.attr({\n            // Preserve spaces. In other words, we do not want consecutive spaces to get collapsed to one.\n            'xml:space': 'preserve',\n            // An empty text gets rendered into the DOM in webkit-based browsers.\n            // In order to unify this behaviour across all browsers\n            // we rather hide the text element when it's empty.\n            'display': (content || displayEmpty) ? null : 'none'\n        });\n\n        // Set default font-size if none\n        var fontSize = parseFloat(this.attr('font-size'));\n        if (!fontSize) {\n            fontSize = 16;\n            if (namedVerticalAnchor || annotations) this.attr('font-size', fontSize);\n        }\n\n        var doc = document;\n        var containerNode;\n        if (textPath) {\n            // Now all the `<tspan>`s will be inside the `<textPath>`.\n            if (typeof textPath === 'string') textPath = { d: textPath };\n            containerNode = createTextPathNode(textPath, this);\n        } else {\n            containerNode = doc.createDocumentFragment();\n        }\n        var offset = 0;\n        var lines = content.split('\\n');\n        var linesMetrics = [];\n        var annotatedY;\n        for (var i = 0, lastI = lines.length - 1; i <= lastI; i++) {\n            var dy = lineHeight;\n            var lineClassName = 'v-line';\n            var lineNode = doc.createElementNS(ns.svg, 'tspan');\n            var line = lines[i];\n            var lineMetrics;\n            if (line) {\n                if (annotations) {\n                    // Find the *compacted* annotations for this line.\n                    var lineAnnotations = V.annotateString(line, annotations, {\n                        offset: -offset,\n                        includeAnnotationIndices: iai\n                    });\n                    lineMetrics = annotateTextLine(lineNode, lineAnnotations, {\n                        includeAnnotationIndices: iai,\n                        eol: (i !== lastI && eol),\n                        lineHeight: (autoLineHeight) ? null : lineHeight,\n                        baseSize: fontSize\n                    });\n                    // Get the line height based on the biggest font size in the annotations for this line.\n                    var iLineHeight = lineMetrics.lineHeight;\n                    if (iLineHeight && autoLineHeight && i !== 0) dy = iLineHeight;\n                    if (i === 0) annotatedY = lineMetrics.maxFontSize * 0.8;\n                } else {\n                    if (eol && i !== lastI) line += eol;\n                    lineNode.textContent = line;\n                }\n            } else {\n                // Make sure the textContent is never empty. If it is, add a dummy\n                // character and make it invisible, making the following lines correctly\n                // relatively positioned. `dy=1em` won't work with empty lines otherwise.\n                lineNode.textContent = '-';\n                lineClassName += ' v-empty-line';\n                // 'opacity' needs to be specified with fill, stroke. Opacity without specification\n                // is not applied in Firefox\n                var lineNodeStyle = lineNode.style;\n                lineNodeStyle.fillOpacity = 0;\n                lineNodeStyle.strokeOpacity = 0;\n                if (annotations) lineMetrics = {};\n            }\n            if (lineMetrics) linesMetrics.push(lineMetrics);\n            if (i > 0) lineNode.setAttribute('dy', dy);\n            // Firefox requires 'x' to be set on the first line when inside a text path\n            if (i > 0 || textPath) lineNode.setAttribute('x', x);\n            lineNode.className.baseVal = lineClassName;\n            containerNode.appendChild(lineNode);\n            offset += line.length + 1;      // + 1 = newline character.\n        }\n        // Y Alignment calculation\n        if (namedVerticalAnchor) {\n            if (annotations) {\n                dy = calculateDY(verticalAnchor, linesMetrics, fontSize, lineHeight);\n            } else if (verticalAnchor === 'top') {\n                // A shortcut for top alignment. It does not depend on font-size nor line-height\n                dy = '0.8em';\n            } else {\n                var rh; // remaining height\n                if (lastI > 0) {\n                    rh = parseFloat(lineHeight) || 1;\n                    rh *= lastI;\n                    if (!emRegex.test(lineHeight)) rh /= fontSize;\n                } else {\n                    // Single-line text\n                    rh = 0;\n                }\n                switch (verticalAnchor) {\n                    case 'middle':\n                        dy = (0.3 - (rh / 2)) + 'em';\n                        break;\n                    case 'bottom':\n                        dy = (-rh - 0.3) + 'em';\n                        break;\n                }\n            }\n        } else {\n            if (verticalAnchor === 0) {\n                dy = '0em';\n            } else if (verticalAnchor) {\n                dy = verticalAnchor;\n            } else {\n                // No vertical anchor is defined\n                dy = 0;\n                // Backwards compatibility - we change the `y` attribute instead of `dy`.\n                if (this.attr('y') === null) this.attr('y', annotatedY || '0.8em');\n            }\n        }\n        containerNode.firstChild.setAttribute('dy', dy);\n        // Appending lines to the element.\n        this.append(containerNode);\n        return this;\n    };\n\n    /**\n     * @public\n     * @param {string} name\n     * @returns {Vectorizer}\n     */\n    VPrototype.removeAttr = function(name) {\n\n        var qualifiedName = V.qualifyAttr(name);\n        var el = this.node;\n\n        if (qualifiedName.ns) {\n            if (el.hasAttributeNS(qualifiedName.ns, qualifiedName.local)) {\n                el.removeAttributeNS(qualifiedName.ns, qualifiedName.local);\n            }\n        } else if (el.hasAttribute(name)) {\n            el.removeAttribute(name);\n        }\n        return this;\n    };\n\n    VPrototype.attr = function(name, value) {\n\n        if (V.isUndefined(name)) {\n\n            // Return all attributes.\n            var attributes = this.node.attributes;\n            var attrs = {};\n\n            for (var i = 0; i < attributes.length; i++) {\n                attrs[attributes[i].name] = attributes[i].value;\n            }\n\n            return attrs;\n        }\n\n        if (V.isString(name) && V.isUndefined(value)) {\n            return this.node.getAttribute(name);\n        }\n\n        if (typeof name === 'object') {\n\n            for (var attrName in name) {\n                if (name.hasOwnProperty(attrName)) {\n                    this.setAttribute(attrName, name[attrName]);\n                }\n            }\n\n        } else {\n\n            this.setAttribute(name, value);\n        }\n\n        return this;\n    };\n\n    VPrototype.normalizePath = function() {\n\n        var tagName = this.tagName();\n        if (tagName === 'PATH') {\n            this.attr('d', V.normalizePathData(this.attr('d')));\n        }\n\n        return this;\n    };\n\n    VPrototype.remove = function() {\n\n        if (this.node.parentNode) {\n            this.node.parentNode.removeChild(this.node);\n        }\n\n        return this;\n    };\n\n    VPrototype.empty = function() {\n\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n\n        return this;\n    };\n\n    /**\n     * @private\n     * @param {object} attrs\n     * @returns {Vectorizer}\n     */\n    VPrototype.setAttributes = function(attrs) {\n\n        for (var key in attrs) {\n            if (attrs.hasOwnProperty(key)) {\n                this.setAttribute(key, attrs[key]);\n            }\n        }\n\n        return this;\n    };\n\n    VPrototype.append = function(els) {\n\n        if (!V.isArray(els)) {\n            els = [els];\n        }\n\n        for (var i = 0, len = els.length; i < len; i++) {\n            this.node.appendChild(V.toNode(els[i])); // lgtm [js/xss-through-dom]\n        }\n\n        return this;\n    };\n\n    VPrototype.prepend = function(els) {\n\n        var child = this.node.firstChild;\n        return child ? V(child).before(els) : this.append(els);\n    };\n\n    VPrototype.before = function(els) {\n\n        var node = this.node;\n        var parent = node.parentNode;\n\n        if (parent) {\n\n            if (!V.isArray(els)) {\n                els = [els];\n            }\n\n            for (var i = 0, len = els.length; i < len; i++) {\n                parent.insertBefore(V.toNode(els[i]), node);\n            }\n        }\n\n        return this;\n    };\n\n    VPrototype.appendTo = function(node) {\n        V.toNode(node).appendChild(this.node); // lgtm [js/xss-through-dom]\n        return this;\n    };\n\n    VPrototype.svg = function() {\n\n        return this.node instanceof window.SVGSVGElement ? this : V(this.node.ownerSVGElement);\n    };\n\n    VPrototype.tagName = function() {\n\n        return this.node.tagName.toUpperCase();\n    };\n\n    VPrototype.defs = function() {\n        var context = this.svg() || this;\n        var defsNode = context.node.getElementsByTagName('defs')[0];\n        if (defsNode) return V(defsNode);\n        return V('defs').appendTo(context);\n    };\n\n    VPrototype.clone = function() {\n\n        var clone = V(this.node.cloneNode(true/* deep */));\n        // Note that clone inherits also ID. Therefore, we need to change it here.\n        clone.node.id = V.uniqueId();\n        return clone;\n    };\n\n    VPrototype.findOne = function(selector) {\n\n        var found = this.node.querySelector(selector);\n        return found ? V(found) : undefined;\n    };\n\n    VPrototype.find = function(selector) {\n\n        var vels = [];\n        var nodes = this.node.querySelectorAll(selector);\n\n        if (nodes) {\n\n            // Map DOM elements to `V`s.\n            for (var i = 0; i < nodes.length; i++) {\n                vels.push(V(nodes[i]));\n            }\n        }\n\n        return vels;\n    };\n\n    // Returns an array of V elements made from children of this.node.\n    VPrototype.children = function() {\n\n        var children = this.node.childNodes;\n\n        var outputArray = [];\n        for (var i = 0; i < children.length; i++) {\n            var currentChild = children[i];\n            if (currentChild.nodeType === 1) {\n                outputArray.push(V(children[i]));\n            }\n        }\n        return outputArray;\n    };\n\n    // Returns the V element from parentNode of this.node.\n    VPrototype.parent = function() {\n        return V(this.node.parentNode) || null;\n    },\n\n    // Find an index of an element inside its container.\n    VPrototype.index = function() {\n\n        var index = 0;\n        var node = this.node.previousSibling;\n\n        while (node) {\n            // nodeType 1 for ELEMENT_NODE\n            if (node.nodeType === 1) index++;\n            node = node.previousSibling;\n        }\n\n        return index;\n    };\n\n    VPrototype.findParentByClass = function(className, terminator) {\n\n        var ownerSVGElement = this.node.ownerSVGElement;\n        var node = this.node.parentNode;\n\n        while (node && node !== terminator && node !== ownerSVGElement) {\n\n            var vel = V(node);\n            if (vel.hasClass(className)) {\n                return vel;\n            }\n\n            node = node.parentNode;\n        }\n\n        return null;\n    };\n\n    // https://jsperf.com/get-common-parent\n    VPrototype.contains = function(el) {\n\n        var a = this.node;\n        var b = V.toNode(el);\n        var bup = b && b.parentNode;\n\n        return (a === bup) || !!(bup && bup.nodeType === 1 && (a.compareDocumentPosition(bup) & 16));\n    };\n\n    // Convert global point into the coordinate space of this element.\n    VPrototype.toLocalPoint = function(x, y) {\n\n        var svg = this.svg().node;\n\n        var p = svg.createSVGPoint();\n        p.x = x;\n        p.y = y;\n\n        try {\n\n            var globalPoint = p.matrixTransform(svg.getScreenCTM().inverse());\n            var globalToLocalMatrix = this.getTransformToElement(svg).inverse();\n\n        } catch (e) {\n            // IE9 throws an exception in odd cases. (`Unexpected call to method or property access`)\n            // We have to make do with the original coordianates.\n            return p;\n        }\n\n        return globalPoint.matrixTransform(globalToLocalMatrix);\n    };\n\n    VPrototype.translateCenterToPoint = function(p) {\n\n        var bbox = this.getBBox({ target: this.svg() });\n        var center = bbox.center();\n\n        this.translate(p.x - center.x, p.y - center.y);\n        return this;\n    };\n\n    // Efficiently auto-orient an element. This basically implements the orient=auto attribute\n    // of markers. The easiest way of understanding on what this does is to imagine the element is an\n    // arrowhead. Calling this method on the arrowhead makes it point to the `position` point while\n    // being auto-oriented (properly rotated) towards the `reference` point.\n    // `target` is the element relative to which the transformations are applied. Usually a viewport.\n    VPrototype.translateAndAutoOrient = function(position, reference, target) {\n\n        position = new g.Point(position);\n        reference =  new g.Point(reference);\n        target || (target = this.svg());\n\n        // Clean-up previously set transformations except the scale. If we didn't clean up the\n        // previous transformations then they'd add up with the old ones. Scale is an exception as\n        // it doesn't add up, consider: `this.scale(2).scale(2).scale(2)`. The result is that the\n        // element is scaled by the factor 2, not 8.\n        var scale = this.scale();\n        this.attr('transform', '');\n        var bbox = this.getBBox({ target: target }).scale(scale.sx, scale.sy);\n\n        // 1. Translate to origin.\n        var translateToOrigin = V.createSVGTransform();\n        translateToOrigin.setTranslate(-bbox.x - bbox.width / 2, -bbox.y - bbox.height / 2);\n\n        // 2. Rotate around origin.\n        var rotateAroundOrigin = V.createSVGTransform();\n        var angle = position.angleBetween(reference, position.clone().offset(1, 0));\n        if (angle) rotateAroundOrigin.setRotate(angle, 0, 0);\n\n        // 3. Translate to the `position` + the offset (half my width) towards the `reference` point.\n        var translateFromOrigin = V.createSVGTransform();\n        var finalPosition = position.clone().move(reference, bbox.width / 2);\n        translateFromOrigin.setTranslate(2 * position.x - finalPosition.x, 2 * position.y - finalPosition.y);\n\n        // 4. Get the current transformation matrix of this node\n        var ctm = this.getTransformToElement(target);\n\n        // 5. Apply transformations and the scale\n        var transform = V.createSVGTransform();\n        transform.setMatrix(\n            translateFromOrigin.matrix.multiply(\n                rotateAroundOrigin.matrix.multiply(\n                    translateToOrigin.matrix.multiply(\n                        ctm.scale(scale.sx, scale.sy)))));\n\n        this.attr('transform', V.matrixToTransformString(transform.matrix));\n\n        return this;\n    };\n\n    VPrototype.animateAlongPath = function(attrs, path) {\n\n        path = V.toNode(path);\n\n        var id = V.ensureId(path);\n        var animateMotion = V('animateMotion', attrs);\n        var mpath = V('mpath', { 'xlink:href': '#' + id });\n\n        animateMotion.append(mpath);\n\n        this.append(animateMotion);\n        try {\n            animateMotion.node.beginElement();\n        } catch (e) {\n            // Fallback for IE 9.\n            // Run the animation programmatically if FakeSmile (`http://leunen.me/fakesmile/`) present\n            if (document.documentElement.getAttribute('smiling') === 'fake') {\n                /* global getTargets:true, Animator:true, animators:true id2anim:true */\n                // Register the animation. (See `https://answers.launchpad.net/smil/+question/203333`)\n                var animation = animateMotion.node;\n                animation.animators = [];\n\n                var animationID = animation.getAttribute('id');\n                if (animationID) id2anim[animationID] = animation;\n\n                var targets = getTargets(animation);\n                for (var i = 0, len = targets.length; i < len; i++) {\n                    var target = targets[i];\n                    var animator = new Animator(animation, target, i);\n                    animators.push(animator);\n                    animation.animators[i] = animator;\n                    animator.register();\n                }\n            }\n        }\n        return this;\n    };\n\n    VPrototype.hasClass = function(className) {\n\n        return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(this.node.getAttribute('class'));\n    };\n\n    VPrototype.addClass = function(className) {\n\n        if (className && !this.hasClass(className)) {\n            var prevClasses = this.node.getAttribute('class') || '';\n            this.node.setAttribute('class', (prevClasses + ' ' + className).trim());\n        }\n\n        return this;\n    };\n\n    VPrototype.removeClass = function(className) {\n\n        if (className && this.hasClass(className)) {\n            var newClasses = this.node.getAttribute('class').replace(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)', 'g'), '$2');\n            this.node.setAttribute('class', newClasses);\n        }\n\n        return this;\n    };\n\n    VPrototype.toggleClass = function(className, toAdd) {\n\n        var toRemove = V.isUndefined(toAdd) ? this.hasClass(className) : !toAdd;\n\n        if (toRemove) {\n            this.removeClass(className);\n        } else {\n            this.addClass(className);\n        }\n\n        return this;\n    };\n\n    // Interpolate path by discrete points. The precision of the sampling\n    // is controlled by `interval`. In other words, `sample()` will generate\n    // a point on the path starting at the beginning of the path going to the end\n    // every `interval` pixels.\n    // The sampler can be very useful for e.g. finding intersection between two\n    // paths (finding the two closest points from two samples).\n    VPrototype.sample = function(interval) {\n\n        interval = interval || 1;\n        var node = this.node;\n        var length = node.getTotalLength();\n        var samples = [];\n        var distance = 0;\n        var sample;\n        while (distance < length) {\n            sample = node.getPointAtLength(distance);\n            samples.push({ x: sample.x, y: sample.y, distance: distance });\n            distance += interval;\n        }\n        return samples;\n    };\n\n    VPrototype.convertToPath = function() {\n\n        var path = V('path');\n        path.attr(this.attr());\n        var d = this.convertToPathData();\n        if (d) {\n            path.attr('d', d);\n        }\n        return path;\n    };\n\n    VPrototype.convertToPathData = function() {\n\n        var tagName = this.tagName();\n\n        switch (tagName) {\n            case 'PATH':\n                return this.attr('d');\n            case 'LINE':\n                return V.convertLineToPathData(this.node);\n            case 'POLYGON':\n                return V.convertPolygonToPathData(this.node);\n            case 'POLYLINE':\n                return V.convertPolylineToPathData(this.node);\n            case 'ELLIPSE':\n                return V.convertEllipseToPathData(this.node);\n            case 'CIRCLE':\n                return V.convertCircleToPathData(this.node);\n            case 'RECT':\n                return V.convertRectToPathData(this.node);\n        }\n\n        throw new Error(tagName + ' cannot be converted to PATH.');\n    };\n\n    V.prototype.toGeometryShape = function() {\n        var x, y, width, height, cx, cy, r, rx, ry, points, d, x1, x2, y1, y2;\n        switch (this.tagName()) {\n\n            case 'RECT':\n                x = parseFloat(this.attr('x')) || 0;\n                y = parseFloat(this.attr('y')) || 0;\n                width = parseFloat(this.attr('width')) || 0;\n                height = parseFloat(this.attr('height')) || 0;\n                return new g.Rect(x, y, width, height);\n\n            case 'CIRCLE':\n                cx = parseFloat(this.attr('cx')) || 0;\n                cy = parseFloat(this.attr('cy')) || 0;\n                r = parseFloat(this.attr('r')) || 0;\n                return new g.Ellipse({ x: cx, y: cy }, r, r);\n\n            case 'ELLIPSE':\n                cx = parseFloat(this.attr('cx')) || 0;\n                cy = parseFloat(this.attr('cy')) || 0;\n                rx = parseFloat(this.attr('rx')) || 0;\n                ry = parseFloat(this.attr('ry')) || 0;\n                return new g.Ellipse({ x: cx, y: cy }, rx, ry);\n\n            case 'POLYLINE':\n                points = V.getPointsFromSvgNode(this);\n                return new g.Polyline(points);\n\n            case 'POLYGON':\n                points = V.getPointsFromSvgNode(this);\n                if (points.length > 1) points.push(points[0]);\n                return new g.Polyline(points);\n\n            case 'PATH':\n                d = this.attr('d');\n                if (!g.Path.isDataSupported(d)) d = V.normalizePathData(d);\n                return new g.Path(d);\n\n            case 'LINE':\n                x1 = parseFloat(this.attr('x1')) || 0;\n                y1 = parseFloat(this.attr('y1')) || 0;\n                x2 = parseFloat(this.attr('x2')) || 0;\n                y2 = parseFloat(this.attr('y2')) || 0;\n                return new g.Line({ x: x1, y: y1 }, { x: x2, y: y2 });\n        }\n\n        // Anything else is a rectangle\n        return this.getBBox();\n    };\n\n    // Find the intersection of a line starting in the center\n    // of the SVG `node` ending in the point `ref`.\n    // `target` is an SVG element to which `node`s transformations are relative to.\n    // Note that `ref` point must be in the coordinate system of the `target` for this function to work properly.\n    // Returns a point in the `target` coordinate system (the same system as `ref` is in) if\n    // an intersection is found. Returns `undefined` otherwise.\n    VPrototype.findIntersection = function(ref, target) {\n\n        var svg = this.svg().node;\n        target = target || svg;\n        var bbox = this.getBBox({ target: target });\n        var center = bbox.center();\n\n        if (!bbox.intersectionWithLineFromCenterToPoint(ref)) return undefined;\n\n        var spot;\n        var tagName = this.tagName();\n\n        // Little speed up optimization for `<rect>` element. We do not do conversion\n        // to path element and sampling but directly calculate the intersection through\n        // a transformed geometrical rectangle.\n        if (tagName === 'RECT') {\n\n            var gRect = new g.Rect(\n                parseFloat(this.attr('x') || 0),\n                parseFloat(this.attr('y') || 0),\n                parseFloat(this.attr('width')),\n                parseFloat(this.attr('height'))\n            );\n            // Get the rect transformation matrix with regards to the SVG document.\n            var rectMatrix = this.getTransformToElement(target);\n            // Decompose the matrix to find the rotation angle.\n            var rectMatrixComponents = V.decomposeMatrix(rectMatrix);\n            // Now we want to rotate the rectangle back so that we\n            // can use `intersectionWithLineFromCenterToPoint()` passing the angle as the second argument.\n            var resetRotation = svg.createSVGTransform();\n            resetRotation.setRotate(-rectMatrixComponents.rotation, center.x, center.y);\n            var rect = V.transformRect(gRect, resetRotation.matrix.multiply(rectMatrix));\n            spot = (new g.Rect(rect)).intersectionWithLineFromCenterToPoint(ref, rectMatrixComponents.rotation);\n\n        } else if (tagName === 'PATH' || tagName === 'POLYGON' || tagName === 'POLYLINE' || tagName === 'CIRCLE' || tagName === 'ELLIPSE') {\n\n            var pathNode = (tagName === 'PATH') ? this : this.convertToPath();\n            var samples = pathNode.sample();\n            var minDistance = Infinity;\n            var closestSamples = [];\n\n            var i, sample, gp, centerDistance, refDistance, distance;\n\n            for (i = 0; i < samples.length; i++) {\n\n                sample = samples[i];\n                // Convert the sample point in the local coordinate system to the global coordinate system.\n                gp = V.createSVGPoint(sample.x, sample.y);\n                gp = gp.matrixTransform(this.getTransformToElement(target));\n                sample = new g.Point(gp);\n                centerDistance = sample.distance(center);\n                // Penalize a higher distance to the reference point by 10%.\n                // This gives better results. This is due to\n                // inaccuracies introduced by rounding errors and getPointAtLength() returns.\n                refDistance = sample.distance(ref) * 1.1;\n                distance = centerDistance + refDistance;\n\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestSamples = [{ sample: sample, refDistance: refDistance }];\n                } else if (distance < minDistance + 1) {\n                    closestSamples.push({ sample: sample, refDistance: refDistance });\n                }\n            }\n\n            closestSamples.sort(function(a, b) {\n                return a.refDistance - b.refDistance;\n            });\n\n            if (closestSamples[0]) {\n                spot = closestSamples[0].sample;\n            }\n        }\n\n        return spot;\n    };\n\n    /**\n     * @private\n     * @param {string} name\n     * @param {string} value\n     * @returns {Vectorizer}\n     */\n    VPrototype.setAttribute = function(name, value) {\n\n        var el = this.node;\n\n        if (value === null) {\n            this.removeAttr(name);\n            return this;\n        }\n\n        var qualifiedName = V.qualifyAttr(name);\n\n        if (qualifiedName.ns) {\n            // Attribute names can be namespaced. E.g. `image` elements\n            // have a `xlink:href` attribute to set the source of the image.\n            el.setAttributeNS(qualifiedName.ns, name, value);\n        } else if (name === 'id') {\n            el.id = value;\n        } else {\n            el.setAttribute(name, value);\n        }\n\n        return this;\n    };\n\n    // Create an SVG document element.\n    // If `content` is passed, it will be used as the SVG content of the `<svg>` root element.\n    V.createSvgDocument = function(content) {\n\n        if (content) {\n            const XMLString = `<svg xmlns=\"${ns.svg}\" xmlns:xlink=\"${ns.xlink}\" version=\"${SVGVersion}\">${content}</svg>`;\n            const { documentElement } = V.parseXML(XMLString, { async: false });\n            return documentElement;\n        }\n\n        const svg = document.createElementNS(ns.svg, 'svg');\n        svg.setAttributeNS(ns.xmlns, 'xmlns:xlink', ns.xlink);\n        svg.setAttribute('version', SVGVersion);\n        return svg;\n    };\n\n    V.createSVGStyle = function(stylesheet) {\n        const { node } = V('style', { type: 'text/css' }, [\n            V.createCDATASection(stylesheet)\n        ]);\n        return node;\n    },\n\n    V.createCDATASection = function(data = '') {\n        const xml = document.implementation.createDocument(null, 'xml', null);\n        return xml.createCDATASection(data);\n    };\n\n    V.idCounter = 0;\n\n    // A function returning a unique identifier for this client session with every call.\n    V.uniqueId = function() {\n\n        return 'v-' + (++V.idCounter);\n    };\n\n    V.toNode = function(el) {\n\n        return V.isV(el) ? el.node : (el.nodeName && el || el[0]);\n    };\n\n    V.ensureId = function(node) {\n\n        node = V.toNode(node);\n        return node.id || (node.id = V.uniqueId());\n    };\n\n    // Replace all spaces with the Unicode No-break space (http://www.fileformat.info/info/unicode/char/a0/index.htm).\n    // IE would otherwise collapse all spaces into one. This is used in the text() method but it is\n    // also exposed so that the programmer can use it in case he needs to. This is useful e.g. in tests\n    // when you want to compare the actual DOM text content without having to add the unicode character in\n    // the place of all spaces.\n    V.sanitizeText = function(text) {\n\n        return (text || '').replace(/ /g, '\\u00A0');\n    };\n\n    V.isUndefined = function(value) {\n\n        return typeof value === 'undefined';\n    };\n\n    V.isString = function(value) {\n\n        return typeof value === 'string';\n    };\n\n    V.isObject = function(value) {\n\n        return value && (typeof value === 'object');\n    };\n\n    V.isArray = Array.isArray;\n\n    V.parseXML = function(data, opt) {\n\n        opt = opt || {};\n\n        var xml;\n\n        try {\n            var parser = new DOMParser();\n\n            if (!V.isUndefined(opt.async)) {\n                parser.async = opt.async;\n            }\n\n            xml = parser.parseFromString(data, 'text/xml');\n        } catch (error) {\n            xml = undefined;\n        }\n\n        if (!xml || xml.getElementsByTagName('parsererror').length) {\n            throw new Error('Invalid XML: ' + data);\n        }\n\n        return xml;\n    };\n\n    /**\n     * @param {string} name\n     * @returns {{ns: string|null, local: string}} namespace and attribute name\n     */\n    V.qualifyAttr = function(name) {\n\n        if (name.indexOf(':') !== -1) {\n            var combinedKey = name.split(':');\n            return {\n                ns: ns[combinedKey[0]],\n                local: combinedKey[1]\n            };\n        }\n\n        return {\n            ns: null,\n            local: name\n        };\n    };\n\n    V.transformRegex = /(\\w+)\\(([^,)]+),?([^)]+)?\\)/gi;\n    V.transformSeparatorRegex = /[ ,]+/;\n    V.transformationListRegex = /^(\\w+)\\((.*)\\)/;\n\n    V.transformStringToMatrix = function(transform) {\n\n        var transformationMatrix = V.createSVGMatrix();\n        var matches = transform && transform.match(V.transformRegex);\n        if (!matches) {\n            return transformationMatrix;\n        }\n\n        for (var i = 0, n = matches.length; i < n; i++) {\n            var transformationString = matches[i];\n\n            var transformationMatch = transformationString.match(V.transformationListRegex);\n            if (transformationMatch) {\n                var sx, sy, tx, ty, angle;\n                var ctm = V.createSVGMatrix();\n                var args = transformationMatch[2].split(V.transformSeparatorRegex);\n                switch (transformationMatch[1].toLowerCase()) {\n                    case 'scale':\n                        sx = parseFloat(args[0]);\n                        sy = (args[1] === undefined) ? sx : parseFloat(args[1]);\n                        ctm = ctm.scaleNonUniform(sx, sy);\n                        break;\n                    case 'translate':\n                        tx = parseFloat(args[0]);\n                        ty = parseFloat(args[1]);\n                        ctm = ctm.translate(tx, ty);\n                        break;\n                    case 'rotate':\n                        angle = parseFloat(args[0]);\n                        tx = parseFloat(args[1]) || 0;\n                        ty = parseFloat(args[2]) || 0;\n                        if (tx !== 0 || ty !== 0) {\n                            ctm = ctm.translate(tx, ty).rotate(angle).translate(-tx, -ty);\n                        } else {\n                            ctm = ctm.rotate(angle);\n                        }\n                        break;\n                    case 'skewx':\n                        angle = parseFloat(args[0]);\n                        ctm = ctm.skewX(angle);\n                        break;\n                    case 'skewy':\n                        angle = parseFloat(args[0]);\n                        ctm = ctm.skewY(angle);\n                        break;\n                    case 'matrix':\n                        ctm.a = parseFloat(args[0]);\n                        ctm.b = parseFloat(args[1]);\n                        ctm.c = parseFloat(args[2]);\n                        ctm.d = parseFloat(args[3]);\n                        ctm.e = parseFloat(args[4]);\n                        ctm.f = parseFloat(args[5]);\n                        break;\n                    default:\n                        continue;\n                }\n\n                transformationMatrix = transformationMatrix.multiply(ctm);\n            }\n\n        }\n        return transformationMatrix;\n    };\n\n    V.matrixToTransformString = function(matrix) {\n        matrix || (matrix = true);\n\n        return 'matrix(' +\n            (matrix.a !== undefined ? matrix.a : 1) + ',' +\n            (matrix.b !== undefined ? matrix.b : 0) + ',' +\n            (matrix.c !== undefined ? matrix.c : 0) + ',' +\n            (matrix.d !== undefined ? matrix.d : 1) + ',' +\n            (matrix.e !== undefined ? matrix.e : 0) + ',' +\n            (matrix.f !== undefined ? matrix.f : 0) +\n            ')';\n    };\n\n    V.parseTransformString = function(transform) {\n\n        var translate, rotate, scale;\n\n        if (transform) {\n\n            var separator = V.transformSeparatorRegex;\n\n            // Allow reading transform string with a single matrix\n            if (transform.trim().indexOf('matrix') >= 0) {\n\n                var matrix = V.transformStringToMatrix(transform);\n                var decomposedMatrix = V.decomposeMatrix(matrix);\n\n                translate = [decomposedMatrix.translateX, decomposedMatrix.translateY];\n                scale = [decomposedMatrix.scaleX, decomposedMatrix.scaleY];\n                rotate = [decomposedMatrix.rotation];\n\n                var transformations = [];\n                if (translate[0] !== 0 || translate[1] !== 0) {\n                    transformations.push('translate(' + translate + ')');\n                }\n                if (scale[0] !== 1 || scale[1] !== 1) {\n                    transformations.push('scale(' + scale + ')');\n                }\n                if (rotate[0] !== 0) {\n                    transformations.push('rotate(' + rotate + ')');\n                }\n                transform = transformations.join(' ');\n\n            } else {\n\n                var translateMatch = transform.match(/translate\\((.*?)\\)/);\n                if (translateMatch) {\n                    translate = translateMatch[1].split(separator);\n                }\n                var rotateMatch = transform.match(/rotate\\((.*?)\\)/);\n                if (rotateMatch) {\n                    rotate = rotateMatch[1].split(separator);\n                }\n                var scaleMatch = transform.match(/scale\\((.*?)\\)/);\n                if (scaleMatch) {\n                    scale = scaleMatch[1].split(separator);\n                }\n            }\n        }\n\n        var sx = (scale && scale[0]) ? parseFloat(scale[0]) : 1;\n\n        return {\n            value: transform,\n            translate: {\n                tx: (translate && translate[0]) ? parseInt(translate[0], 10) : 0,\n                ty: (translate && translate[1]) ? parseInt(translate[1], 10) : 0\n            },\n            rotate: {\n                angle: (rotate && rotate[0]) ? parseInt(rotate[0], 10) : 0,\n                cx: (rotate && rotate[1]) ? parseInt(rotate[1], 10) : undefined,\n                cy: (rotate && rotate[2]) ? parseInt(rotate[2], 10) : undefined\n            },\n            scale: {\n                sx: sx,\n                sy: (scale && scale[1]) ? parseFloat(scale[1]) : sx\n            }\n        };\n    };\n\n    V.deltaTransformPoint = function(matrix, point) {\n\n        var dx = point.x * matrix.a + point.y * matrix.c + 0;\n        var dy = point.x * matrix.b + point.y * matrix.d + 0;\n        return { x: dx, y: dy };\n    };\n\n    V.decomposeMatrix = function(matrix) {\n\n        // @see https://gist.github.com/2052247\n\n        // calculate delta transform point\n        var px = V.deltaTransformPoint(matrix, { x: 0, y: 1 });\n        var py = V.deltaTransformPoint(matrix, { x: 1, y: 0 });\n\n        // calculate skew\n        var skewX = ((180 / PI) * atan2(px.y, px.x) - 90);\n        var skewY = ((180 / PI) * atan2(py.y, py.x));\n\n        return {\n\n            translateX: matrix.e,\n            translateY: matrix.f,\n            scaleX: sqrt(matrix.a * matrix.a + matrix.b * matrix.b),\n            scaleY: sqrt(matrix.c * matrix.c + matrix.d * matrix.d),\n            skewX: skewX,\n            skewY: skewY,\n            rotation: skewX // rotation is the same as skew x\n        };\n    };\n\n    // Return the `scale` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToScale = function(matrix) {\n\n        var a, b, c, d;\n        if (matrix) {\n            a = V.isUndefined(matrix.a) ? 1 : matrix.a;\n            d = V.isUndefined(matrix.d) ? 1 : matrix.d;\n            b = matrix.b;\n            c = matrix.c;\n        } else {\n            a = d = 1;\n        }\n        return {\n            sx: b ? sqrt(a * a + b * b) : a,\n            sy: c ? sqrt(c * c + d * d) : d\n        };\n    };\n\n    // Return the `rotate` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToRotate = function(matrix) {\n\n        var p = { x: 0, y: 1 };\n        if (matrix) {\n            p = V.deltaTransformPoint(matrix, p);\n        }\n\n        return {\n            angle: g.normalizeAngle(g.toDeg(atan2(p.y, p.x)) - 90)\n        };\n    };\n\n    // Return the `translate` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToTranslate = function(matrix) {\n\n        return {\n            tx: (matrix && matrix.e) || 0,\n            ty: (matrix && matrix.f) || 0\n        };\n    };\n\n    V.isV = function(object) {\n\n        return object instanceof V;\n    };\n\n    // For backwards compatibility:\n    V.isVElement = V.isV;\n\n    // Element implements `getBBox()`, `getCTM()` and `getScreenCTM()`\n    // https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement\n    V.isSVGGraphicsElement = function(node) {\n        if (!node) return false;\n        node = V.toNode(node);\n        // IE/Edge does not implement SVGGraphicsElement interface, thus check for `getScreenCTM` below\n        return node instanceof SVGElement && typeof node.getScreenCTM === 'function';\n    };\n\n    var svgDocument = V('svg').node;\n\n    V.createSVGMatrix = function(matrix) {\n\n        var svgMatrix = svgDocument.createSVGMatrix();\n        for (var component in matrix) {\n            svgMatrix[component] = matrix[component];\n        }\n\n        return svgMatrix;\n    };\n\n    V.createSVGTransform = function(matrix) {\n\n        if (!V.isUndefined(matrix)) {\n\n            if (!(matrix instanceof SVGMatrix)) {\n                matrix = V.createSVGMatrix(matrix);\n            }\n\n            return svgDocument.createSVGTransformFromMatrix(matrix);\n        }\n\n        return svgDocument.createSVGTransform();\n    };\n\n    V.createSVGPoint = function(x, y) {\n\n        var p = svgDocument.createSVGPoint();\n        p.x = x;\n        p.y = y;\n        return p;\n    };\n\n    V.transformRect = function(r, matrix) {\n\n        var p = svgDocument.createSVGPoint();\n\n        p.x = r.x;\n        p.y = r.y;\n        var corner1 = p.matrixTransform(matrix);\n\n        p.x = r.x + r.width;\n        p.y = r.y;\n        var corner2 = p.matrixTransform(matrix);\n\n        p.x = r.x + r.width;\n        p.y = r.y + r.height;\n        var corner3 = p.matrixTransform(matrix);\n\n        p.x = r.x;\n        p.y = r.y + r.height;\n        var corner4 = p.matrixTransform(matrix);\n\n        var minX = min(corner1.x, corner2.x, corner3.x, corner4.x);\n        var maxX = max(corner1.x, corner2.x, corner3.x, corner4.x);\n        var minY = min(corner1.y, corner2.y, corner3.y, corner4.y);\n        var maxY = max(corner1.y, corner2.y, corner3.y, corner4.y);\n\n        return new g.Rect(minX, minY, maxX - minX, maxY - minY);\n    };\n\n    V.transformPoint = function(p, matrix) {\n\n        return new g.Point(V.createSVGPoint(p.x, p.y).matrixTransform(matrix));\n    };\n\n    V.transformLine = function(l, matrix) {\n\n        return new g.Line(\n            V.transformPoint(l.start, matrix),\n            V.transformPoint(l.end, matrix)\n        );\n    };\n\n    V.transformPolyline = function(p, matrix) {\n\n        var inPoints = (p instanceof g.Polyline) ? p.points : p;\n        if (!V.isArray(inPoints)) inPoints = [];\n        var outPoints = [];\n        for (var i = 0, n = inPoints.length; i < n; i++) outPoints[i] = V.transformPoint(inPoints[i], matrix);\n        return new g.Polyline(outPoints);\n    };\n\n    // Convert a style represented as string (e.g. `'fill=\"blue\"; stroke=\"red\"'`) to\n    // an object (`{ fill: 'blue', stroke: 'red' }`).\n    V.styleToObject = function(styleString) {\n        var ret = {};\n        var styles = styleString.split(';');\n        for (var i = 0; i < styles.length; i++) {\n            var style = styles[i];\n            var pair = style.split('=');\n            ret[pair[0].trim()] = pair[1].trim();\n        }\n        return ret;\n    };\n\n    // Inspired by d3.js https://github.com/mbostock/d3/blob/master/src/svg/arc.js\n    V.createSlicePathData = function(innerRadius, outerRadius, startAngle, endAngle) {\n\n        var svgArcMax = 2 * PI - 1e-6;\n        var r0 = innerRadius;\n        var r1 = outerRadius;\n        var a0 = startAngle;\n        var a1 = endAngle;\n        var da = (a1 < a0 && (da = a0, a0 = a1, a1 = da), a1 - a0);\n        var df = da < PI ? '0' : '1';\n        var c0 = cos(a0);\n        var s0 = sin(a0);\n        var c1 = cos(a1);\n        var s1 = sin(a1);\n\n        return (da >= svgArcMax)\n            ? (r0\n                ? 'M0,' + r1\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + (-r1)\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + r1\n                + 'M0,' + r0\n                + 'A' + r0 + ',' + r0 + ' 0 1,0 0,' + (-r0)\n                + 'A' + r0 + ',' + r0 + ' 0 1,0 0,' + r0\n                + 'Z'\n                : 'M0,' + r1\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + (-r1)\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + r1\n                + 'Z')\n            : (r0\n                ? 'M' + r1 * c0 + ',' + r1 * s0\n                + 'A' + r1 + ',' + r1 + ' 0 ' + df + ',1 ' + r1 * c1 + ',' + r1 * s1\n                + 'L' + r0 * c1 + ',' + r0 * s1\n                + 'A' + r0 + ',' + r0 + ' 0 ' + df + ',0 ' + r0 * c0 + ',' + r0 * s0\n                + 'Z'\n                : 'M' + r1 * c0 + ',' + r1 * s0\n                + 'A' + r1 + ',' + r1 + ' 0 ' + df + ',1 ' + r1 * c1 + ',' + r1 * s1\n                + 'L0,0'\n                + 'Z');\n    };\n\n    // Merge attributes from object `b` with attributes in object `a`.\n    // Note that this modifies the object `a`.\n    // Also important to note that attributes are merged but CSS classes are concatenated.\n    V.mergeAttrs = function(a, b) {\n\n        for (var attr in b) {\n\n            if (attr === 'class') {\n                // Concatenate classes.\n                a[attr] = a[attr] ? a[attr] + ' ' + b[attr] : b[attr];\n            } else if (attr === 'style') {\n                // `style` attribute can be an object.\n                if (V.isObject(a[attr]) && V.isObject(b[attr])) {\n                    // `style` stored in `a` is an object.\n                    a[attr] = V.mergeAttrs(a[attr], b[attr]);\n                } else if (V.isObject(a[attr])) {\n                    // `style` in `a` is an object but it's a string in `b`.\n                    // Convert the style represented as a string to an object in `b`.\n                    a[attr] = V.mergeAttrs(a[attr], V.styleToObject(b[attr]));\n                } else if (V.isObject(b[attr])) {\n                    // `style` in `a` is a string, in `b` it's an object.\n                    a[attr] = V.mergeAttrs(V.styleToObject(a[attr]), b[attr]);\n                } else {\n                    // Both styles are strings.\n                    a[attr] = V.mergeAttrs(V.styleToObject(a[attr]), V.styleToObject(b[attr]));\n                }\n            } else {\n                a[attr] = b[attr];\n            }\n        }\n\n        return a;\n    };\n\n    V.annotateString = function(t, annotations, opt) {\n\n        annotations = annotations || [];\n        opt = opt || {};\n\n        var offset = opt.offset || 0;\n        var compacted = [];\n        var batch;\n        var ret = [];\n        var item;\n        var prev;\n\n        for (var i = 0; i < t.length; i++) {\n\n            item = ret[i] = t[i];\n\n            for (var j = 0; j < annotations.length; j++) {\n\n                var annotation = annotations[j];\n                var start = annotation.start + offset;\n                var end = annotation.end + offset;\n\n                if (i >= start && i < end) {\n                    // Annotation applies.\n                    if (V.isObject(item)) {\n                        // There is more than one annotation to be applied => Merge attributes.\n                        item.attrs = V.mergeAttrs(V.mergeAttrs({}, item.attrs), annotation.attrs);\n                    } else {\n                        item = ret[i] = { t: t[i], attrs: annotation.attrs };\n                    }\n                    if (opt.includeAnnotationIndices) {\n                        (item.annotations || (item.annotations = [])).push(j);\n                    }\n                }\n            }\n\n            prev = ret[i - 1];\n\n            if (!prev) {\n\n                batch = item;\n\n            } else if (V.isObject(item) && V.isObject(prev)) {\n                // Both previous item and the current one are annotations. If the attributes\n                // didn't change, merge the text.\n                if (JSON.stringify(item.attrs) === JSON.stringify(prev.attrs)) {\n                    batch.t += item.t;\n                } else {\n                    compacted.push(batch);\n                    batch = item;\n                }\n\n            } else if (V.isObject(item)) {\n                // Previous item was a string, current item is an annotation.\n                compacted.push(batch);\n                batch = item;\n\n            } else if (V.isObject(prev)) {\n                // Previous item was an annotation, current item is a string.\n                compacted.push(batch);\n                batch = item;\n\n            } else {\n                // Both previous and current item are strings.\n                batch = (batch || '') + item;\n            }\n        }\n\n        if (batch) {\n            compacted.push(batch);\n        }\n\n        return compacted;\n    };\n\n    V.findAnnotationsAtIndex = function(annotations, index) {\n\n        var found = [];\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if (annotation.start < index && index <= annotation.end) {\n                    found.push(annotation);\n                }\n            });\n        }\n\n        return found;\n    };\n\n    V.findAnnotationsBetweenIndexes = function(annotations, start, end) {\n\n        var found = [];\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if ((start >= annotation.start && start < annotation.end) || (end > annotation.start && end <= annotation.end) || (annotation.start >= start && annotation.end < end)) {\n                    found.push(annotation);\n                }\n            });\n        }\n\n        return found;\n    };\n\n    // Shift all the text annotations after character `index` by `offset` positions.\n    V.shiftAnnotations = function(annotations, index, offset) {\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if (annotation.start < index && annotation.end >= index) {\n                    annotation.end += offset;\n                } else if (annotation.start >= index) {\n                    annotation.start += offset;\n                    annotation.end += offset;\n                }\n            });\n        }\n\n        return annotations;\n    };\n\n    V.convertLineToPathData = function(line) {\n\n        line = V(line);\n        var d = [\n            'M', line.attr('x1'), line.attr('y1'),\n            'L', line.attr('x2'), line.attr('y2')\n        ].join(' ');\n        return d;\n    };\n\n    V.convertPolygonToPathData = function(polygon) {\n\n        var points = V.getPointsFromSvgNode(polygon);\n        if (points.length === 0) return null;\n\n        return V.svgPointsToPath(points) + ' Z';\n    };\n\n    V.convertPolylineToPathData = function(polyline) {\n\n        var points = V.getPointsFromSvgNode(polyline);\n        if (points.length === 0) return null;\n\n        return V.svgPointsToPath(points);\n    };\n\n    V.svgPointsToPath = function(points) {\n\n        for (var i = 0, n = points.length; i < n; i++) {\n            points[i] = points[i].x + ' ' + points[i].y;\n        }\n\n        return 'M ' + points.join(' L');\n    };\n\n    V.getPointsFromSvgNode = function(node) {\n\n        node = V.toNode(node);\n        var points = [];\n        var nodePoints = node.points;\n        if (nodePoints) {\n            for (var i = 0, n = nodePoints.numberOfItems; i < n; i++) {\n                points.push(nodePoints.getItem(i));\n            }\n        }\n\n        return points;\n    };\n\n    V.KAPPA = 0.551784;\n\n    V.convertCircleToPathData = function(circle) {\n\n        circle = V(circle);\n        var cx = parseFloat(circle.attr('cx')) || 0;\n        var cy = parseFloat(circle.attr('cy')) || 0;\n        var r = parseFloat(circle.attr('r'));\n        var cd = r * V.KAPPA; // Control distance.\n\n        var d = [\n            'M', cx, cy - r,    // Move to the first point.\n            'C', cx + cd, cy - r, cx + r, cy - cd, cx + r, cy, // I. Quadrant.\n            'C', cx + r, cy + cd, cx + cd, cy + r, cx, cy + r, // II. Quadrant.\n            'C', cx - cd, cy + r, cx - r, cy + cd, cx - r, cy, // III. Quadrant.\n            'C', cx - r, cy - cd, cx - cd, cy - r, cx, cy - r, // IV. Quadrant.\n            'Z'\n        ].join(' ');\n        return d;\n    };\n\n    V.convertEllipseToPathData = function(ellipse) {\n\n        ellipse = V(ellipse);\n        var cx = parseFloat(ellipse.attr('cx')) || 0;\n        var cy = parseFloat(ellipse.attr('cy')) || 0;\n        var rx = parseFloat(ellipse.attr('rx'));\n        var ry = parseFloat(ellipse.attr('ry')) || rx;\n        var cdx = rx * V.KAPPA; // Control distance x.\n        var cdy = ry * V.KAPPA; // Control distance y.\n\n        var d = [\n            'M', cx, cy - ry,    // Move to the first point.\n            'C', cx + cdx, cy - ry, cx + rx, cy - cdy, cx + rx, cy, // I. Quadrant.\n            'C', cx + rx, cy + cdy, cx + cdx, cy + ry, cx, cy + ry, // II. Quadrant.\n            'C', cx - cdx, cy + ry, cx - rx, cy + cdy, cx - rx, cy, // III. Quadrant.\n            'C', cx - rx, cy - cdy, cx - cdx, cy - ry, cx, cy - ry, // IV. Quadrant.\n            'Z'\n        ].join(' ');\n        return d;\n    };\n\n    V.convertRectToPathData = function(rect) {\n\n        rect = V(rect);\n\n        return V.rectToPath({\n            x: parseFloat(rect.attr('x')) || 0,\n            y: parseFloat(rect.attr('y')) || 0,\n            width: parseFloat(rect.attr('width')) || 0,\n            height: parseFloat(rect.attr('height')) || 0,\n            rx: parseFloat(rect.attr('rx')) || 0,\n            ry: parseFloat(rect.attr('ry')) || 0\n        });\n    };\n\n    // Convert a rectangle to SVG path commands. `r` is an object of the form:\n    // `{ x: [number], y: [number], width: [number], height: [number], top-ry: [number], top-ry: [number], bottom-rx: [number], bottom-ry: [number] }`,\n    // where `x, y, width, height` are the usual rectangle attributes and [top-/bottom-]rx/ry allows for\n    // specifying radius of the rectangle for all its sides (as opposed to the built-in SVG rectangle\n    // that has only `rx` and `ry` attributes).\n    V.rectToPath = function(r) {\n\n        var d;\n        var x = r.x;\n        var y = r.y;\n        var width = r.width;\n        var height = r.height;\n        var topRx = min(r.rx || r['top-rx'] || 0, width / 2);\n        var bottomRx = min(r.rx || r['bottom-rx'] || 0, width / 2);\n        var topRy = min(r.ry || r['top-ry'] || 0, height / 2);\n        var bottomRy = min(r.ry || r['bottom-ry'] || 0, height / 2);\n\n        if (topRx || bottomRx || topRy || bottomRy) {\n            d = [\n                'M', x, y + topRy,\n                'v', height - topRy - bottomRy,\n                'a', bottomRx, bottomRy, 0, 0, 0, bottomRx, bottomRy,\n                'h', width - 2 * bottomRx,\n                'a', bottomRx, bottomRy, 0, 0, 0, bottomRx, -bottomRy,\n                'v', -(height - bottomRy - topRy),\n                'a', topRx, topRy, 0, 0, 0, -topRx, -topRy,\n                'h', -(width - 2 * topRx),\n                'a', topRx, topRy, 0, 0, 0, -topRx, topRy,\n                'Z'\n            ];\n        } else {\n            d = [\n                'M', x, y,\n                'H', x + width,\n                'V', y + height,\n                'H', x,\n                'V', y,\n                'Z'\n            ];\n        }\n\n        return d.join(' ');\n    };\n\n    // Take a path data string\n    // Return a normalized path data string\n    // If data cannot be parsed, return 'M 0 0'\n    // Adapted from Rappid normalizePath polyfill\n    // Highly inspired by Raphael Library (www.raphael.com)\n    V.normalizePathData = (function() {\n\n        var spaces = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\n        var pathCommand = new RegExp('([a-z])[' + spaces + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + spaces + ']*,?[' + spaces + ']*)+)', 'ig');\n        var pathValues = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + spaces + ']*,?[' + spaces + ']*', 'ig');\n\n        var math = Math;\n        var PI = math.PI;\n        var sin = math.sin;\n        var cos = math.cos;\n        var tan = math.tan;\n        var asin = math.asin;\n        var sqrt = math.sqrt;\n        var abs = math.abs;\n\n        function q2c(x1, y1, ax, ay, x2, y2) {\n\n            var _13 = 1 / 3;\n            var _23 = 2 / 3;\n            return [(_13 * x1) + (_23 * ax), (_13 * y1) + (_23 * ay), (_13 * x2) + (_23 * ax), (_13 * y2) + (_23 * ay), x2, y2];\n        }\n\n        function rotate(x, y, rad) {\n\n            var X = (x * cos(rad)) - (y * sin(rad));\n            var Y = (x * sin(rad)) + (y * cos(rad));\n            return { x: X, y: Y };\n        }\n\n        function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n            // for more information of where this math came from visit:\n            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n            var _120 = (PI * 120) / 180;\n            var rad = (PI / 180) * (+angle || 0);\n            var res = [];\n            var xy;\n\n            if (!recursive) {\n                xy = rotate(x1, y1, -rad);\n                x1 = xy.x;\n                y1 = xy.y;\n\n                xy = rotate(x2, y2, -rad);\n                x2 = xy.x;\n                y2 = xy.y;\n\n                var x = (x1 - x2) / 2;\n                var y = (y1 - y2) / 2;\n                var h = ((x * x) / (rx * rx)) + ((y * y) / (ry * ry));\n\n                if (h > 1) {\n                    h = sqrt(h);\n                    rx = h * rx;\n                    ry = h * ry;\n                }\n\n                var rx2 = rx * rx;\n                var ry2 = ry * ry;\n\n                var k = ((large_arc_flag == sweep_flag) ? -1 : 1) * sqrt(abs(((rx2 * ry2) - (rx2 * y * y) - (ry2 * x * x)) / ((rx2 * y * y) + (ry2 * x * x))));\n\n                var cx = ((k * rx * y) / ry) + ((x1 + x2) / 2);\n                var cy = ((k * -ry * x) / rx) + ((y1 + y2) / 2);\n\n                var f1 = asin(((y1 - cy) / ry).toFixed(9));\n                var f2 = asin(((y2 - cy) / ry).toFixed(9));\n\n                f1 = ((x1 < cx) ? (PI - f1) : f1);\n                f2 = ((x2 < cx) ? (PI - f2) : f2);\n\n                if (f1 < 0) f1 = (PI * 2) + f1;\n                if (f2 < 0) f2 = (PI * 2) + f2;\n\n                if (sweep_flag && (f1 > f2)) f1 = f1 - (PI * 2);\n                if (!sweep_flag && (f2 > f1)) f2 = f2 - (PI * 2);\n\n            } else {\n                f1 = recursive[0];\n                f2 = recursive[1];\n                cx = recursive[2];\n                cy = recursive[3];\n            }\n\n            var df = f2 - f1;\n            if (abs(df) > _120) {\n                var f2old = f2;\n                var x2old = x2;\n                var y2old = y2;\n                f2 = f1 + (_120 * ((sweep_flag && (f2 > f1)) ? 1 : -1));\n                x2 = cx + (rx * cos(f2));\n                y2 = cy + (ry * sin(f2));\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n            }\n\n            df = f2 - f1;\n\n            var c1 = cos(f1);\n            var s1 = sin(f1);\n            var c2 = cos(f2);\n            var s2 = sin(f2);\n            var t = tan(df / 4);\n            var hx = (4 / 3) * (rx * t);\n            var hy = (4 / 3) * (ry * t);\n            var m1 = [x1, y1];\n            var m2 = [x1 + (hx * s1), y1 - (hy * c1)];\n            var m3 = [x2 + (hx * s2), y2 - (hy * c2)];\n            var m4 = [x2, y2];\n\n            m2[0] = (2 * m1[0]) - m2[0];\n            m2[1] = (2 * m1[1]) - m2[1];\n\n            if (recursive) {\n                return [m2, m3, m4].concat(res);\n            } else {\n                res = [m2, m3, m4].concat(res).join().split(',');\n                var newres = [];\n                var ii = res.length;\n                for (var i = 0; i < ii; i++) {\n                    newres[i] = (i % 2) ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n                }\n                return newres;\n            }\n        }\n\n        function parsePathString(pathString) {\n\n            if (!pathString) return null;\n\n            var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 };\n            var data = [];\n\n            String(pathString).replace(pathCommand, function(a, b, c) {\n\n                var params = [];\n                var name = b.toLowerCase();\n                c.replace(pathValues, function(a, b) {\n                    if (b) params.push(+b);\n                });\n\n                if ((name === 'm') && (params.length > 2)) {\n                    data.push([b].concat(params.splice(0, 2)));\n                    name = 'l';\n                    b = ((b === 'm') ? 'l' : 'L');\n                }\n\n                while (params.length >= paramCounts[name]) {\n                    data.push([b].concat(params.splice(0, paramCounts[name])));\n                    if (!paramCounts[name]) break;\n                }\n            });\n\n            return data;\n        }\n\n        function pathToAbsolute(pathArray) {\n\n            if (!Array.isArray(pathArray) || !Array.isArray(pathArray && pathArray[0])) { // rough assumption\n                pathArray = parsePathString(pathArray);\n            }\n\n            // if invalid string, return 'M 0 0'\n            if (!pathArray || !pathArray.length) return [['M', 0, 0]];\n\n            var res = [];\n            var x = 0;\n            var y = 0;\n            var mx = 0;\n            var my = 0;\n            var start = 0;\n            var pa0;\n\n            var ii = pathArray.length;\n            for (var i = start; i < ii; i++) {\n\n                var r = [];\n                res.push(r);\n\n                var pa = pathArray[i];\n                pa0 = pa[0];\n\n                if (pa0 != pa0.toUpperCase()) {\n                    r[0] = pa0.toUpperCase();\n\n                    var jj;\n                    var j;\n                    switch (r[0]) {\n                        case 'A':\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +pa[6] + x;\n                            r[7] = +pa[7] + y;\n                            break;\n\n                        case 'V':\n                            r[1] = +pa[1] + y;\n                            break;\n\n                        case 'H':\n                            r[1] = +pa[1] + x;\n                            break;\n\n                        case 'M':\n                            mx = +pa[1] + x;\n                            my = +pa[2] + y;\n\n                            jj = pa.length;\n                            for (j = 1; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                            break;\n\n                        default:\n                            jj = pa.length;\n                            for (j = 1; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                            break;\n                    }\n                } else {\n                    var kk = pa.length;\n                    for (var k = 0; k < kk; k++) {\n                        r[k] = pa[k];\n                    }\n                }\n\n                switch (r[0]) {\n                    case 'Z':\n                        x = +mx;\n                        y = +my;\n                        break;\n\n                    case 'H':\n                        x = r[1];\n                        break;\n\n                    case 'V':\n                        y = r[1];\n                        break;\n\n                    case 'M':\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                        break;\n\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                        break;\n                }\n            }\n\n            return res;\n        }\n\n        function normalize(path) {\n\n            var p = pathToAbsolute(path);\n            var attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null };\n\n            function processPath(path, d, pcom) {\n\n                var nx, ny;\n\n                if (!path) return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n\n                if (!(path[0] in { T: 1, Q: 1 })) {\n                    d.qx = null;\n                    d.qy = null;\n                }\n\n                switch (path[0]) {\n                    case 'M':\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n\n                    case 'A':\n                        if (parseFloat(path[1]) === 0 || parseFloat(path[2]) === 0) {\n                            // https://www.w3.org/TR/SVG/paths.html#ArcOutOfRangeParameters\n                            // \"If either rx or ry is 0, then this arc is treated as a\n                            // straight line segment (a \"lineto\") joining the endpoints.\"\n                            path = ['L', path[6], path[7]];\n                        } else {\n                            path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        }\n                        break;\n\n                    case 'S':\n                        if (pcom === 'C' || pcom === 'S') { // In 'S' case we have to take into account, if the previous command is C/S.\n                            nx = (d.x * 2) - d.bx;          // And reflect the previous\n                            ny = (d.y * 2) - d.by;          // command's control point relative to the current point.\n                        } else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = ['C', nx, ny].concat(path.slice(1));\n                        break;\n\n                    case 'T':\n                        if (pcom === 'Q' || pcom === 'T') { // In 'T' case we have to take into account, if the previous command is Q/T.\n                            d.qx = (d.x * 2) - d.qx;        // And make a reflection similar\n                            d.qy = (d.y * 2) - d.qy;        // to case 'S'.\n                        } else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n\n                    case 'Q':\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n\n                    case 'H':\n                        path = ['L'].concat(path[1], d.y);\n                        break;\n\n                    case 'V':\n                        path = ['L'].concat(d.x, path[1]);\n                        break;\n\n                    case 'L':\n                        break;\n\n                    case 'Z':\n                        break;\n                }\n\n                return path;\n            }\n\n            function fixArc(pp, i) {\n\n                if (pp[i].length > 7) {\n\n                    pp[i].shift();\n                    var pi = pp[i];\n\n                    while (pi.length) {\n                        pcoms[i] = 'A'; // if created multiple 'C's, their original seg is saved\n                        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n                    }\n\n                    pp.splice(i, 1);\n                    ii = p.length;\n                }\n            }\n\n            var pcoms = []; // path commands of original path p\n            var pfirst = ''; // temporary holder for original path command\n            var pcom = ''; // holder for previous path command of original path\n\n            var ii = p.length;\n            for (var i = 0; i < ii; i++) {\n                if (p[i]) pfirst = p[i][0]; // save current path command\n\n                if (pfirst !== 'C') { // C is not saved yet, because it may be result of conversion\n                    pcoms[i] = pfirst; // Save current path command\n                    if (i > 0) pcom = pcoms[i - 1]; // Get previous path command pcom\n                }\n\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n                if (pcoms[i] !== 'A' && pfirst === 'C') pcoms[i] = 'C'; // 'A' is the only command\n                // which may produce multiple 'C's\n                // so we have to make sure that 'C' is also 'C' in original path\n\n                fixArc(p, i); // fixArc adds also the right amount of 'A's to pcoms\n\n                var seg = p[i];\n                var seglen = seg.length;\n\n                attrs.x = seg[seglen - 2];\n                attrs.y = seg[seglen - 1];\n\n                attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n                attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n            }\n\n            // make sure normalized path data string starts with an M segment\n            if (!p[0][0] || p[0][0] !== 'M') {\n                p.unshift(['M', 0, 0]);\n            }\n\n            return p;\n        }\n\n        return function(pathData) {\n            return normalize(pathData).join(',').split(',').join(' ');\n        };\n    })();\n\n    V.namespace = ns;\n\n    V.g = g;\n\n    return V;\n\n})();\n\nexport default V;\n","export const config = {\n    // When set to `true` the cell selectors could be defined as CSS selectors.\n    // If not, only JSON Markup selectors are taken into account.\n    // export let useCSSSelectors = true;\n    useCSSSelectors: true,\n    // The class name prefix config is for advanced use only.\n    // Be aware that if you change the prefix, the JointJS CSS will no longer function properly.\n    // export let classNamePrefix = 'joint-';\n    // export let defaultTheme = 'default';\n    classNamePrefix: 'joint-',\n    defaultTheme: 'default'\n};\n","import _ from 'lodash';\nimport $ from 'jquery';\nimport V from '../V/index.mjs';\nimport { config } from '../config/index.mjs';\n\nexport const addClassNamePrefix = function(className) {\n\n    if (!className) return className;\n\n    return className.toString().split(' ').map(function(_className) {\n\n        if (_className.substr(0, config.classNamePrefix.length) !== config.classNamePrefix) {\n            _className = config.classNamePrefix + _className;\n        }\n\n        return _className;\n\n    }).join(' ');\n};\n\nexport const removeClassNamePrefix = function(className) {\n\n    if (!className) return className;\n\n    return className.toString().split(' ').map(function(_className) {\n\n        if (_className.substr(0, config.classNamePrefix.length) === config.classNamePrefix) {\n            _className = _className.substr(config.classNamePrefix.length);\n        }\n\n        return _className;\n\n    }).join(' ');\n};\n\nexport const parseDOMJSON = function(json, namespace) {\n\n    var selectors = {};\n    var groupSelectors = {};\n    var svgNamespace = V.namespace.svg;\n\n    var ns = namespace || svgNamespace;\n    var fragment = document.createDocumentFragment();\n    var queue = [json, fragment, ns];\n    while (queue.length > 0) {\n        ns = queue.pop();\n        var parentNode = queue.pop();\n        var siblingsDef = queue.pop();\n        for (var i = 0, n = siblingsDef.length; i < n; i++) {\n            var nodeDef = siblingsDef[i];\n            // TagName\n            if (!nodeDef.hasOwnProperty('tagName')) throw new Error('json-dom-parser: missing tagName');\n            var tagName = nodeDef.tagName;\n            // Namespace URI\n            if (nodeDef.hasOwnProperty('namespaceURI')) ns = nodeDef.namespaceURI;\n            var node = document.createElementNS(ns, tagName);\n            var svg = (ns === svgNamespace);\n\n            var wrapper = (svg) ? V : $;\n            // Attributes\n            var attributes = nodeDef.attributes;\n            if (attributes) wrapper(node).attr(attributes);\n            // Style\n            var style = nodeDef.style;\n            if (style) $(node).css(style);\n            // ClassName\n            if (nodeDef.hasOwnProperty('className')) {\n                var className = nodeDef.className;\n                if (svg) {\n                    node.className.baseVal = className;\n                } else {\n                    node.className = className;\n                }\n            }\n            // TextContent\n            if (nodeDef.hasOwnProperty('textContent')) {\n                node.textContent = nodeDef.textContent;\n            }\n            // Selector\n            if (nodeDef.hasOwnProperty('selector')) {\n                var nodeSelector = nodeDef.selector;\n                if (selectors[nodeSelector]) throw new Error('json-dom-parser: selector must be unique');\n                selectors[nodeSelector] = node;\n                wrapper(node).attr('joint-selector', nodeSelector);\n            }\n            // Groups\n            if (nodeDef.hasOwnProperty('groupSelector')) {\n                var nodeGroups = nodeDef.groupSelector;\n                if (!Array.isArray(nodeGroups)) nodeGroups = [nodeGroups];\n                for (var j = 0, m = nodeGroups.length; j < m; j++) {\n                    var nodeGroup = nodeGroups[j];\n                    var group = groupSelectors[nodeGroup];\n                    if (!group) group = groupSelectors[nodeGroup] = [];\n                    group.push(node);\n                }\n            }\n            parentNode.appendChild(node);\n            // Children\n            var childrenDef = nodeDef.children;\n            if (Array.isArray(childrenDef)) queue.push(childrenDef, node, ns);\n        }\n    }\n    return {\n        fragment: fragment,\n        selectors: selectors,\n        groupSelectors: groupSelectors\n    };\n};\n\n// Return a simple hash code from a string. See http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/.\nexport const hashCode = function(str) {\n\n    let hash = 0;\n    if (str.length === 0) return hash;\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + c;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport const getByPath = function(obj, path, delimiter) {\n\n    var keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    var key;\n    var i = 0;\n    var length = keys.length;\n    while (i < length) {\n        key = keys[i++];\n        if (Object(obj) === obj && key in obj) {\n            obj = obj[key];\n        } else {\n            return undefined;\n        }\n    }\n    return obj;\n};\n\nconst isGetSafe = function(obj, key) {\n    // Prevent prototype pollution\n    // https://snyk.io/vuln/SNYK-JS-JSON8MERGEPATCH-1038399\n    if (key === 'constructor' && typeof obj[key] === 'function') {\n        return false;\n    }\n    if (key === '__proto__') {\n        return false;\n    }\n    return true;\n};\n\nexport const setByPath = function(obj, path, value, delimiter) {\n\n    const keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    const last = keys.length - 1;\n    let diver = obj;\n    let i = 0;\n\n    for (; i < last; i++) {\n        const key = keys[i];\n        if (!isGetSafe(diver, key)) return obj;\n        const value = diver[key];\n        // diver creates an empty object if there is no nested object under such a key.\n        // This means that one can populate an empty nested object with setByPath().\n        diver = value || (diver[key] = {});\n    }\n\n    diver[keys[last]] = value;\n\n    return obj;\n};\n\nexport const unsetByPath = function(obj, path, delimiter) {\n\n    const keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    const last = keys.length - 1;\n    let diver = obj;\n    let i = 0;\n\n    for (; i < last; i++) {\n        const key = keys[i];\n        if (!isGetSafe(diver, key)) return obj;\n        const value = diver[key];\n        if (!value) return obj;\n        diver = value;\n    }\n\n    delete diver[keys[last]];\n\n    return obj;\n};\n\nexport const flattenObject = function(obj, delim, stop) {\n\n    delim = delim || '/';\n    var ret = {};\n\n    for (var key in obj) {\n\n        if (!obj.hasOwnProperty(key)) continue;\n\n        var shouldGoDeeper = typeof obj[key] === 'object';\n        if (shouldGoDeeper && stop && stop(obj[key])) {\n            shouldGoDeeper = false;\n        }\n\n        if (shouldGoDeeper) {\n\n            var flatObject = flattenObject(obj[key], delim, stop);\n\n            for (var flatKey in flatObject) {\n                if (!flatObject.hasOwnProperty(flatKey)) continue;\n                ret[key + delim + flatKey] = flatObject[flatKey];\n            }\n\n        } else {\n\n            ret[key] = obj[key];\n        }\n    }\n\n    return ret;\n};\n\nexport const uuid = function() {\n\n    // credit: http://stackoverflow.com/posts/2117523/revisions\n\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = (Math.random() * 16) | 0;\n        var v = (c === 'x') ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n\n// Generate global unique id for obj and store it as a property of the object.\nexport const guid = function(obj) {\n\n    guid.id = guid.id || 1;\n    obj.id = (obj.id === undefined ? 'j_' + guid.id++ : obj.id);\n    return obj.id;\n};\n\nexport const toKebabCase = function(string) {\n\n    return string.replace(/[A-Z]/g, '-$&').toLowerCase();\n};\n\nexport const normalizeEvent = function(evt) {\n\n    var normalizedEvent = evt;\n    var touchEvt = evt.originalEvent && evt.originalEvent.changedTouches && evt.originalEvent.changedTouches[0];\n    if (touchEvt) {\n        for (var property in evt) {\n            // copy all the properties from the input event that are not\n            // defined on the touch event (functions included).\n            if (touchEvt[property] === undefined) {\n                touchEvt[property] = evt[property];\n            }\n        }\n        normalizedEvent = touchEvt;\n    }\n\n    // IE: evt.target could be set to SVGElementInstance for SVGUseElement\n    var target = normalizedEvent.target;\n    if (target) {\n        var useElement = target.correspondingUseElement;\n        if (useElement) normalizedEvent.target = useElement;\n    }\n\n    return normalizedEvent;\n};\n\nexport const nextFrame = (function() {\n\n    var raf;\n\n    if (typeof window !== 'undefined') {\n\n        raf = window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame;\n    }\n\n    if (!raf) {\n\n        var lastTime = 0;\n\n        raf = function(callback) {\n\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = setTimeout(function() {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n\n            lastTime = currTime + timeToCall;\n\n            return id;\n        };\n    }\n\n    return function(callback, context, ...rest) {\n        return (context !== undefined)\n            ? raf(callback.bind(context, ...rest))\n            : raf(callback);\n    };\n\n})();\n\nexport const cancelFrame = (function() {\n\n    var caf;\n    var client = typeof window != 'undefined';\n\n    if (client) {\n\n        caf = window.cancelAnimationFrame ||\n            window.webkitCancelAnimationFrame ||\n            window.webkitCancelRequestAnimationFrame ||\n            window.msCancelAnimationFrame ||\n            window.msCancelRequestAnimationFrame ||\n            window.oCancelAnimationFrame ||\n            window.oCancelRequestAnimationFrame ||\n            window.mozCancelAnimationFrame ||\n            window.mozCancelRequestAnimationFrame;\n    }\n\n    caf = caf || clearTimeout;\n\n    return client ? caf.bind(window) : caf;\n\n})();\n\n/**\n * @deprecated\n */\nexport const shapePerimeterConnectionPoint = function(linkView, view, magnet, reference) {\n\n    var bbox;\n    var spot;\n\n    if (!magnet) {\n\n        // There is no magnet, try to make the best guess what is the\n        // wrapping SVG element. This is because we want this \"smart\"\n        // connection points to work out of the box without the\n        // programmer to put magnet marks to any of the subelements.\n        // For example, we want the function to work on basic.Path elements\n        // without any special treatment of such elements.\n        // The code below guesses the wrapping element based on\n        // one simple assumption. The wrapping elemnet is the\n        // first child of the scalable group if such a group exists\n        // or the first child of the rotatable group if not.\n        // This makese sense because usually the wrapping element\n        // is below any other sub element in the shapes.\n        var scalable = view.$('.scalable')[0];\n        var rotatable = view.$('.rotatable')[0];\n\n        if (scalable && scalable.firstChild) {\n\n            magnet = scalable.firstChild;\n\n        } else if (rotatable && rotatable.firstChild) {\n\n            magnet = rotatable.firstChild;\n        }\n    }\n\n    if (magnet) {\n\n        spot = V(magnet).findIntersection(reference, linkView.paper.cells);\n        if (!spot) {\n            bbox = V(magnet).getBBox({ target: linkView.paper.cells });\n        }\n\n    } else {\n\n        bbox = view.model.getBBox();\n        spot = bbox.intersectionWithLineFromCenterToPoint(reference);\n    }\n    return spot || bbox.center();\n};\n\nexport const isPercentage = function(val) {\n\n    return isString(val) && val.slice(-1) === '%';\n};\n\nexport const parseCssNumeric = function(val, restrictUnits) {\n\n    function getUnit(validUnitExp) {\n\n        // one or more numbers, followed by\n        // any number of (\n        //  `.`, followed by\n        //  one or more numbers\n        // ), followed by\n        // `validUnitExp`, followed by\n        // end of string\n        var matches = new RegExp('(?:\\\\d+(?:\\\\.\\\\d+)*)(' + validUnitExp + ')$').exec(val);\n\n        if (!matches) return null;\n        return matches[1];\n    }\n\n    var number = parseFloat(val);\n\n    // if `val` cannot be parsed as a number, return `null`\n    if (Number.isNaN(number)) return null;\n\n    // else: we know `output.value`\n    var output = {};\n    output.value = number;\n\n    // determine the unit\n    var validUnitExp;\n    if (restrictUnits == null) {\n        // no restriction\n        // accept any unit, as well as no unit\n        validUnitExp = '[A-Za-z]*';\n\n    } else if (Array.isArray(restrictUnits)) {\n        // if this is an empty array, top restriction - return `null`\n        if (restrictUnits.length === 0) return null;\n\n        // else: restriction - an array of valid unit strings\n        validUnitExp = restrictUnits.join('|');\n\n    } else if (isString(restrictUnits)) {\n        // restriction - a single valid unit string\n        validUnitExp = restrictUnits;\n    }\n    var unit = getUnit(validUnitExp);\n\n    // if we found no matches for `restrictUnits`, return `null`\n    if (unit === null) return null;\n\n    // else: we know the unit\n    output.unit = unit;\n    return output;\n};\n\nexport const breakText = function(text, size, styles = {}, opt = {}) {\n\n    var width = size.width;\n    var height = size.height;\n\n    var svgDocument = opt.svgDocument || V('svg').node;\n    var textSpan = V('tspan').node;\n    var textElement = V('text').attr(styles).append(textSpan).node;\n    var textNode = document.createTextNode('');\n\n    // Prevent flickering\n    textElement.style.opacity = 0;\n    // Prevent FF from throwing an uncaught exception when `getBBox()`\n    // called on element that is not in the render tree (is not measurable).\n    // <tspan>.getComputedTextLength() returns always 0 in this case.\n    // Note that the `textElement` resp. `textSpan` can become hidden\n    // when it's appended to the DOM and a `display: none` CSS stylesheet\n    // rule gets applied.\n    textElement.style.display = 'block';\n    textSpan.style.display = 'block';\n\n    textSpan.appendChild(textNode);\n    svgDocument.appendChild(textElement); // lgtm [js/xss-through-dom]\n\n    if (!opt.svgDocument) {\n\n        document.body.appendChild(svgDocument);\n    }\n\n    var separator = opt.separator || ' ';\n    var eol = opt.eol || '\\n';\n    var hyphen = opt.hyphen ? new RegExp(opt.hyphen) : /[^\\w\\d]/;\n    var maxLineCount = opt.maxLineCount;\n    if (!isNumber(maxLineCount)) maxLineCount = Infinity;\n\n    var words = text.split(separator);\n    var full = [];\n    var lines = [];\n    var p, h;\n    var lineHeight;\n\n    for (var i = 0, l = 0, len = words.length; i < len; i++) {\n\n        var word = words[i];\n\n        if (!word) continue;\n\n        var isEol = false;\n        if (eol && word.indexOf(eol) >= 0) {\n            // word contains end-of-line character\n            if (word.length > 1) {\n                // separate word and continue cycle\n                var eolWords = word.split(eol);\n                for (var j = 0, jl = eolWords.length - 1; j < jl; j++) {\n                    eolWords.splice(2 * j + 1, 0, eol);\n                }\n                words.splice(i, 1, ...eolWords.filter(word => word !== ''));\n                i--;\n                len = words.length;\n                continue;\n            } else {\n                // creates a new line\n                lines[++l] = '';\n                isEol = true;\n            }\n        }\n\n        if (!isEol) {\n            textNode.data = lines[l] ? lines[l] + ' ' + word : word;\n\n            if (textSpan.getComputedTextLength() <= width) {\n\n                // the current line fits\n                lines[l] = textNode.data;\n\n                if (p || h) {\n                // We were partitioning. Put rest of the word onto next line\n                    full[l++] = true;\n\n                    // cancel partitioning and splitting by hyphens\n                    p = 0;\n                    h = 0;\n                }\n\n            } else {\n\n                if (!lines[l] || p) {\n\n                    var partition = !!p;\n\n                    p = word.length - 1;\n\n                    if (partition || !p) {\n\n                        // word has only one character.\n                        if (!p) {\n\n                            if (!lines[l]) {\n\n                                // we won't fit this text within our rect\n                                lines = [];\n\n                                break;\n                            }\n\n                            // partitioning didn't help on the non-empty line\n                            // try again, but this time start with a new line\n\n                            // cancel partitions created\n                            words.splice(i, 2, word + words[i + 1]);\n\n                            // adjust word length\n                            len--;\n\n                            full[l++] = true;\n                            i--;\n\n                            continue;\n                        }\n\n                        // move last letter to the beginning of the next word\n                        words[i] = word.substring(0, p);\n                        words[i + 1] = word.substring(p) + words[i + 1];\n\n                    } else {\n\n                        if (h) {\n                        // cancel splitting and put the words together again\n                            words.splice(i, 2, words[i] + words[i + 1]);\n                            h = 0;\n                        } else {\n                            var hyphenIndex = word.search(hyphen);\n                            if (hyphenIndex > -1 && hyphenIndex !== word.length - 1 && hyphenIndex !== 0) {\n                                h = hyphenIndex + 1;\n                                p = 0;\n                            }\n\n                            // We initiate partitioning or splitting\n                            // split the long word into two words\n                            words.splice(i, 1, word.substring(0, h || p), word.substring(h|| p));\n                            // adjust words length\n                            len++;\n\n                        }\n\n                        if (l && !full[l - 1]) {\n                        // if the previous line is not full, try to fit max part of\n                        // the current word there\n                            l--;\n                        }\n                    }\n\n                    i--;\n\n                    continue;\n                }\n\n                l++;\n                i--;\n            }\n        }\n        var lastL = null;\n\n        if (lines.length > maxLineCount) {\n\n            lastL = maxLineCount - 1;\n\n        } else if (height !== undefined) {\n\n            // if size.height is defined we have to check whether the height of the entire\n            // text exceeds the rect height\n\n            if (lineHeight === undefined) {\n\n                var heightValue;\n\n                // use the same defaults as in V.prototype.text\n                if (styles.lineHeight === 'auto') {\n                    heightValue = { value: 1.5, unit: 'em' };\n                } else {\n                    heightValue = parseCssNumeric(styles.lineHeight, ['em']) || { value: 1, unit: 'em' };\n                }\n\n                lineHeight = heightValue.value;\n                if (heightValue.unit === 'em') {\n                    lineHeight *= textElement.getBBox().height;\n                }\n            }\n\n            if (lineHeight * lines.length > height) {\n\n                // remove overflowing lines\n                lastL = Math.floor(height / lineHeight) - 1;\n            }\n        }\n\n        if (lastL !== null) {\n\n            lines.splice(lastL + 1);\n\n            // add ellipsis\n            var ellipsis = opt.ellipsis;\n            if (!ellipsis || lastL < 0) break;\n            if (typeof ellipsis !== 'string') ellipsis = '\\u2026';\n\n            var lastLine = lines[lastL];\n            if (!lastLine && !isEol) break;\n            var k = lastLine.length;\n            var lastLineWithOmission, lastChar, separatorChar;\n            do {\n                lastChar = lastLine[k];\n                lastLineWithOmission = lastLine.substring(0, k);\n                if (!lastChar) {\n                    separatorChar = (typeof separator === 'string') ? separator : ' ';\n                    lastLineWithOmission += separatorChar;\n                } else if (lastChar.match(separator)) {\n                    lastLineWithOmission += lastChar;\n                }\n                lastLineWithOmission += ellipsis;\n                textNode.data = lastLineWithOmission;\n                if (textSpan.getComputedTextLength() <= width) {\n                    lines[lastL] = lastLineWithOmission;\n                    break;\n                }\n                k--;\n            } while (k >= 0);\n            break;\n        }\n    }\n\n    if (opt.svgDocument) {\n\n        // svg document was provided, remove the text element only\n        svgDocument.removeChild(textElement);\n\n    } else {\n\n        // clean svg document\n        document.body.removeChild(svgDocument);\n    }\n\n    return lines.join(eol);\n};\n\n// Sanitize HTML\n// Based on https://gist.github.com/ufologist/5a0da51b2b9ef1b861c30254172ac3c9\n// Parses a string into an array of DOM nodes.\n// Then outputs it back as a string.\nexport const sanitizeHTML = function(html) {\n\n    // Ignores tags that are invalid inside a <div> tag (e.g. <body>, <head>)\n\n    // If documentContext (second parameter) is not specified or given as `null` or `undefined`, a new document is used.\n    // Inline events will not execute when the HTML is parsed; this includes, for example, sending GET requests for images.\n\n    // If keepScripts (last parameter) is `false`, scripts are not executed.\n    var output = $($.parseHTML('<div>' + html + '</div>', null, false));\n\n    output.find('*').each(function() { // for all nodes\n        var currentNode = this;\n\n        $.each(currentNode.attributes, function() { // for all attributes in each node\n            var currentAttribute = this;\n\n            var attrName = currentAttribute.name;\n            var attrValue = currentAttribute.value;\n\n            // Remove attribute names that start with \"on\" (e.g. onload, onerror...).\n            // Remove attribute values that start with \"javascript:\" pseudo protocol (e.g. `href=\"javascript:alert(1)\"`).\n            if (attrName.startsWith('on') || attrValue.startsWith('javascript:') || attrValue.startsWith('data:') || attrValue.startsWith('vbscript:')) {\n                $(currentNode).removeAttr(attrName);\n            }\n        });\n    });\n\n    return output.html();\n};\n\n// Download `blob` as file with `fileName`.\n// Does not work in IE9.\nexport const downloadBlob = function(blob, fileName) {\n\n    if (window.navigator.msSaveBlob) { // requires IE 10+\n        // pulls up a save dialog\n        window.navigator.msSaveBlob(blob, fileName);\n\n    } else { // other browsers\n        // downloads directly in Chrome and Safari\n\n        // presents a save/open dialog in Firefox\n        // Firefox bug: `from` field in save dialog always shows `from:blob:`\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1053327\n\n        var url = window.URL.createObjectURL(blob);\n        var link = document.createElement('a');\n\n        link.href = url;\n        link.download = fileName;\n        document.body.appendChild(link);\n\n        link.click();\n\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url); // mark the url for garbage collection\n    }\n};\n\n// Download `dataUri` as file with `fileName`.\n// Does not work in IE9.\nexport const downloadDataUri = function(dataUri, fileName) {\n\n    const blob = dataUriToBlob(dataUri);\n    downloadBlob(blob, fileName);\n};\n\n// Convert an uri-encoded data component (possibly also base64-encoded) to a blob.\nexport const dataUriToBlob = function(dataUri) {\n\n    // first, make sure there are no newlines in the data uri\n    dataUri = dataUri.replace(/\\s/g, '');\n    dataUri = decodeURIComponent(dataUri);\n\n    var firstCommaIndex = dataUri.indexOf(','); // split dataUri as `dataTypeString`,`data`\n\n    var dataTypeString = dataUri.slice(0, firstCommaIndex); // e.g. 'data:image/jpeg;base64'\n    var mimeString = dataTypeString.split(':')[1].split(';')[0]; // e.g. 'image/jpeg'\n\n    var data = dataUri.slice(firstCommaIndex + 1);\n    var decodedString;\n    if (dataTypeString.indexOf('base64') >= 0) { // data may be encoded in base64\n        decodedString = atob(data); // decode data\n    } else {\n        // convert the decoded string to UTF-8\n        decodedString = unescape(encodeURIComponent(data));\n    }\n    // write the bytes of the string to a typed array\n    var ia = new Uint8Array(decodedString.length);\n    for (var i = 0; i < decodedString.length; i++) {\n        ia[i] = decodedString.charCodeAt(i);\n    }\n\n    return new Blob([ia], { type: mimeString }); // return the typed array as Blob\n};\n\n// Read an image at `url` and return it as base64-encoded data uri.\n// The mime type of the image is inferred from the `url` file extension.\n// If data uri is provided as `url`, it is returned back unchanged.\n// `callback` is a method with `err` as first argument and `dataUri` as second argument.\n// Works with IE9.\nexport const imageToDataUri = function(url, callback) {\n\n    if (!url || url.substr(0, 'data:'.length) === 'data:') {\n        // No need to convert to data uri if it is already in data uri.\n\n        // This not only convenient but desired. For example,\n        // IE throws a security error if data:image/svg+xml is used to render\n        // an image to the canvas and an attempt is made to read out data uri.\n        // Now if our image is already in data uri, there is no need to render it to the canvas\n        // and so we can bypass this error.\n\n        // Keep the async nature of the function.\n        return setTimeout(function() {\n            callback(null, url);\n        }, 0);\n    }\n\n    // chrome, IE10+\n    var modernHandler = function(xhr, callback) {\n\n        if (xhr.status === 200) {\n\n            var reader = new FileReader();\n\n            reader.onload = function(evt) {\n                var dataUri = evt.target.result;\n                callback(null, dataUri);\n            };\n\n            reader.onerror = function() {\n                callback(new Error('Failed to load image ' + url));\n            };\n\n            reader.readAsDataURL(xhr.response);\n        } else {\n            callback(new Error('Failed to load image ' + url));\n        }\n    };\n\n    var legacyHandler = function(xhr, callback) {\n\n        var Uint8ToString = function(u8a) {\n            var CHUNK_SZ = 0x8000;\n            var c = [];\n            for (var i = 0; i < u8a.length; i += CHUNK_SZ) {\n                c.push(String.fromCharCode.apply(null, u8a.subarray(i, i + CHUNK_SZ)));\n            }\n            return c.join('');\n        };\n\n        if (xhr.status === 200) {\n\n            var bytes = new Uint8Array(xhr.response);\n\n            var suffix = (url.split('.').pop()) || 'png';\n            var map = {\n                'svg': 'svg+xml'\n            };\n            var meta = 'data:image/' + (map[suffix] || suffix) + ';base64,';\n            var b64encoded = meta + btoa(Uint8ToString(bytes));\n            callback(null, b64encoded);\n        } else {\n            callback(new Error('Failed to load image ' + url));\n        }\n    };\n\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n    xhr.addEventListener('error', function() {\n        callback(new Error('Failed to load image ' + url));\n    });\n\n    xhr.responseType = window.FileReader ? 'blob' : 'arraybuffer';\n\n    xhr.addEventListener('load', function() {\n        if (window.FileReader) {\n            modernHandler(xhr, callback);\n        } else {\n            legacyHandler(xhr, callback);\n        }\n    });\n\n    xhr.send();\n};\n\nexport const getElementBBox = function(el) {\n\n    var $el = $(el);\n    if ($el.length === 0) {\n        throw new Error('Element not found');\n    }\n\n    var element = $el[0];\n    var doc = element.ownerDocument;\n    var clientBBox = element.getBoundingClientRect();\n\n    var strokeWidthX = 0;\n    var strokeWidthY = 0;\n\n    // Firefox correction\n    if (element.ownerSVGElement) {\n\n        var vel = V(element);\n        var bbox = vel.getBBox({ target: vel.svg() });\n\n        // if FF getBoundingClientRect includes stroke-width, getBBox doesn't.\n        // To unify this across all browsers we need to adjust the final bBox with `stroke-width` value.\n        strokeWidthX = (clientBBox.width - bbox.width);\n        strokeWidthY = (clientBBox.height - bbox.height);\n    }\n\n    return {\n        x: clientBBox.left + window.pageXOffset - doc.documentElement.offsetLeft + strokeWidthX / 2,\n        y: clientBBox.top + window.pageYOffset - doc.documentElement.offsetTop + strokeWidthY / 2,\n        width: clientBBox.width - strokeWidthX,\n        height: clientBBox.height - strokeWidthY\n    };\n};\n\n\n// Highly inspired by the jquery.sortElements plugin by Padolsey.\n// See http://james.padolsey.com/javascript/sorting-elements-with-jquery/.\nexport const sortElements = function(elements, comparator) {\n\n    var $elements = $(elements);\n    var placements = $elements.map(function() {\n\n        var sortElement = this;\n        var parentNode = sortElement.parentNode;\n        // Since the element itself will change position, we have\n        // to have some way of storing it's original position in\n        // the DOM. The easiest way is to have a 'flag' node:\n        var nextSibling = parentNode.insertBefore(document.createTextNode(''), sortElement.nextSibling);\n\n        return function() {\n\n            if (parentNode === this) {\n                throw new Error('You can\\'t sort elements if any one is a descendant of another.');\n            }\n\n            // Insert before flag:\n            parentNode.insertBefore(this, nextSibling);\n            // Remove flag:\n            parentNode.removeChild(nextSibling);\n        };\n    });\n\n    return Array.prototype.sort.call($elements, comparator).each(function(i) {\n        placements[i].call(this);\n    });\n};\n\n// Sets attributes on the given element and its descendants based on the selector.\n// `attrs` object: { [SELECTOR1]: { attrs1 }, [SELECTOR2]: { attrs2}, ... } e.g. { 'input': { color : 'red' }}\nexport const setAttributesBySelector = function(element, attrs) {\n\n    var $element = $(element);\n\n    forIn(attrs, function(attrs, selector) {\n        var $elements = $element.find(selector).addBack().filter(selector);\n        // Make a special case for setting classes.\n        // We do not want to overwrite any existing class.\n        if (has(attrs, 'class')) {\n            $elements.addClass(attrs['class']);\n            attrs = omit(attrs, 'class');\n        }\n        $elements.attr(attrs);\n    });\n};\n\n// Return a new object with all four sides (top, right, bottom, left) in it.\n// Value of each side is taken from the given argument (either number or object).\n// Default value for a side is 0.\n// Examples:\n// normalizeSides(5) --> { top: 5, right: 5, bottom: 5, left: 5 }\n// normalizeSides({ horizontal: 5 }) --> { top: 0, right: 5, bottom: 0, left: 5 }\n// normalizeSides({ left: 5 }) --> { top: 0, right: 0, bottom: 0, left: 5 }\n// normalizeSides({ horizontal: 10, left: 5 }) --> { top: 0, right: 10, bottom: 0, left: 5 }\n// normalizeSides({ horizontal: 0, left: 5 }) --> { top: 0, right: 0, bottom: 0, left: 5 }\nexport const normalizeSides = function(box) {\n\n    if (Object(box) !== box) { // `box` is not an object\n        var val = 0; // `val` left as 0 if `box` cannot be understood as finite number\n        if (isFinite(box)) val = +box; // actually also accepts string numbers (e.g. '100')\n\n        return { top: val, right: val, bottom: val, left: val };\n    }\n\n    // `box` is an object\n    var top, right, bottom, left;\n    top = right = bottom = left = 0;\n\n    if (isFinite(box.vertical)) top = bottom = +box.vertical;\n    if (isFinite(box.horizontal)) right = left = +box.horizontal;\n\n    if (isFinite(box.top)) top = +box.top; // overwrite vertical\n    if (isFinite(box.right)) right = +box.right; // overwrite horizontal\n    if (isFinite(box.bottom)) bottom = +box.bottom; // overwrite vertical\n    if (isFinite(box.left)) left = +box.left; // overwrite horizontal\n\n    return { top: top, right: right, bottom: bottom, left: left };\n};\n\nexport const timing = {\n\n    linear: function(t) {\n        return t;\n    },\n\n    quad: function(t) {\n        return t * t;\n    },\n\n    cubic: function(t) {\n        return t * t * t;\n    },\n\n    inout: function(t) {\n        if (t <= 0) return 0;\n        if (t >= 1) return 1;\n        var t2 = t * t;\n        var t3 = t2 * t;\n        return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n    },\n\n    exponential: function(t) {\n        return Math.pow(2, 10 * (t - 1));\n    },\n\n    bounce: function(t) {\n        for (var a = 0, b = 1; 1; a += b, b /= 2) {\n            if (t >= (7 - 4 * a) / 11) {\n                var q = (11 - 6 * a - 11 * t) / 4;\n                return -q * q + b * b;\n            }\n        }\n    },\n\n    reverse: function(f) {\n        return function(t) {\n            return 1 - f(1 - t);\n        };\n    },\n\n    reflect: function(f) {\n        return function(t) {\n            return .5 * (t < .5 ? f(2 * t) : (2 - f(2 - 2 * t)));\n        };\n    },\n\n    clamp: function(f, n, x) {\n        n = n || 0;\n        x = x || 1;\n        return function(t) {\n            var r = f(t);\n            return r < n ? n : r > x ? x : r;\n        };\n    },\n\n    back: function(s) {\n        if (!s) s = 1.70158;\n        return function(t) {\n            return t * t * ((s + 1) * t - s);\n        };\n    },\n\n    elastic: function(x) {\n        if (!x) x = 1.5;\n        return function(t) {\n            return Math.pow(2, 10 * (t - 1)) * Math.cos(20 * Math.PI * x / 3 * t);\n        };\n    }\n};\n\nexport const interpolate = {\n\n    number: function(a, b) {\n        var d = b - a;\n        return function(t) {\n            return a + d * t;\n        };\n    },\n\n    object: function(a, b) {\n        var s = Object.keys(a);\n        return function(t) {\n            var i, p;\n            var r = {};\n            for (i = s.length - 1; i != -1; i--) {\n                p = s[i];\n                r[p] = a[p] + (b[p] - a[p]) * t;\n            }\n            return r;\n        };\n    },\n\n    hexColor: function(a, b) {\n\n        var ca = parseInt(a.slice(1), 16);\n        var cb = parseInt(b.slice(1), 16);\n        var ra = ca & 0x0000ff;\n        var rd = (cb & 0x0000ff) - ra;\n        var ga = ca & 0x00ff00;\n        var gd = (cb & 0x00ff00) - ga;\n        var ba = ca & 0xff0000;\n        var bd = (cb & 0xff0000) - ba;\n\n        return function(t) {\n\n            var r = (ra + rd * t) & 0x000000ff;\n            var g = (ga + gd * t) & 0x0000ff00;\n            var b = (ba + bd * t) & 0x00ff0000;\n\n            return '#' + (1 << 24 | r | g | b).toString(16).slice(1);\n        };\n    },\n\n    unit: function(a, b) {\n\n        var r = /(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/;\n        var ma = r.exec(a);\n        var mb = r.exec(b);\n        var p = mb[1].indexOf('.');\n        var f = p > 0 ? mb[1].length - p - 1 : 0;\n        a = +ma[1];\n        var d = +mb[1] - a;\n        var u = ma[2];\n\n        return function(t) {\n            return (a + d * t).toFixed(f) + u;\n        };\n    }\n};\n\n// SVG filters.\n// (values in parentheses are default values)\nexport const filter = {\n\n    // `color` ... outline color ('blue')\n    // `width`... outline width (1)\n    // `opacity` ... outline opacity (1)\n    // `margin` ... gap between outline and the element (2)\n    outline: function(args) {\n\n        var tpl = '<filter><feFlood flood-color=\"${color}\" flood-opacity=\"${opacity}\" result=\"colored\"/><feMorphology in=\"SourceAlpha\" result=\"morphedOuter\" operator=\"dilate\" radius=\"${outerRadius}\" /><feMorphology in=\"SourceAlpha\" result=\"morphedInner\" operator=\"dilate\" radius=\"${innerRadius}\" /><feComposite result=\"morphedOuterColored\" in=\"colored\" in2=\"morphedOuter\" operator=\"in\"/><feComposite operator=\"xor\" in=\"morphedOuterColored\" in2=\"morphedInner\" result=\"outline\"/><feMerge><feMergeNode in=\"outline\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n\n        var margin = Number.isFinite(args.margin) ? args.margin : 2;\n        var width = Number.isFinite(args.width) ? args.width : 1;\n\n        return template(tpl)({\n            color: args.color || 'blue',\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1,\n            outerRadius: margin + width,\n            innerRadius: margin\n        });\n    },\n\n    // `color` ... color ('red')\n    // `width`... width (1)\n    // `blur` ... blur (0)\n    // `opacity` ... opacity (1)\n    highlight: function(args) {\n\n        var tpl = '<filter><feFlood flood-color=\"${color}\" flood-opacity=\"${opacity}\" result=\"colored\"/><feMorphology result=\"morphed\" in=\"SourceGraphic\" operator=\"dilate\" radius=\"${width}\"/><feComposite result=\"composed\" in=\"colored\" in2=\"morphed\" operator=\"in\"/><feGaussianBlur result=\"blured\" in=\"composed\" stdDeviation=\"${blur}\"/><feBlend in=\"SourceGraphic\" in2=\"blured\" mode=\"normal\"/></filter>';\n\n        return template(tpl)({\n            color: args.color || 'red',\n            width: Number.isFinite(args.width) ? args.width : 1,\n            blur: Number.isFinite(args.blur) ? args.blur : 0,\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1\n        });\n    },\n\n    // `x` ... horizontal blur (2)\n    // `y` ... vertical blur (optional)\n    blur: function(args) {\n\n        var x = Number.isFinite(args.x) ? args.x : 2;\n\n        return template('<filter><feGaussianBlur stdDeviation=\"${stdDeviation}\"/></filter>')({\n            stdDeviation: Number.isFinite(args.y) ? [x, args.y] : x\n        });\n    },\n\n    // `dx` ... horizontal shift (0)\n    // `dy` ... vertical shift (0)\n    // `blur` ... blur (4)\n    // `color` ... color ('black')\n    // `opacity` ... opacity (1)\n    dropShadow: function(args) {\n\n        var tpl = 'SVGFEDropShadowElement' in window\n            ? '<filter><feDropShadow stdDeviation=\"${blur}\" dx=\"${dx}\" dy=\"${dy}\" flood-color=\"${color}\" flood-opacity=\"${opacity}\"/></filter>'\n            : '<filter><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"${blur}\"/><feOffset dx=\"${dx}\" dy=\"${dy}\" result=\"offsetblur\"/><feFlood flood-color=\"${color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"${opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n\n        return template(tpl)({\n            dx: args.dx || 0,\n            dy: args.dy || 0,\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1,\n            color: args.color || 'black',\n            blur: Number.isFinite(args.blur) ? args.blur : 4\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely grayscale. A value of 0 leaves the input unchanged.\n    grayscale: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"matrix\" values=\"${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0\"/></filter>')({\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely sepia. A value of 0 leaves the input unchanged.\n    sepia: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"matrix\" values=\"${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0\"/></filter>')({\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 0 is completely un-saturated. A value of 1 (default) leaves the input unchanged.\n    saturate: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"saturate\" values=\"${amount}\"/></filter>')({\n            amount: 1 - amount\n        });\n    },\n\n    // `angle` ...  the number of degrees around the color circle the input samples will be adjusted (0).\n    hueRotate: function(args) {\n\n        return template('<filter><feColorMatrix type=\"hueRotate\" values=\"${angle}\"/></filter>')({\n            angle: args.angle || 0\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely inverted. A value of 0 leaves the input unchanged.\n    invert: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"table\" tableValues=\"${amount} ${amount2}\"/><feFuncG type=\"table\" tableValues=\"${amount} ${amount2}\"/><feFuncB type=\"table\" tableValues=\"${amount} ${amount2}\"/></feComponentTransfer></filter>')({\n            amount: amount,\n            amount2: 1 - amount\n        });\n    },\n\n    // `amount` ... proportion of the conversion (1). A value of 0 will create an image that is completely black. A value of 1 (default) leaves the input unchanged.\n    brightness: function(args) {\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"linear\" slope=\"${amount}\"/><feFuncG type=\"linear\" slope=\"${amount}\"/><feFuncB type=\"linear\" slope=\"${amount}\"/></feComponentTransfer></filter>')({\n            amount: Number.isFinite(args.amount) ? args.amount : 1\n        });\n    },\n\n    // `amount` ... proportion of the conversion (1). A value of 0 will create an image that is completely black. A value of 1 (default) leaves the input unchanged.\n    contrast: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/><feFuncG type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/><feFuncB type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/></feComponentTransfer></filter>')({\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    }\n};\n\nexport const format = {\n\n    // Formatting numbers via the Python Format Specification Mini-language.\n    // See http://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language.\n    // Heavilly inspired by the D3.js library implementation.\n    number: function(specifier, value, locale) {\n\n        locale = locale || {\n\n            currency: ['$', ''],\n            decimal: '.',\n            thousands: ',',\n            grouping: [3]\n        };\n\n        // See Python format specification mini-language: http://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language.\n        // [[fill]align][sign][symbol][0][width][,][.precision][type]\n        var re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n\n        var match = re.exec(specifier);\n        var fill = match[1] || ' ';\n        var align = match[2] || '>';\n        var sign = match[3] || '';\n        var symbol = match[4] || '';\n        var zfill = match[5];\n        var width = +match[6];\n        var comma = match[7];\n        var precision = match[8];\n        var type = match[9];\n        var scale = 1;\n        var prefix = '';\n        var suffix = '';\n        var integer = false;\n\n        if (precision) precision = +precision.substring(1);\n\n        if (zfill || fill === '0' && align === '=') {\n            zfill = fill = '0';\n            align = '=';\n            if (comma) width -= Math.floor((width - 1) / 4);\n        }\n\n        switch (type) {\n            case 'n':\n                comma = true;\n                type = 'g';\n                break;\n            case '%':\n                scale = 100;\n                suffix = '%';\n                type = 'f';\n                break;\n            case 'p':\n                scale = 100;\n                suffix = '%';\n                type = 'r';\n                break;\n            case 'b':\n            case 'o':\n            case 'x':\n            case 'X':\n                if (symbol === '#') prefix = '0' + type.toLowerCase();\n                break;\n            case 'c':\n            case 'd':\n                integer = true;\n                precision = 0;\n                break;\n            case 's':\n                scale = -1;\n                type = 'r';\n                break;\n        }\n\n        if (symbol === '$') {\n            prefix = locale.currency[0];\n            suffix = locale.currency[1];\n        }\n\n        // If no precision is specified for `'r'`, fallback to general notation.\n        if (type == 'r' && !precision) type = 'g';\n\n        // Ensure that the requested precision is in the supported range.\n        if (precision != null) {\n            if (type == 'g') precision = Math.max(1, Math.min(21, precision));\n            else if (type == 'e' || type == 'f') precision = Math.max(0, Math.min(20, precision));\n        }\n\n        var zcomma = zfill && comma;\n\n        // Return the empty string for floats formatted as ints.\n        if (integer && (value % 1)) return '';\n\n        // Convert negative to positive, and record the sign prefix.\n        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, '-') : sign;\n\n        var fullSuffix = suffix;\n\n        // Apply the scale, computing it from the value's exponent for si format.\n        // Preserve the existing suffix, if any, such as the currency symbol.\n        if (scale < 0) {\n            var unit = this.prefix(value, precision);\n            value = unit.scale(value);\n            fullSuffix = unit.symbol + suffix;\n        } else {\n            value *= scale;\n        }\n\n        // Convert to the desired precision.\n        value = this.convert(type, value, precision);\n\n        // Break the value into the integer part (before) and decimal part (after).\n        var i = value.lastIndexOf('.');\n        var before = i < 0 ? value : value.substring(0, i);\n        var after = i < 0 ? '' : locale.decimal + value.substring(i + 1);\n\n        function formatGroup(value) {\n\n            var i = value.length;\n            var t = [];\n            var j = 0;\n            var g = locale.grouping[0];\n            while (i > 0 && g > 0) {\n                t.push(value.substring(i -= g, i + g));\n                g = locale.grouping[j = (j + 1) % locale.grouping.length];\n            }\n            return t.reverse().join(locale.thousands);\n        }\n\n        // If the fill character is not `'0'`, grouping is applied before padding.\n        if (!zfill && comma && locale.grouping) {\n\n            before = formatGroup(before);\n        }\n\n        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length);\n        var padding = length < width ? new Array(length = width - length + 1).join(fill) : '';\n\n        // If the fill character is `'0'`, grouping is applied after padding.\n        if (zcomma) before = formatGroup(padding + before);\n\n        // Apply prefix.\n        negative += prefix;\n\n        // Rejoin integer and decimal parts.\n        value = before + after;\n\n        return (align === '<' ? negative + value + padding\n            : align === '>' ? padding + negative + value\n                : align === '^' ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length)\n                    : negative + (zcomma ? value : padding + value)) + fullSuffix;\n    },\n\n    // Formatting string via the Python Format string.\n    // See https://docs.python.org/2/library/string.html#format-string-syntax)\n    string: function(formatString, value) {\n\n        var fieldDelimiterIndex;\n        var fieldDelimiter = '{';\n        var endPlaceholder = false;\n        var formattedStringArray = [];\n\n        while ((fieldDelimiterIndex = formatString.indexOf(fieldDelimiter)) !== -1) {\n\n            var pieceFormattedString, formatSpec, fieldName;\n\n            pieceFormattedString = formatString.slice(0, fieldDelimiterIndex);\n\n            if (endPlaceholder) {\n                formatSpec = pieceFormattedString.split(':');\n                fieldName = formatSpec.shift().split('.');\n                pieceFormattedString = value;\n\n                for (var i = 0; i < fieldName.length; i++)\n                    pieceFormattedString = pieceFormattedString[fieldName[i]];\n\n                if (formatSpec.length)\n                    pieceFormattedString = this.number(formatSpec, pieceFormattedString);\n            }\n\n            formattedStringArray.push(pieceFormattedString);\n\n            formatString = formatString.slice(fieldDelimiterIndex + 1);\n            endPlaceholder = !endPlaceholder;\n            fieldDelimiter = (endPlaceholder) ? '}' : '{';\n        }\n        formattedStringArray.push(formatString);\n\n        return formattedStringArray.join('');\n    },\n\n    convert: function(type, value, precision) {\n\n        switch (type) {\n            case 'b':\n                return value.toString(2);\n            case 'c':\n                return String.fromCharCode(value);\n            case 'o':\n                return value.toString(8);\n            case 'x':\n                return value.toString(16);\n            case 'X':\n                return value.toString(16).toUpperCase();\n            case 'g':\n                return value.toPrecision(precision);\n            case 'e':\n                return value.toExponential(precision);\n            case 'f':\n                return value.toFixed(precision);\n            case 'r':\n                return (value = this.round(value, this.precision(value, precision))).toFixed(Math.max(0, Math.min(20, this.precision(value * (1 + 1e-15), precision))));\n            default:\n                return value + '';\n        }\n    },\n\n    round: function(value, precision) {\n\n        return precision\n            ? Math.round(value * (precision = Math.pow(10, precision))) / precision\n            : Math.round(value);\n    },\n\n    precision: function(value, precision) {\n\n        return precision - (value ? Math.ceil(Math.log(value) / Math.LN10) : 1);\n    },\n\n    prefix: function(value, precision) {\n\n        var prefixes = ['y', 'z', 'a', 'f', 'p', 'n', '', 'm', '', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'].map(function(d, i) {\n            var k = Math.pow(10, Math.abs(8 - i) * 3);\n            return {\n                scale: i > 8 ? function(d) {\n                    return d / k;\n                } : function(d) {\n                    return d * k;\n                },\n                symbol: d\n            };\n        });\n\n        var i = 0;\n        if (value) {\n            if (value < 0) value *= -1;\n            if (precision) value = this.round(value, this.precision(value, precision));\n            i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n            i = Math.max(-24, Math.min(24, Math.floor((i <= 0 ? i + 1 : i - 1) / 3) * 3));\n        }\n        return prefixes[8 + i / 3];\n    }\n};\n\n/*\n    Pre-compile the HTML to be used as a template.\n*/\nexport const template = function(html) {\n\n    /*\n        Must support the variation in templating syntax found here:\n        https://lodash.com/docs#template\n    */\n    var regex = /<%= ([^ ]+) %>|\\$\\{ ?([^{} ]+) ?\\}|\\{\\{([^{} ]+)\\}\\}/g;\n\n    return function(data) {\n\n        data = data || {};\n\n        return html.replace(regex, function(match) {\n\n            var args = Array.from(arguments);\n            var attr = args.slice(1, 4).find(function(_attr) {\n                return !!_attr;\n            });\n\n            var attrArray = attr.split('.');\n            var value = data[attrArray.shift()];\n\n            while (value !== undefined && attrArray.length) {\n                value = value[attrArray.shift()];\n            }\n\n            return value !== undefined ? value : '';\n        });\n    };\n};\n\n/**\n * @param {Element} el Element, which content is intent to display in full-screen mode, 'window.top.document.body' is default.\n */\nexport const toggleFullScreen = function(el) {\n\n    var topDocument = window.top.document;\n    el = el || topDocument.body;\n\n    function prefixedResult(el, prop) {\n\n        var prefixes = ['webkit', 'moz', 'ms', 'o', ''];\n        for (var i = 0; i < prefixes.length; i++) {\n            var prefix = prefixes[i];\n            var propName = prefix ? (prefix + prop) : (prop.substr(0, 1).toLowerCase() + prop.substr(1));\n            if (el[propName] !== undefined) {\n                return isFunction(el[propName]) ? el[propName]() : el[propName];\n            }\n        }\n    }\n\n    if (prefixedResult(topDocument, 'FullscreenElement') || prefixedResult(topDocument, 'FullScreenElement')) {\n        prefixedResult(topDocument, 'ExitFullscreen') || // Spec.\n        prefixedResult(topDocument, 'CancelFullScreen'); // Firefox\n    } else {\n        prefixedResult(el, 'RequestFullscreen') || // Spec.\n        prefixedResult(el, 'RequestFullScreen'); // Firefox\n    }\n};\n\n// Deprecated\n// Copy all the properties to the first argument from the following arguments.\n// All the properties will be overwritten by the properties from the following\n// arguments. Inherited properties are ignored.\nexport const mixin = _.assign;\n\n// Deprecated\n// Copy all properties to the first argument from the following\n// arguments only in case if they don't exists in the first argument.\n// All the function propererties in the first argument will get\n// additional property base pointing to the extenders same named\n// property function's call method.\nexport const supplement = _.defaults;\n\n// Same as `mixin()` but deep version.\nexport const deepMixin = mixin;\n\n// Deprecated\n// Same as `supplement()` but deep version.\nexport const deepSupplement = _.defaultsDeep;\n\n// Replacements for deprecated functions\nexport const assign = _.assign;\nexport const defaults = _.defaults;\n// no better-named replacement for `deepMixin`\nexport const defaultsDeep = _.defaultsDeep;\n\n// Lodash 3 vs 4 incompatible\nexport const invoke = _.invokeMap || _.invoke;\nexport const sortedIndex = _.sortedIndexBy || _.sortedIndex;\nexport const uniq = _.uniqBy || _.uniq;\n\nexport const clone = _.clone;\nexport const cloneDeep = _.cloneDeep;\nexport const isEmpty = _.isEmpty;\nexport const isEqual = _.isEqual;\nexport const isFunction = _.isFunction;\nexport const isPlainObject = _.isPlainObject;\nexport const toArray = _.toArray;\nexport const debounce = _.debounce;\nexport const groupBy = _.groupBy;\nexport const sortBy = _.sortBy;\nexport const flattenDeep = _.flattenDeep;\nexport const without = _.without;\nexport const difference = _.difference;\nexport const intersection = _.intersection;\nexport const union = _.union;\nexport const has = _.has;\nexport const result = _.result;\nexport const omit = _.omit;\nexport const pick = _.pick;\nexport const bindAll = _.bindAll;\nexport const forIn = _.forIn;\nexport const camelCase = _.camelCase;\nexport const uniqueId = _.uniqueId;\n\nexport const merge = function() {\n    if (_.mergeWith) {\n        var args = Array.from(arguments);\n        var last = args[args.length - 1];\n\n        var customizer = isFunction(last) ? last : noop;\n        args.push(function(a, b) {\n            var customResult = customizer(a, b);\n            if (customResult !== undefined) {\n                return customResult;\n            }\n\n            if (Array.isArray(a) && !Array.isArray(b)) {\n                return b;\n            }\n        });\n\n        return _.mergeWith.apply(this, args);\n    }\n    return _.merge.apply(this, arguments);\n};\n\nexport const isBoolean = function(value) {\n    var toString = Object.prototype.toString;\n    return value === true || value === false || (!!value && typeof value === 'object' && toString.call(value) === '[object Boolean]');\n};\n\nexport const isObject = function(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function');\n};\n\nexport const isNumber = function(value) {\n    var toString = Object.prototype.toString;\n    return typeof value === 'number' || (!!value && typeof value === 'object' && toString.call(value) === '[object Number]');\n};\n\nexport const isString = function(value) {\n    var toString = Object.prototype.toString;\n    return typeof value === 'string' || (!!value && typeof value === 'object' && toString.call(value) === '[object String]');\n};\n\nexport const noop = function() {\n};\n","import { uniq, toArray, isEmpty } from './util.mjs';\n\n// Clone `cells` returning an object that maps the original cell ID to the clone. The number\n// of clones is exactly the same as the `cells.length`.\n// This function simply clones all the `cells`. However, it also reconstructs\n// all the `source/target` and `parent/embed` references within the `cells`.\n// This is the main difference from the `cell.clone()` method. The\n// `cell.clone()` method works on one single cell only.\n// For example, for a graph: `A --- L ---> B`, `cloneCells([A, L, B])`\n// returns `[A2, L2, B2]` resulting to a graph: `A2 --- L2 ---> B2`, i.e.\n// the source and target of the link `L2` is changed to point to `A2` and `B2`.\nexport function cloneCells(cells) {\n\n    cells = uniq(cells);\n\n    // A map of the form [original cell ID] -> [clone] helping\n    // us to reconstruct references for source/target and parent/embeds.\n    // This is also the returned value.\n    const cloneMap = toArray(cells).reduce(function(map, cell) {\n        map[cell.id] = cell.clone();\n        return map;\n    }, {});\n\n    toArray(cells).forEach(function(cell) {\n\n        const clone = cloneMap[cell.id];\n        // assert(clone exists)\n\n        if (clone.isLink()) {\n            const source = clone.source();\n            const target = clone.target();\n            if (source.id && cloneMap[source.id]) {\n                // Source points to an element and the element is among the clones.\n                // => Update the source of the cloned link.\n                clone.prop('source/id', cloneMap[source.id].id);\n            }\n            if (target.id && cloneMap[target.id]) {\n                // Target points to an element and the element is among the clones.\n                // => Update the target of the cloned link.\n                clone.prop('target/id', cloneMap[target.id].id);\n            }\n        }\n\n        // Find the parent of the original cell\n        const parent = cell.get('parent');\n        if (parent && cloneMap[parent]) {\n            clone.set('parent', cloneMap[parent].id);\n        }\n\n        // Find the embeds of the original cell\n        const embeds = toArray(cell.get('embeds')).reduce(function(newEmbeds, embed) {\n            // Embedded cells that are not being cloned can not be carried\n            // over with other embedded cells.\n            if (cloneMap[embed]) {\n                newEmbeds.push(cloneMap[embed].id);\n            }\n            return newEmbeds;\n        }, []);\n\n        if (!isEmpty(embeds)) {\n            clone.set('embeds', embeds);\n        }\n    });\n\n    return cloneMap;\n}\n\n","import { Point, Path, Polyline } from '../g/index.mjs';\nimport { assign, isPlainObject, pick, isObject, isPercentage, breakText } from '../util/util.mjs';\nimport $ from 'jquery';\nimport V from '../V/index.mjs';\n\nfunction setWrapper(attrName, dimension) {\n    return function(value, refBBox) {\n        var isValuePercentage = isPercentage(value);\n        value = parseFloat(value);\n        if (isValuePercentage) {\n            value /= 100;\n        }\n\n        var attrs = {};\n        if (isFinite(value)) {\n            var attrValue = (isValuePercentage || value >= 0 && value <= 1)\n                ? value * refBBox[dimension]\n                : Math.max(value + refBBox[dimension], 0);\n            attrs[attrName] = attrValue;\n        }\n\n        return attrs;\n    };\n}\n\nfunction positionWrapper(axis, dimension, origin) {\n    return function(value, refBBox) {\n        var valuePercentage = isPercentage(value);\n        value = parseFloat(value);\n        if (valuePercentage) {\n            value /= 100;\n        }\n\n        var delta;\n        if (isFinite(value)) {\n            var refOrigin = refBBox[origin]();\n            if (valuePercentage || value > 0 && value < 1) {\n                delta = refOrigin[axis] + refBBox[dimension] * value;\n            } else {\n                delta = refOrigin[axis] + value;\n            }\n        }\n\n        var point = Point();\n        point[axis] = delta || 0;\n        return point;\n    };\n}\n\nfunction offsetWrapper(axis, dimension, corner) {\n    return function(value, nodeBBox) {\n        var delta;\n        if (value === 'middle') {\n            delta = nodeBBox[dimension] / 2;\n        } else if (value === corner) {\n            delta = nodeBBox[dimension];\n        } else if (isFinite(value)) {\n            // TODO: or not to do a breaking change?\n            delta = (value > -1 && value < 1) ? (-nodeBBox[dimension] * value) : -value;\n        } else if (isPercentage(value)) {\n            delta = nodeBBox[dimension] * parseFloat(value) / 100;\n        } else {\n            delta = 0;\n        }\n\n        var point = Point();\n        point[axis] = -(nodeBBox[axis] + delta);\n        return point;\n    };\n}\n\nfunction shapeWrapper(shapeConstructor, opt) {\n    var cacheName = 'joint-shape';\n    var resetOffset = opt && opt.resetOffset;\n    return function(value, refBBox, node) {\n        var $node = $(node);\n        var cache = $node.data(cacheName);\n        if (!cache || cache.value !== value) {\n            // only recalculate if value has changed\n            var cachedShape = shapeConstructor(value);\n            cache = {\n                value: value,\n                shape: cachedShape,\n                shapeBBox: cachedShape.bbox()\n            };\n            $node.data(cacheName, cache);\n        }\n\n        var shape = cache.shape.clone();\n        var shapeBBox = cache.shapeBBox.clone();\n        var shapeOrigin = shapeBBox.origin();\n        var refOrigin = refBBox.origin();\n\n        shapeBBox.x = refOrigin.x;\n        shapeBBox.y = refOrigin.y;\n\n        var fitScale = refBBox.maxRectScaleToFit(shapeBBox, refOrigin);\n        // `maxRectScaleToFit` can give Infinity if width or height is 0\n        var sx = (shapeBBox.width === 0 || refBBox.width === 0) ? 1 : fitScale.sx;\n        var sy = (shapeBBox.height === 0 || refBBox.height === 0) ? 1 : fitScale.sy;\n\n        shape.scale(sx, sy, shapeOrigin);\n        if (resetOffset) {\n            shape.translate(-shapeOrigin.x, -shapeOrigin.y);\n        }\n\n        return shape;\n    };\n}\n\n// `d` attribute for SVGPaths\nfunction dWrapper(opt) {\n    function pathConstructor(value) {\n        return new Path(V.normalizePathData(value));\n    }\n\n    var shape = shapeWrapper(pathConstructor, opt);\n    return function(value, refBBox, node) {\n        var path = shape(value, refBBox, node);\n        return {\n            d: path.serialize()\n        };\n    };\n}\n\n// `points` attribute for SVGPolylines and SVGPolygons\nfunction pointsWrapper(opt) {\n    var shape = shapeWrapper(Polyline, opt);\n    return function(value, refBBox, node) {\n        var polyline = shape(value, refBBox, node);\n        return {\n            points: polyline.serialize()\n        };\n    };\n}\n\nfunction atConnectionWrapper(method, opt) {\n    var zeroVector = new Point(1, 0);\n    return function(value) {\n        var p, angle;\n        var tangent = this[method](value);\n        if (tangent) {\n            angle = (opt.rotate) ? tangent.vector().vectorAngle(zeroVector) : 0;\n            p = tangent.start;\n        } else {\n            p = this.path.start;\n            angle = 0;\n        }\n        if (angle === 0) return { transform: 'translate(' + p.x + ',' + p.y + ')' };\n        return { transform: 'translate(' + p.x + ',' + p.y + ') rotate(' + angle + ')' };\n    };\n}\n\nfunction isTextInUse(_value, _node, attrs) {\n    return (attrs.text !== undefined);\n}\n\nfunction isLinkView() {\n    return this.model.isLink();\n}\n\nfunction contextMarker(context) {\n    var marker = {};\n    // Stroke\n    // The context 'fill' is disregared here. The usual case is to use the marker with a connection\n    // (for which 'fill' attribute is set to 'none').\n    var stroke = context.stroke;\n    if (typeof stroke === 'string') {\n        marker['stroke'] = stroke;\n        marker['fill'] = stroke;\n    }\n    // Opacity\n    // Again the context 'fill-opacity' is ignored.\n    var strokeOpacity = context.strokeOpacity;\n    if (strokeOpacity === undefined) strokeOpacity = context['stroke-opacity'];\n    if (strokeOpacity === undefined) strokeOpacity = context.opacity;\n    if (strokeOpacity !== undefined) {\n        marker['stroke-opacity'] = strokeOpacity;\n        marker['fill-opacity'] = strokeOpacity;\n    }\n    return marker;\n}\n\nconst attributesNS = {\n\n    xlinkHref: {\n        set: 'xlink:href'\n    },\n\n    xlinkShow: {\n        set: 'xlink:show'\n    },\n\n    xlinkRole: {\n        set: 'xlink:role'\n    },\n\n    xlinkType: {\n        set: 'xlink:type'\n    },\n\n    xlinkArcrole: {\n        set: 'xlink:arcrole'\n    },\n\n    xlinkTitle: {\n        set: 'xlink:title'\n    },\n\n    xlinkActuate: {\n        set: 'xlink:actuate'\n    },\n\n    xmlSpace: {\n        set: 'xml:space'\n    },\n\n    xmlBase: {\n        set: 'xml:base'\n    },\n\n    xmlLang: {\n        set: 'xml:lang'\n    },\n\n    preserveAspectRatio: {\n        set: 'preserveAspectRatio'\n    },\n\n    requiredExtension: {\n        set: 'requiredExtension'\n    },\n\n    requiredFeatures: {\n        set: 'requiredFeatures'\n    },\n\n    systemLanguage: {\n        set: 'systemLanguage'\n    },\n\n    externalResourcesRequired: {\n        set: 'externalResourceRequired'\n    },\n\n    filter: {\n        qualify: isPlainObject,\n        set: function(filter) {\n            return 'url(#' + this.paper.defineFilter(filter) + ')';\n        }\n    },\n\n    fill: {\n        qualify: isPlainObject,\n        set: function(fill) {\n            return 'url(#' + this.paper.defineGradient(fill) + ')';\n        }\n    },\n\n    stroke: {\n        qualify: isPlainObject,\n        set: function(stroke) {\n            return 'url(#' + this.paper.defineGradient(stroke) + ')';\n        }\n    },\n\n    sourceMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), marker);\n            return { 'marker-start': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    targetMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), { 'transform': 'rotate(180)' }, marker);\n            return { 'marker-end': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    vertexMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), marker);\n            return { 'marker-mid': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    text: {\n        qualify: function(_text, _node, attrs) {\n            return !attrs.textWrap || !isPlainObject(attrs.textWrap);\n        },\n        set: function(text, _refBBox, node, attrs) {\n            var $node = $(node);\n            var cacheName = 'joint-text';\n            var cache = $node.data(cacheName);\n            var textAttrs = pick(attrs, 'lineHeight', 'annotations', 'textPath', 'x', 'textVerticalAnchor', 'eol', 'displayEmpty');\n            var fontSize = textAttrs.fontSize = attrs['font-size'] || attrs['fontSize'];\n            var textHash = JSON.stringify([text, textAttrs]);\n            // Update the text only if there was a change in the string\n            // or any of its attributes.\n            if (cache === undefined || cache !== textHash) {\n                // Chrome bug:\n                // Tspans positions defined as `em` are not updated\n                // when container `font-size` change.\n                if (fontSize) node.setAttribute('font-size', fontSize);\n                // Text Along Path Selector\n                var textPath = textAttrs.textPath;\n                if (isObject(textPath)) {\n                    var pathSelector = textPath.selector;\n                    if (typeof pathSelector === 'string') {\n                        var pathNode = this.findBySelector(pathSelector)[0];\n                        if (pathNode instanceof SVGPathElement) {\n                            textAttrs.textPath = assign({ 'xlink:href': '#' + pathNode.id }, textPath);\n                        }\n                    }\n                }\n                V(node).text('' + text, textAttrs);\n                $node.data(cacheName, textHash);\n            }\n        }\n    },\n\n    textWrap: {\n        qualify: isPlainObject,\n        set: function(value, refBBox, node, attrs) {\n            // option `width`\n            var width = value.width || 0;\n            if (isPercentage(width)) {\n                refBBox.width *= parseFloat(width) / 100;\n            } else if (width <= 0) {\n                refBBox.width += width;\n            } else {\n                refBBox.width = width;\n            }\n            // option `height`\n            var height = value.height || 0;\n            if (isPercentage(height)) {\n                refBBox.height *= parseFloat(height) / 100;\n            } else if (height <= 0) {\n                refBBox.height += height;\n            } else {\n                refBBox.height = height;\n            }\n            // option `text`\n            var wrappedText;\n            var text = value.text;\n            if (text === undefined) text = attrs.text;\n            if (text !== undefined) {\n                wrappedText = breakText('' + text, refBBox, {\n                    'font-weight': attrs['font-weight'] || attrs.fontWeight,\n                    'font-size': attrs['font-size'] || attrs.fontSize,\n                    'font-family': attrs['font-family'] || attrs.fontFamily,\n                    'lineHeight': attrs.lineHeight,\n                    'letter-spacing': 'letter-spacing' in attrs ? attrs['letter-spacing'] : attrs.letterSpacing\n                }, {\n                    // Provide an existing SVG Document here\n                    // instead of creating a temporary one over again.\n                    svgDocument: this.paper.svg,\n                    ellipsis: value.ellipsis,\n                    hyphen: value.hyphen,\n                    maxLineCount: value.maxLineCount\n                });\n            } else {\n                wrappedText = '';\n            }\n            attributesNS.text.set.call(this, wrappedText, refBBox, node, attrs);\n        }\n    },\n\n    title: {\n        qualify: function(title, node) {\n            // HTMLElement title is specified via an attribute (i.e. not an element)\n            return node instanceof SVGElement;\n        },\n        set: function(title, refBBox, node) {\n            var $node = $(node);\n            var cacheName = 'joint-title';\n            var cache = $node.data(cacheName);\n            if (cache === undefined || cache !== title) {\n                $node.data(cacheName, title);\n                // Generally <title> element should be the first child element of its parent.\n                var firstChild = node.firstChild;\n                if (firstChild && firstChild.tagName.toUpperCase() === 'TITLE') {\n                    // Update an existing title\n                    firstChild.textContent = title;\n                } else {\n                    // Create a new title\n                    var titleNode = document.createElementNS(node.namespaceURI, 'title');\n                    titleNode.textContent = title;\n                    node.insertBefore(titleNode, firstChild);\n                }\n            }\n        }\n    },\n\n    lineHeight: {\n        qualify: isTextInUse\n    },\n\n    textVerticalAnchor: {\n        qualify: isTextInUse\n    },\n\n    textPath: {\n        qualify: isTextInUse\n    },\n\n    annotations: {\n        qualify: isTextInUse\n    },\n\n    eol: {\n        qualify: isTextInUse\n    },\n\n    displayEmpty: {\n        qualify: isTextInUse\n    },\n\n    // `port` attribute contains the `id` of the port that the underlying magnet represents.\n    port: {\n        set: function(port) {\n            return (port === null || port.id === undefined) ? port : port.id;\n        }\n    },\n\n    // `style` attribute is special in the sense that it sets the CSS style of the subelement.\n    style: {\n        qualify: isPlainObject,\n        set: function(styles, refBBox, node) {\n            $(node).css(styles);\n        }\n    },\n\n    html: {\n        set: function(html, refBBox, node) {\n            $(node).html(html + '');\n        }\n    },\n\n    ref: {\n        // We do not set `ref` attribute directly on an element.\n        // The attribute itself does not qualify for relative positioning.\n    },\n\n    // if `refX` is in [0, 1] then `refX` is a fraction of bounding box width\n    // if `refX` is < 0 then `refX`'s absolute values is the right coordinate of the bounding box\n    // otherwise, `refX` is the left coordinate of the bounding box\n\n    refX: {\n        position: positionWrapper('x', 'width', 'origin')\n    },\n\n    refY: {\n        position: positionWrapper('y', 'height', 'origin')\n    },\n\n    // `ref-dx` and `ref-dy` define the offset of the subelement relative to the right and/or bottom\n    // coordinate of the reference element.\n\n    refDx: {\n        position: positionWrapper('x', 'width', 'corner')\n    },\n\n    refDy: {\n        position: positionWrapper('y', 'height', 'corner')\n    },\n\n    // 'ref-width'/'ref-height' defines the width/height of the subelement relatively to\n    // the reference element size\n    // val in 0..1         ref-width = 0.75 sets the width to 75% of the ref. el. width\n    // val < 0 || val > 1  ref-height = -20 sets the height to the ref. el. height shorter by 20\n\n    refWidth: {\n        set: setWrapper('width', 'width')\n    },\n\n    refHeight: {\n        set: setWrapper('height', 'height')\n    },\n\n    refRx: {\n        set: setWrapper('rx', 'width')\n    },\n\n    refRy: {\n        set: setWrapper('ry', 'height')\n    },\n\n    refRInscribed: {\n        set: (function(attrName) {\n            var widthFn = setWrapper(attrName, 'width');\n            var heightFn = setWrapper(attrName, 'height');\n            return function(value, refBBox) {\n                var fn = (refBBox.height > refBBox.width) ? widthFn : heightFn;\n                return fn(value, refBBox);\n            };\n        })('r')\n    },\n\n    refRCircumscribed: {\n        set: function(value, refBBox) {\n            var isValuePercentage = isPercentage(value);\n            value = parseFloat(value);\n            if (isValuePercentage) {\n                value /= 100;\n            }\n\n            var diagonalLength = Math.sqrt((refBBox.height * refBBox.height) + (refBBox.width * refBBox.width));\n\n            var rValue;\n            if (isFinite(value)) {\n                if (isValuePercentage || value >= 0 && value <= 1) rValue = value * diagonalLength;\n                else rValue = Math.max(value + diagonalLength, 0);\n            }\n\n            return { r: rValue };\n        }\n    },\n\n    refCx: {\n        set: setWrapper('cx', 'width')\n    },\n\n    refCy: {\n        set: setWrapper('cy', 'height')\n    },\n\n    // `x-alignment` when set to `middle` causes centering of the subelement around its new x coordinate.\n    // `x-alignment` when set to `right` uses the x coordinate as referenced to the right of the bbox.\n\n    xAlignment: {\n        offset: offsetWrapper('x', 'width', 'right')\n    },\n\n    // `y-alignment` when set to `middle` causes centering of the subelement around its new y coordinate.\n    // `y-alignment` when set to `bottom` uses the y coordinate as referenced to the bottom of the bbox.\n\n    yAlignment: {\n        offset: offsetWrapper('y', 'height', 'bottom')\n    },\n\n    resetOffset: {\n        offset: function(val, nodeBBox) {\n            return (val)\n                ? { x: -nodeBBox.x, y: -nodeBBox.y }\n                : { x: 0, y: 0 };\n        }\n\n    },\n\n    refDResetOffset: {\n        set: dWrapper({ resetOffset: true })\n    },\n\n    refDKeepOffset: {\n        set: dWrapper({ resetOffset: false })\n    },\n\n    refPointsResetOffset: {\n        set: pointsWrapper({ resetOffset: true })\n    },\n\n    refPointsKeepOffset: {\n        set: pointsWrapper({ resetOffset: false })\n    },\n\n    // LinkView Attributes\n\n    connection: {\n        qualify: isLinkView,\n        set: function({ stubs = 0 }) {\n            let d;\n            if (isFinite(stubs) && stubs !== 0) {\n                let offset;\n                if (stubs < 0) {\n                    offset = (this.getConnectionLength() + stubs) / 2;\n                } else {\n                    offset = stubs;\n                }\n                const path = this.getConnection();\n                const sourceParts = path.divideAtLength(offset);\n                const targetParts = path.divideAtLength(-offset);\n                if (sourceParts && targetParts) {\n                    d = `${sourceParts[0].serialize()} ${targetParts[1].serialize()}`;\n                }\n            }\n\n            return { d: d || this.getSerializedConnection() };\n        }\n    },\n\n    atConnectionLengthKeepGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtLength', { rotate: true })\n    },\n\n    atConnectionLengthIgnoreGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtLength', { rotate: false })\n    },\n\n    atConnectionRatioKeepGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtRatio', { rotate: true })\n    },\n\n    atConnectionRatioIgnoreGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtRatio', { rotate: false })\n    }\n};\n\n// Aliases\nattributesNS.refR = attributesNS.refRInscribed;\nattributesNS.refD = attributesNS.refDResetOffset;\nattributesNS.refPoints = attributesNS.refPointsResetOffset;\nattributesNS.atConnectionLength = attributesNS.atConnectionLengthKeepGradient;\nattributesNS.atConnectionRatio = attributesNS.atConnectionRatioKeepGradient;\n\n// This allows to combine both absolute and relative positioning\n// refX: 50%, refX2: 20\nattributesNS.refX2 = attributesNS.refX;\nattributesNS.refY2 = attributesNS.refY;\nattributesNS.refWidth2 = attributesNS.refWidth;\nattributesNS.refHeight2 = attributesNS.refHeight;\n\n// Aliases for backwards compatibility\nattributesNS['ref-x'] = attributesNS.refX;\nattributesNS['ref-y'] = attributesNS.refY;\nattributesNS['ref-dy'] = attributesNS.refDy;\nattributesNS['ref-dx'] = attributesNS.refDx;\nattributesNS['ref-width'] = attributesNS.refWidth;\nattributesNS['ref-height'] = attributesNS.refHeight;\nattributesNS['x-alignment'] = attributesNS.xAlignment;\nattributesNS['y-alignment'] = attributesNS.yAlignment;\n\nexport const attributes = attributesNS;\n\n","import Backbone from 'backbone';\nimport {\n    uniqueId,\n    result,\n    merge,\n    forIn,\n    isObject,\n    isEqual,\n    isString,\n    cloneDeep,\n    omit,\n    uuid,\n    isEmpty,\n    assign,\n    uniq,\n    toArray,\n    defaults,\n    setByPath,\n    unsetByPath,\n    getByPath,\n    timing,\n    interpolate,\n    nextFrame,\n    without,\n    cancelFrame,\n    defaultsDeep,\n    has\n} from '../util/util.mjs';\nimport { cloneCells } from '../util/cloneCells.mjs';\nimport { attributes } from './attributes.mjs';\nimport * as g from '../g/index.mjs';\n\n\n// Cell base model.\n// --------------------------\n\nexport const Cell = Backbone.Model.extend({\n\n    // This is the same as Backbone.Model with the only difference that is uses util.merge\n    // instead of just _.extend. The reason is that we want to mixin attributes set in upper classes.\n    constructor: function(attributes, options) {\n\n        var defaults;\n        var attrs = attributes || {};\n        this.cid = uniqueId('c');\n        this.attributes = {};\n        if (options && options.collection) this.collection = options.collection;\n        if (options && options.parse) attrs = this.parse(attrs, options) || {};\n        if ((defaults = result(this, 'defaults'))) {\n            //<custom code>\n            // Replaced the call to _.defaults with util.merge.\n            attrs = merge({}, defaults, attrs);\n            //</custom code>\n        }\n        this.set(attrs, options);\n        this.changed = {};\n        this.initialize.apply(this, arguments);\n    },\n\n    translate: function(dx, dy, opt) {\n\n        throw new Error('Must define a translate() method.');\n    },\n\n    toJSON: function() {\n\n        var defaultAttrs = this.constructor.prototype.defaults.attrs || {};\n        var attrs = this.attributes.attrs;\n        var finalAttrs = {};\n\n        // Loop through all the attributes and\n        // omit the default attributes as they are implicitly reconstructable by the cell 'type'.\n        forIn(attrs, function(attr, selector) {\n\n            var defaultAttr = defaultAttrs[selector];\n\n            forIn(attr, function(value, name) {\n\n                // attr is mainly flat though it might have one more level (consider the `style` attribute).\n                // Check if the `value` is object and if yes, go one level deep.\n                if (isObject(value) && !Array.isArray(value)) {\n\n                    forIn(value, function(value2, name2) {\n\n                        if (!defaultAttr || !defaultAttr[name] || !isEqual(defaultAttr[name][name2], value2)) {\n\n                            finalAttrs[selector] = finalAttrs[selector] || {};\n                            (finalAttrs[selector][name] || (finalAttrs[selector][name] = {}))[name2] = value2;\n                        }\n                    });\n\n                } else if (!defaultAttr || !isEqual(defaultAttr[name], value)) {\n                    // `value` is not an object, default attribute for such a selector does not exist\n                    // or it is different than the attribute value set on the model.\n\n                    finalAttrs[selector] = finalAttrs[selector] || {};\n                    finalAttrs[selector][name] = value;\n                }\n            });\n        });\n\n        var attributes = cloneDeep(omit(this.attributes, 'attrs'));\n        attributes.attrs = finalAttrs;\n\n        return attributes;\n    },\n\n    initialize: function(options) {\n\n        if (!options || !options.id) {\n\n            this.set('id', this.generateId(), { silent: true });\n        }\n\n        this._transitionIds = {};\n\n        // Collect ports defined in `attrs` and keep collecting whenever `attrs` object changes.\n        this.processPorts();\n        this.on('change:attrs', this.processPorts, this);\n    },\n\n    generateId: function() {\n        return uuid();\n    },\n\n    /**\n     * @deprecated\n     */\n    processPorts: function() {\n\n        // Whenever `attrs` changes, we extract ports from the `attrs` object and store it\n        // in a more accessible way. Also, if any port got removed and there were links that had `target`/`source`\n        // set to that port, we remove those links as well (to follow the same behaviour as\n        // with a removed element).\n\n        var previousPorts = this.ports;\n\n        // Collect ports from the `attrs` object.\n        var ports = {};\n        forIn(this.get('attrs'), function(attrs, selector) {\n\n            if (attrs && attrs.port) {\n\n                // `port` can either be directly an `id` or an object containing an `id` (and potentially other data).\n                if (attrs.port.id !== undefined) {\n                    ports[attrs.port.id] = attrs.port;\n                } else {\n                    ports[attrs.port] = { id: attrs.port };\n                }\n            }\n        });\n\n        // Collect ports that have been removed (compared to the previous ports) - if any.\n        // Use hash table for quick lookup.\n        var removedPorts = {};\n        forIn(previousPorts, function(port, id) {\n\n            if (!ports[id]) removedPorts[id] = true;\n        });\n\n        // Remove all the incoming/outgoing links that have source/target port set to any of the removed ports.\n        if (this.graph && !isEmpty(removedPorts)) {\n\n            var inboundLinks = this.graph.getConnectedLinks(this, { inbound: true });\n            inboundLinks.forEach(function(link) {\n\n                if (removedPorts[link.get('target').port]) link.remove();\n            });\n\n            var outboundLinks = this.graph.getConnectedLinks(this, { outbound: true });\n            outboundLinks.forEach(function(link) {\n\n                if (removedPorts[link.get('source').port]) link.remove();\n            });\n        }\n\n        // Update the `ports` object.\n        this.ports = ports;\n    },\n\n    remove: function(opt = {}) {\n\n        // Store the graph in a variable because `this.graph` won't be accessible\n        // after `this.trigger('remove', ...)` down below.\n        const { graph, collection } = this;\n        if (!graph) {\n            // The collection is a common Backbone collection (not the graph collection).\n            if (collection) collection.remove(this, opt);\n            return this;\n        }\n\n        graph.startBatch('remove');\n\n        // First, unembed this cell from its parent cell if there is one.\n        const parentCell = this.getParentCell();\n        if (parentCell) {\n            parentCell.unembed(this, opt);\n        }\n\n        // Remove also all the cells, which were embedded into this cell\n        const embeddedCells = this.getEmbeddedCells();\n        for (let i = 0, n = embeddedCells.length; i < n; i++) {\n            const embed = embeddedCells[i];\n            if (embed) {\n                embed.remove(opt);\n            }\n        }\n\n        this.trigger('remove', this, graph.attributes.cells, opt);\n\n        graph.stopBatch('remove');\n\n        return this;\n    },\n\n    toFront: function(opt) {\n\n        var graph = this.graph;\n        if (graph) {\n\n            opt = opt || {};\n\n            var z = graph.maxZIndex();\n\n            var cells;\n\n            if (opt.deep) {\n                cells = this.getEmbeddedCells({ deep: true, breadthFirst: true });\n                cells.unshift(this);\n            } else {\n                cells = [this];\n            }\n\n            z = z - cells.length + 1;\n\n            var collection = graph.get('cells');\n            var shouldUpdate = (collection.indexOf(this) !== (collection.length - cells.length));\n            if (!shouldUpdate) {\n                shouldUpdate = cells.some(function(cell, index) {\n                    return cell.get('z') !== z + index;\n                });\n            }\n\n            if (shouldUpdate) {\n                this.startBatch('to-front');\n\n                z = z + cells.length;\n\n                cells.forEach(function(cell, index) {\n                    cell.set('z', z + index, opt);\n                });\n\n                this.stopBatch('to-front');\n            }\n        }\n\n        return this;\n    },\n\n    toBack: function(opt) {\n\n        var graph = this.graph;\n        if (graph) {\n\n            opt = opt || {};\n\n            var z = graph.minZIndex();\n\n            var cells;\n\n            if (opt.deep) {\n                cells = this.getEmbeddedCells({ deep: true, breadthFirst: true });\n                cells.unshift(this);\n            } else {\n                cells = [this];\n            }\n\n            var collection = graph.get('cells');\n            var shouldUpdate = (collection.indexOf(this) !== 0);\n            if (!shouldUpdate) {\n                shouldUpdate = cells.some(function(cell, index) {\n                    return cell.get('z') !== z + index;\n                });\n            }\n\n            if (shouldUpdate) {\n                this.startBatch('to-back');\n\n                z -= cells.length;\n\n                cells.forEach(function(cell, index) {\n                    cell.set('z', z + index, opt);\n                });\n\n                this.stopBatch('to-back');\n            }\n        }\n\n        return this;\n    },\n\n    parent: function(parent, opt) {\n\n        // getter\n        if (parent === undefined) return this.get('parent');\n        // setter\n        return this.set('parent', parent, opt);\n    },\n\n    embed: function(cell, opt) {\n\n        if (this === cell || this.isEmbeddedIn(cell)) {\n\n            throw new Error('Recursive embedding not allowed.');\n\n        } else {\n\n            this.startBatch('embed');\n\n            var embeds = assign([], this.get('embeds'));\n\n            // We keep all element ids after link ids.\n            embeds[cell.isLink() ? 'unshift' : 'push'](cell.id);\n\n            cell.parent(this.id, opt);\n            this.set('embeds', uniq(embeds), opt);\n\n            this.stopBatch('embed');\n        }\n\n        return this;\n    },\n\n    unembed: function(cell, opt) {\n\n        this.startBatch('unembed');\n\n        cell.unset('parent', opt);\n        this.set('embeds', without(this.get('embeds'), cell.id), opt);\n\n        this.stopBatch('unembed');\n\n        return this;\n    },\n\n    getParentCell: function() {\n\n        // unlike link.source/target, cell.parent stores id directly as a string\n        var parentId = this.parent();\n        var graph = this.graph;\n\n        return (parentId && graph && graph.getCell(parentId)) || null;\n    },\n\n    // Return an array of ancestor cells.\n    // The array is ordered from the parent of the cell\n    // to the most distant ancestor.\n    getAncestors: function() {\n\n        var ancestors = [];\n\n        if (!this.graph) {\n            return ancestors;\n        }\n\n        var parentCell = this.getParentCell();\n        while (parentCell) {\n            ancestors.push(parentCell);\n            parentCell = parentCell.getParentCell();\n        }\n\n        return ancestors;\n    },\n\n    getEmbeddedCells: function(opt) {\n\n        opt = opt || {};\n\n        // Cell models can only be retrieved when this element is part of a collection.\n        // There is no way this element knows about other cells otherwise.\n        // This also means that calling e.g. `translate()` on an element with embeds before\n        // adding it to a graph does not translate its embeds.\n        if (this.graph) {\n\n            var cells;\n\n            if (opt.deep) {\n\n                if (opt.breadthFirst) {\n\n                    // breadthFirst algorithm\n                    cells = [];\n                    var queue = this.getEmbeddedCells();\n\n                    while (queue.length > 0) {\n\n                        var parent = queue.shift();\n                        cells.push(parent);\n                        queue.push.apply(queue, parent.getEmbeddedCells());\n                    }\n\n                } else {\n\n                    // depthFirst algorithm\n                    cells = this.getEmbeddedCells();\n                    cells.forEach(function(cell) {\n                        cells.push.apply(cells, cell.getEmbeddedCells(opt));\n                    });\n                }\n\n            } else {\n\n                cells = toArray(this.get('embeds')).map(this.graph.getCell, this.graph);\n            }\n\n            return cells;\n        }\n        return [];\n    },\n\n    isEmbeddedIn: function(cell, opt) {\n\n        var cellId = isString(cell) ? cell : cell.id;\n        var parentId = this.parent();\n\n        opt = defaults({ deep: true }, opt);\n\n        // See getEmbeddedCells().\n        if (this.graph && opt.deep) {\n\n            while (parentId) {\n                if (parentId === cellId) {\n                    return true;\n                }\n                parentId = this.graph.getCell(parentId).parent();\n            }\n\n            return false;\n\n        } else {\n\n            // When this cell is not part of a collection check\n            // at least whether it's a direct child of given cell.\n            return parentId === cellId;\n        }\n    },\n\n    // Whether or not the cell is embedded in any other cell.\n    isEmbedded: function() {\n\n        return !!this.parent();\n    },\n\n    // Isolated cloning. Isolated cloning has two versions: shallow and deep (pass `{ deep: true }` in `opt`).\n    // Shallow cloning simply clones the cell and returns a new cell with different ID.\n    // Deep cloning clones the cell and all its embedded cells recursively.\n    clone: function(opt) {\n\n        opt = opt || {};\n\n        if (!opt.deep) {\n            // Shallow cloning.\n\n            var clone = Backbone.Model.prototype.clone.apply(this, arguments);\n            // We don't want the clone to have the same ID as the original.\n            clone.set('id', this.generateId());\n            // A shallow cloned element does not carry over the original embeds.\n            clone.unset('embeds');\n            // And can not be embedded in any cell\n            // as the clone is not part of the graph.\n            clone.unset('parent');\n\n            return clone;\n\n        } else {\n            // Deep cloning.\n\n            // For a deep clone, simply call `graph.cloneCells()` with the cell and all its embedded cells.\n            return toArray(cloneCells([this].concat(this.getEmbeddedCells({ deep: true }))));\n        }\n    },\n\n    // A convenient way to set nested properties.\n    // This method merges the properties you'd like to set with the ones\n    // stored in the cell and makes sure change events are properly triggered.\n    // You can either set a nested property with one object\n    // or use a property path.\n    // The most simple use case is:\n    // `cell.prop('name/first', 'John')` or\n    // `cell.prop({ name: { first: 'John' } })`.\n    // Nested arrays are supported too:\n    // `cell.prop('series/0/data/0/degree', 50)` or\n    // `cell.prop({ series: [ { data: [ { degree: 50 } ] } ] })`.\n    prop: function(props, value, opt) {\n\n        var delim = '/';\n        var _isString = isString(props);\n\n        if (_isString || Array.isArray(props)) {\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n\n            if (arguments.length > 1) {\n\n                var path;\n                var pathArray;\n\n                if (_isString) {\n                    path = props;\n                    pathArray = path.split('/');\n                } else {\n                    path = props.join(delim);\n                    pathArray = props.slice();\n                }\n\n                var property = pathArray[0];\n                var pathArrayLength = pathArray.length;\n\n                opt = opt || {};\n                opt.propertyPath = path;\n                opt.propertyValue = value;\n                opt.propertyPathArray = pathArray;\n\n                if (pathArrayLength === 1) {\n                    // Property is not nested. We can simply use `set()`.\n                    return this.set(property, value, opt);\n                }\n\n                var update = {};\n                // Initialize the nested object. Subobjects are either arrays or objects.\n                // An empty array is created if the sub-key is an integer. Otherwise, an empty object is created.\n                // Note that this imposes a limitation on object keys one can use with Inspector.\n                // Pure integer keys will cause issues and are therefore not allowed.\n                var initializer = update;\n                var prevProperty = property;\n\n                for (var i = 1; i < pathArrayLength; i++) {\n                    var pathItem = pathArray[i];\n                    var isArrayIndex = Number.isFinite(_isString ? Number(pathItem) : pathItem);\n                    initializer = initializer[prevProperty] = isArrayIndex ? [] : {};\n                    prevProperty = pathItem;\n                }\n\n                // Fill update with the `value` on `path`.\n                update = setByPath(update, pathArray, value, '/');\n\n                var baseAttributes = merge({}, this.attributes);\n                // if rewrite mode enabled, we replace value referenced by path with\n                // the new one (we don't merge).\n                opt.rewrite && unsetByPath(baseAttributes, path, '/');\n\n                // Merge update with the model attributes.\n                var attributes = merge(baseAttributes, update);\n                // Finally, set the property to the updated attributes.\n                return this.set(property, attributes[property], opt);\n\n            } else {\n\n                return getByPath(this.attributes, props, delim);\n            }\n        }\n\n        return this.set(merge({}, this.attributes, props), value);\n    },\n\n    // A convenient way to unset nested properties\n    removeProp: function(path, opt) {\n\n        opt = opt || {};\n\n        var pathArray = Array.isArray(path) ? path : path.split('/');\n\n        // Once a property is removed from the `attrs` attribute\n        // the cellView will recognize a `dirty` flag and re-render itself\n        // in order to remove the attribute from SVG element.\n        var property = pathArray[0];\n        if (property === 'attrs') opt.dirty = true;\n\n        if (pathArray.length === 1) {\n            // A top level property\n            return this.unset(path, opt);\n        }\n\n        // A nested property\n        var nestedPath = pathArray.slice(1);\n        var propertyValue = cloneDeep(this.get(property));\n\n        unsetByPath(propertyValue, nestedPath, '/');\n\n        return this.set(property, propertyValue, opt);\n    },\n\n    // A convenient way to set nested attributes.\n    attr: function(attrs, value, opt) {\n\n        var args = Array.from(arguments);\n        if (args.length === 0) {\n            return this.get('attrs');\n        }\n\n        if (Array.isArray(attrs)) {\n            args[0] = ['attrs'].concat(attrs);\n        } else if (isString(attrs)) {\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n            args[0] = 'attrs/' + attrs;\n\n        } else {\n\n            args[0] = { 'attrs' : attrs };\n        }\n\n        return this.prop.apply(this, args);\n    },\n\n    // A convenient way to unset nested attributes\n    removeAttr: function(path, opt) {\n\n        if (Array.isArray(path)) {\n\n            return this.removeProp(['attrs'].concat(path));\n        }\n\n        return this.removeProp('attrs/' + path, opt);\n    },\n\n    transition: function(path, value, opt, delim) {\n\n        delim = delim || '/';\n\n        var defaults = {\n            duration: 100,\n            delay: 10,\n            timingFunction: timing.linear,\n            valueFunction: interpolate.number\n        };\n\n        opt = assign(defaults, opt);\n\n        var firstFrameTime = 0;\n        var interpolatingFunction;\n\n        var setter = function(runtime) {\n\n            var id, progress, propertyValue;\n\n            firstFrameTime = firstFrameTime || runtime;\n            runtime -= firstFrameTime;\n            progress = runtime / opt.duration;\n\n            if (progress < 1) {\n                this._transitionIds[path] = id = nextFrame(setter);\n            } else {\n                progress = 1;\n                delete this._transitionIds[path];\n            }\n\n            propertyValue = interpolatingFunction(opt.timingFunction(progress));\n\n            opt.transitionId = id;\n\n            this.prop(path, propertyValue, opt);\n\n            if (!id) this.trigger('transition:end', this, path);\n\n        }.bind(this);\n\n        var initiator = function(callback) {\n\n            this.stopTransitions(path);\n\n            interpolatingFunction = opt.valueFunction(getByPath(this.attributes, path, delim), value);\n\n            this._transitionIds[path] = nextFrame(callback);\n\n            this.trigger('transition:start', this, path);\n\n        }.bind(this);\n\n        return setTimeout(initiator, opt.delay, setter);\n    },\n\n    getTransitions: function() {\n\n        return Object.keys(this._transitionIds);\n    },\n\n    stopTransitions: function(path, delim) {\n\n        delim = delim || '/';\n\n        var pathArray = path && path.split(delim);\n\n        Object.keys(this._transitionIds).filter(pathArray && function(key) {\n\n            return isEqual(pathArray, key.split(delim).slice(0, pathArray.length));\n\n        }).forEach(function(key) {\n\n            cancelFrame(this._transitionIds[key]);\n\n            delete this._transitionIds[key];\n\n            this.trigger('transition:end', this, key);\n\n        }, this);\n\n        return this;\n    },\n\n    // A shorcut making it easy to create constructs like the following:\n    // `var el = (new joint.shapes.basic.Rect).addTo(graph)`.\n    addTo: function(graph, opt) {\n\n        graph.addCell(this, opt);\n        return this;\n    },\n\n    // A shortcut for an equivalent call: `paper.findViewByModel(cell)`\n    // making it easy to create constructs like the following:\n    // `cell.findView(paper).highlight()`\n    findView: function(paper) {\n\n        return paper.findViewByModel(this);\n    },\n\n    isElement: function() {\n\n        return false;\n    },\n\n    isLink: function() {\n\n        return false;\n    },\n\n    startBatch: function(name, opt) {\n\n        if (this.graph) { this.graph.startBatch(name, assign({}, opt, { cell: this })); }\n        return this;\n    },\n\n    stopBatch: function(name, opt) {\n\n        if (this.graph) { this.graph.stopBatch(name, assign({}, opt, { cell: this })); }\n        return this;\n    },\n\n    getChangeFlag: function(attributes) {\n\n        var flag = 0;\n        if (!attributes) return flag;\n        for (var key in attributes) {\n            if (!attributes.hasOwnProperty(key) || !this.hasChanged(key)) continue;\n            flag |= attributes[key];\n        }\n        return flag;\n    },\n\n    angle: function() {\n\n        // To be overridden.\n        return 0;\n    },\n\n    position: function() {\n\n        // To be overridden.\n        return new g.Point(0, 0);\n    },\n\n    getPointFromConnectedLink: function() {\n\n        // To be overridden\n        return new g.Point();\n    },\n\n    getBBox: function() {\n\n        // To be overridden\n        return new g.Rect(0, 0, 0, 0);\n    }\n\n}, {\n\n    getAttributeDefinition: function(attrName) {\n\n        var defNS = this.attributes;\n        var globalDefNS = attributes;\n        return (defNS && defNS[attrName]) || globalDefNS[attrName];\n    },\n\n    define: function(type, defaults, protoProps, staticProps) {\n\n        protoProps = assign({\n            defaults: defaultsDeep({ type: type }, defaults, this.prototype.defaults)\n        }, protoProps);\n\n        var Cell = this.extend(protoProps, staticProps);\n        // es5 backward compatibility\n        /* global joint: true */\n        if (typeof joint !== 'undefined' && has(joint, 'shapes')) {\n            setByPath(joint.shapes, type, Cell, '.');\n        }\n        /* global joint: false */\n        return Cell;\n    }\n});\n\n","import { Cell } from '../dia/Cell.mjs';\nimport { isFunction, isString, toArray } from './util.mjs';\n\nexport const wrapWith = function(object, methods, wrapper) {\n\n    if (isString(wrapper)) {\n\n        if (!wrappers[wrapper]) {\n            throw new Error('Unknown wrapper: \"' + wrapper + '\"');\n        }\n\n        wrapper = wrappers[wrapper];\n    }\n\n    if (!isFunction(wrapper)) {\n        throw new Error('Wrapper must be a function.');\n    }\n\n    toArray(methods).forEach(function(method) {\n        object[method] = wrapper(object[method]);\n    });\n};\n\nexport const wrappers = {\n\n    cells: function(fn) {\n\n        return function() {\n\n            var args = Array.from(arguments);\n            var n = args.length;\n            var cells = n > 0 && args[0] || [];\n            var opt = n > 1 && args[n - 1] || {};\n\n            if (!Array.isArray(cells)) {\n\n                if (opt instanceof Cell) {\n                    cells = args;\n                } else if (cells instanceof Cell) {\n                    if (args.length > 1) {\n                        args.pop();\n                    }\n                    cells = args;\n                }\n            }\n\n            if (opt instanceof Cell) {\n                opt = {};\n            }\n\n            return fn.call(this, cells, opt);\n        };\n    }\n\n};\n\n","import * as g from '../../g/index.mjs';\nimport * as util from '../../util/index.mjs';\n\nfunction portTransformAttrs(point, angle, opt) {\n\n    var trans = point.toJSON();\n\n    trans.angle = angle || 0;\n\n    return util.defaults({}, opt, trans);\n}\n\nfunction lineLayout(ports, p1, p2) {\n    return ports.map(function(port, index, ports) {\n        var p = this.pointAt(((index + 0.5) / ports.length));\n        // `dx`,`dy` per port offset option\n        if (port.dx || port.dy) {\n            p.offset(port.dx || 0, port.dy || 0);\n        }\n\n        return portTransformAttrs(p.round(), 0, port);\n    }, g.line(p1, p2));\n}\n\nfunction ellipseLayout(ports, elBBox, startAngle, stepFn) {\n\n    var center = elBBox.center();\n    var ratio = elBBox.width / elBBox.height;\n    var p1 = elBBox.topMiddle();\n\n    var ellipse = g.Ellipse.fromRect(elBBox);\n\n    return ports.map(function(port, index, ports) {\n\n        var angle = startAngle + stepFn(index, ports.length);\n        var p2 = p1.clone()\n            .rotate(center, -angle)\n            .scale(ratio, 1, center);\n\n        var theta = port.compensateRotation ? -ellipse.tangentTheta(p2) : 0;\n\n        // `dx`,`dy` per port offset option\n        if (port.dx || port.dy) {\n            p2.offset(port.dx || 0, port.dy || 0);\n        }\n\n        // `dr` delta radius option\n        if (port.dr) {\n            p2.move(center, port.dr);\n        }\n\n        return portTransformAttrs(p2.round(), theta, port);\n    });\n}\n\n// Creates a point stored in arguments\nfunction argPoint(bbox, args) {\n\n    var x = args.x;\n    if (util.isString(x)) {\n        x = parseFloat(x) / 100 * bbox.width;\n    }\n\n    var y = args.y;\n    if (util.isString(y)) {\n        y = parseFloat(y) / 100 * bbox.height;\n    }\n\n    return g.point(x || 0, y || 0);\n}\n\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const absolute = function(ports, elBBox, opt) {\n    //TODO v.talas angle\n    return ports.map(argPoint.bind(null, elBBox));\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const fn = function(ports, elBBox, opt) {\n    return opt.fn(ports, elBBox, opt);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const line = function(ports, elBBox, opt) {\n\n    var start = argPoint(elBBox, opt.start || elBBox.origin());\n    var end = argPoint(elBBox, opt.end || elBBox.corner());\n\n    return lineLayout(ports, start, end);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const left = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.origin(), elBBox.bottomLeft());\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const right = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.topRight(), elBBox.corner());\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const top = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.origin(), elBBox.topRight());\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const bottom = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.bottomLeft(), elBBox.corner());\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt Group options\n * @returns {Array<g.Point>}\n */\nexport const ellipseSpread = function(ports, elBBox, opt) {\n\n    var startAngle = opt.startAngle || 0;\n    var stepAngle = opt.step || 360 / ports.length;\n\n    return ellipseLayout(ports, elBBox, startAngle, function(index) {\n        return index * stepAngle;\n    });\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt Group options\n * @returns {Array<g.Point>}\n */\nexport const ellipse = function(ports, elBBox, opt) {\n\n    var startAngle = opt.startAngle || 0;\n    var stepAngle = opt.step || 20;\n\n    return ellipseLayout(ports, elBBox, startAngle, function(index, count) {\n        return (index + 0.5 - count / 2) * stepAngle;\n    });\n};\n\n","import * as g from '../../g/index.mjs';\nimport * as util from '../../util/index.mjs';\n\nfunction labelAttributes(opt1, opt2) {\n\n    return util.defaultsDeep({}, opt1, opt2, {\n        x: 0,\n        y: 0,\n        angle: 0,\n        attrs: {\n            '.': {\n                y: '0',\n                'text-anchor': 'start'\n            }\n        }\n    });\n}\n\nfunction outsideLayout(portPosition, elBBox, autoOrient, opt) {\n\n    opt = util.defaults({}, opt, { offset: 15 });\n    var angle = elBBox.center().theta(portPosition);\n    var x = getBBoxAngles(elBBox);\n\n    var tx, ty, y, textAnchor;\n    var offset = opt.offset;\n    var orientAngle = 0;\n\n    if (angle < x[1] || angle > x[2]) {\n        y = '.3em';\n        tx = offset;\n        ty = 0;\n        textAnchor = 'start';\n    } else if (angle < x[0]) {\n        y = '0';\n        tx = 0;\n        ty = -offset;\n        if (autoOrient) {\n            orientAngle = -90;\n            textAnchor = 'start';\n        } else {\n            textAnchor = 'middle';\n        }\n    } else if (angle < x[3]) {\n        y = '.3em';\n        tx = -offset;\n        ty = 0;\n        textAnchor = 'end';\n    } else {\n        y = '.6em';\n        tx = 0;\n        ty = offset;\n        if (autoOrient) {\n            orientAngle = 90;\n            textAnchor = 'start';\n        } else {\n            textAnchor = 'middle';\n        }\n    }\n\n    var round = Math.round;\n    return labelAttributes({\n        x: round(tx),\n        y: round(ty),\n        angle: orientAngle,\n        attrs: {\n            '.': {\n                y: y,\n                'text-anchor': textAnchor\n            }\n        }\n    });\n}\n\nfunction getBBoxAngles(elBBox) {\n\n    var center = elBBox.center();\n\n    var tl = center.theta(elBBox.origin());\n    var bl = center.theta(elBBox.bottomLeft());\n    var br = center.theta(elBBox.corner());\n    var tr = center.theta(elBBox.topRight());\n\n    return [tl, tr, br, bl];\n}\n\nfunction insideLayout(portPosition, elBBox, autoOrient, opt) {\n\n    var angle = elBBox.center().theta(portPosition);\n    opt = util.defaults({}, opt, { offset: 15 });\n\n    var tx, ty, y, textAnchor;\n    var offset = opt.offset;\n    var orientAngle = 0;\n\n    var bBoxAngles = getBBoxAngles(elBBox);\n\n    if (angle < bBoxAngles[1] || angle > bBoxAngles[2]) {\n        y = '.3em';\n        tx = -offset;\n        ty = 0;\n        textAnchor = 'end';\n    } else if (angle < bBoxAngles[0]) {\n        y = '.6em';\n        tx = 0;\n        ty = offset;\n        if (autoOrient) {\n            orientAngle = 90;\n            textAnchor = 'start';\n        } else {\n            textAnchor = 'middle';\n        }\n    } else if (angle < bBoxAngles[3]) {\n        y = '.3em';\n        tx = offset;\n        ty = 0;\n        textAnchor = 'start';\n    } else {\n        y = '0em';\n        tx = 0;\n        ty = -offset;\n        if (autoOrient) {\n            orientAngle = -90;\n            textAnchor = 'start';\n        } else {\n            textAnchor = 'middle';\n        }\n    }\n\n    var round = Math.round;\n    return labelAttributes({\n        x: round(tx),\n        y: round(ty),\n        angle: orientAngle,\n        attrs: {\n            '.': {\n                y: y,\n                'text-anchor': textAnchor\n            }\n        }\n    });\n}\n\nfunction radialLayout(portCenterOffset, autoOrient, opt) {\n\n    opt = util.defaults({}, opt, { offset: 20 });\n\n    var origin = g.point(0, 0);\n    var angle = -portCenterOffset.theta(origin);\n    var orientAngle = angle;\n    var offset = portCenterOffset.clone()\n        .move(origin, opt.offset)\n        .difference(portCenterOffset)\n        .round();\n\n    var y = '.3em';\n    var textAnchor;\n\n    if ((angle + 90) % 180 === 0) {\n        textAnchor = autoOrient ? 'end' : 'middle';\n        if (!autoOrient && angle === -270) {\n            y = '0em';\n        }\n    } else if (angle > -270 && angle < -90) {\n        textAnchor = 'start';\n        orientAngle = angle - 180;\n    } else {\n        textAnchor = 'end';\n    }\n\n    var round = Math.round;\n    return labelAttributes({\n        x: round(offset.x),\n        y: round(offset.y),\n        angle: autoOrient ? orientAngle : 0,\n        attrs: {\n            '.': {\n                y: y,\n                'text-anchor': textAnchor\n            }\n        }\n    });\n}\n\nexport const manual = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, elBBox);\n};\n\nexport const left = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, { x: -15, attrs: { '.': { y: '.3em', 'text-anchor': 'end' }}});\n};\n\nexport const right = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, { x: 15, attrs: { '.': { y: '.3em', 'text-anchor': 'start' }}});\n};\n\nexport const top = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, { y: -15, attrs: { '.': { 'text-anchor': 'middle' }}});\n};\n\nexport const bottom = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, { y: 15, attrs: { '.': { y: '.6em', 'text-anchor': 'middle' }}});\n};\n\nexport const outsideOriented = function(portPosition, elBBox, opt) {\n    return outsideLayout(portPosition, elBBox, true, opt);\n};\n\nexport const outside = function(portPosition, elBBox, opt) {\n    return outsideLayout(portPosition, elBBox, false, opt);\n};\n\nexport const insideOriented = function(portPosition, elBBox, opt) {\n    return insideLayout(portPosition, elBBox, true, opt);\n};\n\nexport const inside = function(portPosition, elBBox, opt) {\n    return insideLayout(portPosition, elBBox, false, opt);\n};\n\nexport const radial = function(portPosition, elBBox, opt) {\n    return radialLayout(portPosition.difference(elBBox.center()), false, opt);\n};\n\nexport const radialOriented = function(portPosition, elBBox, opt) {\n    return radialLayout(portPosition.difference(elBBox.center()), true, opt);\n};\n\n","import { Cell } from './Cell.mjs';\nimport { clone, isPlainObject, isFunction, isString, isNumber } from '../util/index.mjs';\nimport { Point, Polyline } from '../g/index.mjs';\n\n// Link base model.\n// --------------------------\n\nexport const Link = Cell.extend({\n\n    // The default markup for links.\n    markup: [\n        '<path class=\"connection\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-source\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-target\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"connection-wrap\" d=\"M 0 0 0 0\"/>',\n        '<g class=\"labels\"/>',\n        '<g class=\"marker-vertices\"/>',\n        '<g class=\"marker-arrowheads\"/>',\n        '<g class=\"link-tools\"/>'\n    ].join(''),\n\n    toolMarkup: [\n        '<g class=\"link-tool\">',\n        '<g class=\"tool-remove\" event=\"remove\">',\n        '<circle r=\"11\" />',\n        '<path transform=\"scale(.8) translate(-16, -16)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\" />',\n        '<title>Remove link.</title>',\n        '</g>',\n        '<g class=\"tool-options\" event=\"link:options\">',\n        '<circle r=\"11\" transform=\"translate(25)\"/>',\n        '<path fill=\"white\" transform=\"scale(.55) translate(29, -16)\" d=\"M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z\"/>',\n        '<title>Link options.</title>',\n        '</g>',\n        '</g>'\n    ].join(''),\n\n    doubleToolMarkup: undefined,\n\n    // The default markup for showing/removing vertices. These elements are the children of the .marker-vertices element (see `this.markup`).\n    // Only .marker-vertex and .marker-vertex-remove element have special meaning. The former is used for\n    // dragging vertices (changing their position). The latter is used for removing vertices.\n    vertexMarkup: [\n        '<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">',\n        '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />',\n        '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>',\n        '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">',\n        '<title>Remove vertex.</title>',\n        '</path>',\n        '</g>'\n    ].join(''),\n\n    arrowheadMarkup: [\n        '<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">',\n        '<path class=\"marker-arrowhead\" end=\"<%= end %>\" d=\"M 26 0 L 0 13 L 26 26 z\" />',\n        '</g>'\n    ].join(''),\n\n    // may be overwritten by user to change default label (its markup, attrs, position)\n    defaultLabel: undefined,\n\n    // deprecated\n    // may be overwritten by user to change default label markup\n    // lower priority than defaultLabel.markup\n    labelMarkup: undefined,\n\n    // private\n    _builtins: {\n        defaultLabel: {\n            // builtin default markup:\n            // used if neither defaultLabel.markup\n            // nor label.markup is set\n            markup: [\n                {\n                    tagName: 'rect',\n                    selector: 'rect' // faster than tagName CSS selector\n                }, {\n                    tagName: 'text',\n                    selector: 'text' // faster than tagName CSS selector\n                }\n            ],\n            // builtin default attributes:\n            // applied only if builtin default markup is used\n            attrs: {\n                text: {\n                    fill: '#000000',\n                    fontSize: 14,\n                    textAnchor: 'middle',\n                    yAlignment: 'middle',\n                    pointerEvents: 'none'\n                },\n                rect: {\n                    ref: 'text',\n                    fill: '#ffffff',\n                    rx: 3,\n                    ry: 3,\n                    refWidth: 1,\n                    refHeight: 1,\n                    refX: 0,\n                    refY: 0\n                }\n            },\n            // builtin default position:\n            // used if neither defaultLabel.position\n            // nor label.position is set\n            position: {\n                distance: 0.5\n            }\n        }\n    },\n\n    defaults: {\n        type: 'link',\n        source: {},\n        target: {}\n    },\n\n    isLink: function() {\n\n        return true;\n    },\n\n    disconnect: function(opt) {\n\n        return this.set({\n            source: { x: 0, y: 0 },\n            target: { x: 0, y: 0 }\n        }, opt);\n    },\n\n    source: function(source, args, opt) {\n\n        // getter\n        if (source === undefined) {\n            return clone(this.get('source'));\n        }\n\n        // setter\n        var setSource;\n        var setOpt;\n\n        // `source` is a cell\n        // take only its `id` and combine with `args`\n        var isCellProvided = source instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.id = source.id;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(source);\n        if (isPointProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.x = source.x;\n            setSource.y = source.y;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is an object\n        // no checking\n        // two arguments\n        setSource = source;\n        setOpt = args;\n        return this.set('source', setSource, setOpt);\n    },\n\n    target: function(target, args, opt) {\n\n        // getter\n        if (target === undefined) {\n            return clone(this.get('target'));\n        }\n\n        // setter\n        var setTarget;\n        var setOpt;\n\n        // `target` is a cell\n        // take only its `id` argument and combine with `args`\n        var isCellProvided = target instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.id = target.id;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(target);\n        if (isPointProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.x = target.x;\n            setTarget.y = target.y;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is an object\n        // no checking\n        // two arguments\n        setTarget = target;\n        setOpt = args;\n        return this.set('target', setTarget, setOpt);\n    },\n\n    router: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var router = this.get('router');\n            if (!router) {\n                if (this.get('manhattan')) return { name: 'orthogonal' }; // backwards compatibility\n                return null;\n            }\n            if (typeof router === 'object') return clone(router);\n            return router; // e.g. a function\n        }\n\n        // setter\n        var isRouterProvided = ((typeof name === 'object') || (typeof name === 'function'));\n        var localRouter = isRouterProvided ? name : { name: name, args: args };\n        var localOpt = isRouterProvided ? args : opt;\n\n        return this.set('router', localRouter, localOpt);\n    },\n\n    connector: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var connector = this.get('connector');\n            if (!connector) {\n                if (this.get('smooth')) return { name: 'smooth' }; // backwards compatibility\n                return null;\n            }\n            if (typeof connector === 'object') return clone(connector);\n            return connector; // e.g. a function\n        }\n\n        // setter\n        var isConnectorProvided = ((typeof name === 'object' || typeof name === 'function'));\n        var localConnector = isConnectorProvided ? name : { name: name, args: args };\n        var localOpt = isConnectorProvided ? args : opt;\n\n        return this.set('connector', localConnector, localOpt);\n    },\n\n    // Labels API\n\n    // A convenient way to set labels. Currently set values will be mixined with `value` if used as a setter.\n    label: function(idx, label, opt) {\n\n        var labels = this.labels();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = labels.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['labels', idx]);\n        // setter\n        return this.prop(['labels', idx], label, opt);\n    },\n\n    labels: function(labels, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            labels = this.get('labels');\n            if (!Array.isArray(labels)) return [];\n            return labels.slice();\n        }\n        // setter\n        if (!Array.isArray(labels)) labels = [];\n        return this.set('labels', labels, opt);\n    },\n\n    insertLabel: function(idx, label, opt) {\n\n        if (!label) throw new Error('dia.Link: no label provided');\n\n        var labels = this.labels();\n        var n = labels.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        labels.splice(idx, 0, label);\n        return this.labels(labels, opt);\n    },\n\n    // convenience function\n    // add label to end of labels array\n    appendLabel: function(label, opt) {\n\n        return this.insertLabel(-1, label, opt);\n    },\n\n    removeLabel: function(idx, opt) {\n\n        var labels = this.labels();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        labels.splice(idx, 1);\n        return this.labels(labels, opt);\n    },\n\n    // Vertices API\n\n    vertex: function(idx, vertex, opt) {\n\n        var vertices = this.vertices();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = vertices.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['vertices', idx]);\n\n        // setter\n        var setVertex = this._normalizeVertex(vertex);\n        return this.prop(['vertices', idx], setVertex, opt);\n    },\n\n    vertices: function(vertices, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            vertices = this.get('vertices');\n            if (!Array.isArray(vertices)) return [];\n            return vertices.slice();\n        }\n\n        // setter\n        if (!Array.isArray(vertices)) vertices = [];\n        var setVertices = [];\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            var setVertex = this._normalizeVertex(vertex);\n            setVertices.push(setVertex);\n        }\n        return this.set('vertices', setVertices, opt);\n    },\n\n    insertVertex: function(idx, vertex, opt) {\n\n        if (!vertex) throw new Error('dia.Link: no vertex provided');\n\n        var vertices = this.vertices();\n        var n = vertices.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        var setVertex = this._normalizeVertex(vertex);\n        vertices.splice(idx, 0, setVertex);\n        return this.vertices(vertices, opt);\n    },\n\n    removeVertex: function(idx, opt) {\n\n        var vertices = this.vertices();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        vertices.splice(idx, 1);\n        return this.vertices(vertices, opt);\n    },\n\n    _normalizeVertex: function(vertex) {\n\n        // is vertex a point-like object?\n        // for example, a g.Point\n        var isPointProvided = !isPlainObject(vertex);\n        if (isPointProvided) return { x: vertex.x, y: vertex.y };\n\n        // else: return vertex unchanged\n        return vertex;\n    },\n\n    // Transformations\n\n    translate: function(tx, ty, opt) {\n\n        // enrich the option object\n        opt = opt || {};\n        opt.translateBy = opt.translateBy || this.id;\n        opt.tx = tx;\n        opt.ty = ty;\n\n        return this.applyToPoints(function(p) {\n            return { x: (p.x || 0) + tx, y: (p.y || 0) + ty };\n        }, opt);\n    },\n\n    scale: function(sx, sy, origin, opt) {\n\n        return this.applyToPoints(function(p) {\n            return Point(p).scale(sx, sy, origin).toJSON();\n        }, opt);\n    },\n\n    applyToPoints: function(fn, opt) {\n\n        if (!isFunction(fn)) {\n            throw new TypeError('dia.Link: applyToPoints expects its first parameter to be a function.');\n        }\n\n        var attrs = {};\n\n        var { source, target } = this.attributes;\n        if (!source.id) {\n            attrs.source = fn(source);\n        }\n        if (!target.id) {\n            attrs.target = fn(target);\n        }\n\n        var vertices = this.vertices();\n        if (vertices.length > 0) {\n            attrs.vertices = vertices.map(fn);\n        }\n\n        return this.set(attrs, opt);\n    },\n\n    getSourcePoint: function() {\n        var sourceCell = this.getSourceCell();\n        if (!sourceCell) return new Point(this.source());\n        return sourceCell.getPointFromConnectedLink(this, 'source');\n    },\n\n    getTargetPoint: function() {\n        var targetCell = this.getTargetCell();\n        if (!targetCell) return new Point(this.target());\n        return targetCell.getPointFromConnectedLink(this, 'target');\n    },\n\n    getPointFromConnectedLink: function(/* link, endType */) {\n        return this.getPolyline().pointAt(0.5);\n    },\n\n    getPolyline: function() {\n        const points = [\n            this.getSourcePoint(),\n            ...this.vertices().map(Point),\n            this.getTargetPoint()\n        ];\n        return new Polyline(points);\n    },\n\n    getBBox: function() {\n        return this.getPolyline().bbox();\n    },\n\n    reparent: function(opt) {\n\n        var newParent;\n\n        if (this.graph) {\n\n            var source = this.getSourceElement();\n            var target = this.getTargetElement();\n            var prevParent = this.getParentCell();\n\n            if (source && target) {\n                if (source === target || source.isEmbeddedIn(target)) {\n                    newParent = target;\n                } else if (target.isEmbeddedIn(source)) {\n                    newParent = source;\n                } else {\n                    newParent = this.graph.getCommonAncestor(source, target);\n                }\n            }\n\n            if (prevParent && (!newParent || newParent.id !== prevParent.id)) {\n                // Unembed the link if source and target has no common ancestor\n                // or common ancestor changed\n                prevParent.unembed(this, opt);\n            }\n\n            if (newParent) {\n                newParent.embed(this, opt);\n            }\n        }\n\n        return newParent;\n    },\n\n    hasLoop: function(opt) {\n\n        opt = opt || {};\n\n        var { source, target } = this.attributes;\n        var sourceId = source.id;\n        var targetId = target.id;\n\n        if (!sourceId || !targetId) {\n            // Link \"pinned\" to the paper does not have a loop.\n            return false;\n        }\n\n        var loop = sourceId === targetId;\n\n        // Note that there in the deep mode a link can have a loop,\n        // even if it connects only a parent and its embed.\n        // A loop \"target equals source\" is valid in both shallow and deep mode.\n        if (!loop && opt.deep && this.graph) {\n\n            var sourceElement = this.getSourceCell();\n            var targetElement = this.getTargetCell();\n\n            loop = sourceElement.isEmbeddedIn(targetElement) || targetElement.isEmbeddedIn(sourceElement);\n        }\n\n        return loop;\n    },\n\n    // unlike source(), this method returns null if source is a point\n    getSourceCell: function() {\n\n        const { graph, attributes } = this;\n        var source = attributes.source;\n        return (source && source.id && graph && graph.getCell(source.id)) || null;\n    },\n\n    getSourceElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getSourceCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // unlike target(), this method returns null if target is a point\n    getTargetCell: function() {\n\n        const { graph, attributes } = this;\n        var target = attributes.target;\n        return (target && target.id && graph && graph.getCell(target.id)) || null;\n    },\n\n    getTargetElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getTargetCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // Returns the common ancestor for the source element,\n    // target element and the link itself.\n    getRelationshipAncestor: function() {\n\n        var connectionAncestor;\n\n        if (this.graph) {\n\n            var cells = [\n                this,\n                this.getSourceElement(), // null if source is a point\n                this.getTargetElement() // null if target is a point\n            ].filter(function(item) {\n                return !!item;\n            });\n\n            connectionAncestor = this.graph.getCommonAncestor.apply(this.graph, cells);\n        }\n\n        return connectionAncestor || null;\n    },\n\n    // Is source, target and the link itself embedded in a given cell?\n    isRelationshipEmbeddedIn: function(cell) {\n\n        var cellId = (isString(cell) || isNumber(cell)) ? cell : cell.id;\n        var ancestor = this.getRelationshipAncestor();\n\n        return !!ancestor && (ancestor.id === cellId || ancestor.isEmbeddedIn(cellId));\n    },\n\n    // Get resolved default label.\n    _getDefaultLabel: function() {\n\n        var defaultLabel = this.get('defaultLabel') || this.defaultLabel || {};\n\n        var label = {};\n        label.markup = defaultLabel.markup || this.get('labelMarkup') || this.labelMarkup;\n        label.position = defaultLabel.position;\n        label.attrs = defaultLabel.attrs;\n        label.size = defaultLabel.size;\n\n        return label;\n    }\n}, {\n\n    endsEqual: function(a, b) {\n\n        var portsEqual = a.port === b.port || !a.port && !b.port;\n        return a.id === b.id && portsEqual;\n    }\n});\n\n","import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { Rect, Point } from '../g/index.mjs';\nimport * as Port from '../layout/ports/port.mjs';\nimport * as PortLabel from '../layout/ports/portLabel.mjs';\n\nvar PortData = function(data) {\n\n    var clonedData = util.cloneDeep(data) || {};\n    this.ports = [];\n    this.groups = {};\n    this.portLayoutNamespace = Port;\n    this.portLabelLayoutNamespace = PortLabel;\n\n    this._init(clonedData);\n};\n\nPortData.prototype = {\n\n    getPorts: function() {\n        return this.ports;\n    },\n\n    getGroup: function(name) {\n        return this.groups[name] || {};\n    },\n\n    getPortsByGroup: function(groupName) {\n\n        return this.ports.filter(function(port) {\n            return port.group === groupName;\n        });\n    },\n\n    getGroupPortsMetrics: function(groupName, elBBox) {\n\n        var group = this.getGroup(groupName);\n        var ports = this.getPortsByGroup(groupName);\n\n        var groupPosition = group.position || {};\n        var groupPositionName = groupPosition.name;\n        var namespace = this.portLayoutNamespace;\n        if (!namespace[groupPositionName]) {\n            groupPositionName = 'left';\n        }\n\n        var groupArgs = groupPosition.args || {};\n        var portsArgs = ports.map(function(port) {\n            return port && port.position && port.position.args;\n        });\n        var groupPortTransformations = namespace[groupPositionName](portsArgs, elBBox, groupArgs);\n\n        var accumulator = {\n            ports: ports,\n            result: []\n        };\n\n        util.toArray(groupPortTransformations).reduce(function(res, portTransformation, index) {\n            var port = res.ports[index];\n            res.result.push({\n                portId: port.id,\n                portTransformation: portTransformation,\n                labelTransformation: this._getPortLabelLayout(port, Point(portTransformation), elBBox),\n                portAttrs: port.attrs,\n                portSize: port.size,\n                labelSize: port.label.size\n            });\n            return res;\n        }.bind(this), accumulator);\n\n        return accumulator.result;\n    },\n\n    _getPortLabelLayout: function(port, portPosition, elBBox) {\n\n        var namespace = this.portLabelLayoutNamespace;\n        var labelPosition = port.label.position.name || 'left';\n\n        if (namespace[labelPosition]) {\n            return namespace[labelPosition](portPosition, elBBox, port.label.position.args);\n        }\n\n        return null;\n    },\n\n    _init: function(data) {\n\n        // prepare groups\n        if (util.isObject(data.groups)) {\n            var groups = Object.keys(data.groups);\n            for (var i = 0, n = groups.length; i < n; i++) {\n                var key = groups[i];\n                this.groups[key] = this._evaluateGroup(data.groups[key]);\n            }\n        }\n\n        // prepare ports\n        var ports = util.toArray(data.items);\n        for (var j = 0, m = ports.length; j < m; j++) {\n            this.ports.push(this._evaluatePort(ports[j]));\n        }\n    },\n\n    _evaluateGroup: function(group) {\n\n        return util.merge(group, {\n            position: this._getPosition(group.position, true),\n            label: this._getLabel(group, true)\n        });\n    },\n\n    _evaluatePort: function(port) {\n\n        var evaluated = util.assign({}, port);\n\n        var group = this.getGroup(port.group);\n\n        evaluated.markup = evaluated.markup || group.markup;\n        evaluated.attrs = util.merge({}, group.attrs, evaluated.attrs);\n        evaluated.position = this._createPositionNode(group, evaluated);\n        evaluated.label = util.merge({}, group.label, this._getLabel(evaluated));\n        evaluated.z = this._getZIndex(group, evaluated);\n        evaluated.size = util.assign({}, group.size, evaluated.size);\n\n        return evaluated;\n    },\n\n    _getZIndex: function(group, port) {\n\n        if (util.isNumber(port.z)) {\n            return port.z;\n        }\n        if (util.isNumber(group.z) || group.z === 'auto') {\n            return group.z;\n        }\n        return 'auto';\n    },\n\n    _createPositionNode: function(group, port) {\n\n        return util.merge({\n            name: 'left',\n            args: {}\n        }, group.position, { args: port.args });\n    },\n\n    _getPosition: function(position, setDefault) {\n\n        var args = {};\n        var positionName;\n\n        if (util.isFunction(position)) {\n            positionName = 'fn';\n            args.fn = position;\n        } else if (util.isString(position)) {\n            positionName = position;\n        } else if (position === undefined) {\n            positionName = setDefault ? 'left' : null;\n        } else if (Array.isArray(position)) {\n            positionName = 'absolute';\n            args.x = position[0];\n            args.y = position[1];\n        } else if (util.isObject(position)) {\n            positionName = position.name;\n            util.assign(args, position.args);\n        }\n\n        var result = { args: args };\n\n        if (positionName) {\n            result.name = positionName;\n        }\n        return result;\n    },\n\n    _getLabel: function(item, setDefaults) {\n\n        var label = item.label || {};\n\n        var ret = label;\n        ret.position = this._getPosition(label.position, setDefaults);\n\n        return ret;\n    }\n};\n\nexport const elementPortPrototype = {\n\n    _initializePorts: function() {\n\n        this._createPortData();\n        this.on('change:ports', function() {\n\n            this._processRemovedPort();\n            this._createPortData();\n        }, this);\n    },\n\n    /**\n     * remove links tied wiht just removed element\n     * @private\n     */\n    _processRemovedPort: function() {\n\n        var current = this.get('ports') || {};\n        var currentItemsMap = {};\n\n        util.toArray(current.items).forEach(function(item) {\n            currentItemsMap[item.id] = true;\n        });\n\n        var previous = this.previous('ports') || {};\n        var removed = {};\n\n        util.toArray(previous.items).forEach(function(item) {\n            if (!currentItemsMap[item.id]) {\n                removed[item.id] = true;\n            }\n        });\n\n        var graph = this.graph;\n        if (graph && !util.isEmpty(removed)) {\n\n            var inboundLinks = graph.getConnectedLinks(this, { inbound: true });\n            inboundLinks.forEach(function(link) {\n\n                if (removed[link.get('target').port]) link.remove();\n            });\n\n            var outboundLinks = graph.getConnectedLinks(this, { outbound: true });\n            outboundLinks.forEach(function(link) {\n\n                if (removed[link.get('source').port]) link.remove();\n            });\n        }\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    hasPorts: function() {\n\n        var ports = this.prop('ports/items');\n        return Array.isArray(ports) && ports.length > 0;\n    },\n\n    /**\n     * @param {string} id\n     * @returns {boolean}\n     */\n    hasPort: function(id) {\n\n        return this.getPortIndex(id) !== -1;\n    },\n\n    /**\n     * @returns {Array<object>}\n     */\n    getPorts: function() {\n\n        return util.cloneDeep(this.prop('ports/items')) || [];\n    },\n\n    /**\n     * @returns {Array<object>}\n     */\n    getGroupPorts: function(groupName) {\n        const groupPorts = util.toArray(this.prop(['ports','items'])).filter(port => port.group === groupName);\n        return util.cloneDeep(groupPorts);\n    },\n\n    /**\n     * @param {string} id\n     * @returns {object}\n     */\n    getPort: function(id) {\n\n        return util.cloneDeep(util.toArray(this.prop('ports/items')).find(function(port) {\n            return port.id && port.id === id;\n        }));\n    },\n\n    /**\n     * @param {string} groupName\n     * @returns {Object<portId, {x: number, y: number, angle: number}>}\n     */\n    getPortsPositions: function(groupName) {\n\n        var portsMetrics = this._portSettingsData.getGroupPortsMetrics(groupName, Rect(this.size()));\n\n        return portsMetrics.reduce(function(positions, metrics) {\n            var transformation = metrics.portTransformation;\n            positions[metrics.portId] = {\n                x: transformation.x,\n                y: transformation.y,\n                angle: transformation.angle\n            };\n            return positions;\n        }, {});\n    },\n\n    /**\n     * @param {string|Port} port port id or port\n     * @returns {number} port index\n     */\n    getPortIndex: function(port) {\n\n        var id = util.isObject(port) ? port.id : port;\n\n        if (!this._isValidPortId(id)) {\n            return -1;\n        }\n\n        return util.toArray(this.prop('ports/items')).findIndex(function(item) {\n            return item.id === id;\n        });\n    },\n\n    /**\n     * @param {object} port\n     * @param {object} [opt]\n     * @returns {joint.dia.Element}\n     */\n    addPort: function(port, opt) {\n\n        if (!util.isObject(port) || Array.isArray(port)) {\n            throw new Error('Element: addPort requires an object.');\n        }\n\n        var ports = util.assign([], this.prop('ports/items'));\n        ports.push(port);\n        this.prop('ports/items', ports, opt);\n\n        return this;\n    },\n\n    /**\n     * @param {string|Port|number} before\n     * @param {object} port\n     * @param {object} [opt]\n     * @returns {joint.dia.Element}\n     */\n    insertPort: function(before, port, opt) {\n        const index = (typeof before === 'number') ? before : this.getPortIndex(before);\n\n        if (!util.isObject(port) || Array.isArray(port)) {\n            throw new Error('dia.Element: insertPort requires an object.');\n        }\n\n        const ports = util.assign([], this.prop('ports/items'));\n        ports.splice(index, 0, port);\n        this.prop('ports/items', ports, opt);\n\n        return this;\n    },\n\n    /**\n     * @param {string} portId\n     * @param {string|object=} path\n     * @param {*=} value\n     * @param {object=} opt\n     * @returns {joint.dia.Element}\n     */\n    portProp: function(portId, path, value, opt) {\n\n        var index = this.getPortIndex(portId);\n\n        if (index === -1) {\n            throw new Error('Element: unable to find port with id ' + portId);\n        }\n\n        var args = Array.prototype.slice.call(arguments, 1);\n        if (Array.isArray(path)) {\n            args[0] = ['ports', 'items', index].concat(path);\n        } else if (util.isString(path)) {\n\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n            args[0] = ['ports/items/', index, '/', path].join('');\n\n        } else {\n\n            args = ['ports/items/' + index];\n            if (util.isPlainObject(path)) {\n                args.push(path);\n                args.push(value);\n            }\n        }\n\n        return this.prop.apply(this, args);\n    },\n\n    _validatePorts: function() {\n\n        var portsAttr = this.get('ports') || {};\n\n        var errorMessages = [];\n        portsAttr = portsAttr || {};\n        var ports = util.toArray(portsAttr.items);\n\n        ports.forEach(function(p) {\n\n            if (typeof p !== 'object') {\n                errorMessages.push('Element: invalid port ', p);\n            }\n\n            if (!this._isValidPortId(p.id)) {\n                p.id = this.generatePortId();\n            }\n        }, this);\n\n        if (util.uniq(ports, 'id').length !== ports.length) {\n            errorMessages.push('Element: found id duplicities in ports.');\n        }\n\n        return errorMessages;\n    },\n\n    generatePortId: function() {\n        return this.generateId();\n    },\n\n    /**\n     * @param {string} id port id\n     * @returns {boolean}\n     * @private\n     */\n    _isValidPortId: function(id) {\n\n        return id !== null && id !== undefined && !util.isObject(id);\n    },\n\n    addPorts: function(ports, opt) {\n\n        if (ports.length) {\n            this.prop('ports/items', util.assign([], this.prop('ports/items')).concat(ports), opt);\n        }\n\n        return this;\n    },\n\n    removePort: function(port, opt) {\n        const options = opt || {};\n        const index = this.getPortIndex(port);\n        if (index !== -1) {\n            const ports = util.assign([], this.prop(['ports', 'items']));\n            ports.splice(index, 1);\n            options.rewrite = true;\n            this.startBatch('port-remove');\n            this.prop(['ports', 'items'], ports, options);\n            this.stopBatch('port-remove');\n        }\n        return this;\n    },\n\n    removePorts: function(portsForRemoval, opt) {\n        let options, newPorts;\n        if (Array.isArray(portsForRemoval)) {\n            options = opt || {};\n            if (portsForRemoval.length === 0) return this.this;\n            const currentPorts = util.assign([], this.prop(['ports', 'items']));\n            newPorts = currentPorts.filter(function(cp) {\n                return !portsForRemoval.some(function(rp) {\n                    const rpId = util.isObject(rp) ? rp.id : rp;\n                    return cp.id === rpId;\n                });\n            });\n        } else {\n            options = portsForRemoval || {};\n            newPorts = [];\n        }\n        this.startBatch('port-remove');\n        options.rewrite = true;\n        this.prop(['ports', 'items'], newPorts, options);\n        this.stopBatch('port-remove');\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    _createPortData: function() {\n\n        var err = this._validatePorts();\n\n        if (err.length > 0) {\n            this.set('ports', this.previous('ports'));\n            throw new Error(err.join(' '));\n        }\n\n        var prevPortData;\n\n        if (this._portSettingsData) {\n\n            prevPortData = this._portSettingsData.getPorts();\n        }\n\n        this._portSettingsData = new PortData(this.get('ports'));\n\n        var curPortData = this._portSettingsData.getPorts();\n\n        if (prevPortData) {\n\n            var added = curPortData.filter(function(item) {\n                if (!prevPortData.find(function(prevPort) {\n                    return prevPort.id === item.id;\n                })) {\n                    return item;\n                }\n            });\n\n            var removed = prevPortData.filter(function(item) {\n                if (!curPortData.find(function(curPort) {\n                    return curPort.id === item.id;\n                })) {\n                    return item;\n                }\n            });\n\n            if (removed.length > 0) {\n                this.trigger('ports:remove', this, removed);\n            }\n\n            if (added.length > 0) {\n                this.trigger('ports:add', this, added);\n            }\n        }\n    }\n};\n\nexport const elementViewPortPrototype = {\n\n    portContainerMarkup: 'g',\n    portMarkup: [{\n        tagName: 'circle',\n        selector: 'circle',\n        attributes: {\n            'r': 10,\n            'fill': '#FFFFFF',\n            'stroke': '#000000'\n        }\n    }],\n    portLabelMarkup: [{\n        tagName: 'text',\n        selector: 'text',\n        attributes: {\n            'fill': '#000000'\n        }\n    }],\n    /** @type {Object<string, {portElement: Vectorizer, portLabelElement: Vectorizer}>} */\n    _portElementsCache: null,\n\n    /**\n     * @private\n     */\n    _initializePorts: function() {\n        this._cleanPortsCache();\n    },\n\n    /**\n     * @typedef {Object} Port\n     *\n     * @property {string} id\n     * @property {Object} position\n     * @property {Object} label\n     * @property {Object} attrs\n     * @property {string} markup\n     * @property {string} group\n     */\n\n    /**\n     * @private\n     */\n    _refreshPorts: function() {\n\n        this._removePorts();\n        this._cleanPortsCache();\n        this._renderPorts();\n    },\n\n    _cleanPortsCache: function() {\n        this._portElementsCache = {};\n    },\n\n    /**\n     * @private\n     */\n    _renderPorts: function() {\n\n        // references to rendered elements without z-index\n        var elementReferences = [];\n        var elem = this._getContainerElement();\n\n        for (var i = 0, count = elem.node.childNodes.length; i < count; i++) {\n            elementReferences.push(elem.node.childNodes[i]);\n        }\n\n        var portsGropsByZ = util.groupBy(this.model._portSettingsData.getPorts(), 'z');\n        var withoutZKey = 'auto';\n\n        // render non-z first\n        util.toArray(portsGropsByZ[withoutZKey]).forEach(function(port) {\n            var portElement = this._getPortElement(port);\n            elem.append(portElement);\n            elementReferences.push(portElement);\n        }, this);\n\n        var groupNames = Object.keys(portsGropsByZ);\n        for (var k = 0; k < groupNames.length; k++) {\n            var groupName = groupNames[k];\n            if (groupName !== withoutZKey) {\n                var z = parseInt(groupName, 10);\n                this._appendPorts(portsGropsByZ[groupName], z, elementReferences);\n            }\n        }\n\n        this._updatePorts();\n    },\n\n    /**\n     * @returns {V}\n     * @private\n     */\n    _getContainerElement: function() {\n\n        return this.rotatableNode || this.vel;\n    },\n\n    /**\n     * @param {Array<Port>}ports\n     * @param {number} z\n     * @param refs\n     * @private\n     */\n    _appendPorts: function(ports, z, refs) {\n\n        var containerElement = this._getContainerElement();\n        var portElements = util.toArray(ports).map(this._getPortElement, this);\n\n        if (refs[z] || z < 0) {\n            V(refs[Math.max(z, 0)]).before(portElements);\n        } else {\n            containerElement.append(portElements);\n        }\n    },\n\n    /**\n     * Try to get element from cache,\n     * @param port\n     * @returns {*}\n     * @private\n     */\n    _getPortElement: function(port) {\n\n        if (this._portElementsCache[port.id]) {\n            return this._portElementsCache[port.id].portElement;\n        }\n        return this._createPortElement(port);\n    },\n\n    findPortNode: function(portId, selector) {\n        const portCache = this._portElementsCache[portId];\n        if (!portCache) return null;\n        const portRoot = portCache.portContentElement.node;\n        const portSelectors = portCache.portContentSelectors;\n        const [node = null] = this.findBySelector(selector, portRoot, portSelectors);\n        return node;\n    },\n\n    /**\n     * @private\n     */\n    _updatePorts: function() {\n\n        // layout ports without group\n        this._updatePortGroup(undefined);\n        // layout ports with explicit group\n        var groupsNames = Object.keys(this.model._portSettingsData.groups);\n        groupsNames.forEach(this._updatePortGroup, this);\n    },\n\n    /**\n     * @private\n     */\n    _removePorts: function() {\n        util.invoke(this._portElementsCache, 'portElement.remove');\n    },\n\n    /**\n     * @param {Port} port\n     * @returns {V}\n     * @private\n     */\n    _createPortElement: function(port) {\n\n        var portElement;\n        var labelElement;\n\n        var portContainerElement = V(this.portContainerMarkup).addClass('joint-port');\n\n        var portMarkup = this._getPortMarkup(port);\n        var portSelectors;\n        if (Array.isArray(portMarkup)) {\n            var portDoc = this.parseDOMJSON(portMarkup, portContainerElement.node);\n            var portFragment = portDoc.fragment;\n            if (portFragment.childNodes.length > 1) {\n                portElement = V('g').append(portFragment);\n            } else {\n                portElement = V(portFragment.firstChild);\n            }\n            portSelectors = portDoc.selectors;\n        } else {\n            portElement = V(portMarkup);\n            if (Array.isArray(portElement)) {\n                portElement = V('g').append(portElement);\n            }\n        }\n\n        if (!portElement) {\n            throw new Error('ElementView: Invalid port markup.');\n        }\n\n        portElement.attr({\n            'port': port.id,\n            'port-group': port.group\n        });\n\n        var labelMarkup = this._getPortLabelMarkup(port.label);\n        var labelSelectors;\n        if (Array.isArray(labelMarkup)) {\n            var labelDoc = this.parseDOMJSON(labelMarkup, portContainerElement.node);\n            var labelFragment = labelDoc.fragment;\n            if (labelFragment.childNodes.length > 1) {\n                labelElement = V('g').append(labelFragment);\n            } else {\n                labelElement = V(labelFragment.firstChild);\n            }\n            labelSelectors = labelDoc.selectors;\n        } else {\n            labelElement = V(labelMarkup);\n            if (Array.isArray(labelElement)) {\n                labelElement = V('g').append(labelElement);\n            }\n        }\n\n        if (!labelElement) {\n            throw new Error('ElementView: Invalid port label markup.');\n        }\n\n        var portContainerSelectors;\n        if (portSelectors && labelSelectors) {\n            for (var key in labelSelectors) {\n                if (portSelectors[key] && key !== this.selector) throw new Error('ElementView: selectors within port must be unique.');\n            }\n            portContainerSelectors = util.assign({}, portSelectors, labelSelectors);\n        } else {\n            portContainerSelectors = portSelectors || labelSelectors;\n        }\n\n        portContainerElement.append([\n            portElement.addClass('joint-port-body'),\n            labelElement.addClass('joint-port-label')\n        ]);\n\n        this._portElementsCache[port.id] = {\n            portElement: portContainerElement,\n            portLabelElement: labelElement,\n            portSelectors: portContainerSelectors,\n            portLabelSelectors: labelSelectors,\n            portContentElement: portElement,\n            portContentSelectors: portSelectors\n        };\n\n        return portContainerElement;\n    },\n\n    /**\n     * @param {string=} groupName\n     * @private\n     */\n    _updatePortGroup: function(groupName) {\n\n        var elementBBox = Rect(this.model.size());\n        var portsMetrics = this.model._portSettingsData.getGroupPortsMetrics(groupName, elementBBox);\n\n        for (var i = 0, n = portsMetrics.length; i < n; i++) {\n            var metrics = portsMetrics[i];\n            var portId = metrics.portId;\n            var cached = this._portElementsCache[portId] || {};\n            var portTransformation = metrics.portTransformation;\n            this.applyPortTransform(cached.portElement, portTransformation);\n            this.updateDOMSubtreeAttributes(cached.portElement.node, metrics.portAttrs, {\n                rootBBox: new Rect(metrics.portSize),\n                selectors: cached.portSelectors\n            });\n\n            var labelTransformation = metrics.labelTransformation;\n            if (labelTransformation) {\n                this.applyPortTransform(cached.portLabelElement, labelTransformation, (-portTransformation.angle || 0));\n                this.updateDOMSubtreeAttributes(cached.portLabelElement.node, labelTransformation.attrs, {\n                    rootBBox: new Rect(metrics.labelSize),\n                    selectors: cached.portLabelSelectors\n                });\n            }\n        }\n    },\n\n    /**\n     * @param {Vectorizer} element\n     * @param {{dx:number, dy:number, angle: number, attrs: Object, x:number: y:number}} transformData\n     * @param {number=} initialAngle\n     * @constructor\n     */\n    applyPortTransform: function(element, transformData, initialAngle) {\n\n        var matrix = V.createSVGMatrix()\n            .rotate(initialAngle || 0)\n            .translate(transformData.x || 0, transformData.y || 0)\n            .rotate(transformData.angle || 0);\n\n        element.transform(matrix, { absolute: true });\n    },\n\n    /**\n     * @param {Port} port\n     * @returns {string}\n     * @private\n     */\n    _getPortMarkup: function(port) {\n\n        return port.markup || this.model.get('portMarkup') || this.model.portMarkup || this.portMarkup;\n    },\n\n    /**\n     * @param {Object} label\n     * @returns {string}\n     * @private\n     */\n    _getPortLabelMarkup: function(label) {\n\n        return label.markup || this.model.get('portLabelMarkup') || this.model.portLabelMarkup || this.portLabelMarkup;\n    }\n};\n\n","import { Cell } from './Cell.mjs';\nimport { Point, toRad, normalizeAngle, Rect } from '../g/index.mjs';\nimport { isNumber, isObject, interpolate, assign, invoke, normalizeSides } from '../util/index.mjs';\nimport { elementPortPrototype } from './ports.mjs';\n\n// Element base model.\n// -----------------------------\n\nexport const Element = Cell.extend({\n\n    defaults: {\n        position: { x: 0, y: 0 },\n        size: { width: 1, height: 1 },\n        angle: 0\n    },\n\n    initialize: function() {\n\n        this._initializePorts();\n        Cell.prototype.initialize.apply(this, arguments);\n    },\n\n    /**\n     * @abstract\n     */\n    _initializePorts: function() {\n        // implemented in ports.js\n    },\n\n    _refreshPorts: function() {\n        // implemented in ports.js\n    },\n\n    isElement: function() {\n\n        return true;\n    },\n\n    position: function(x, y, opt) {\n\n        var isSetter = isNumber(y);\n\n        opt = (isSetter ? opt : x) || {};\n\n        // option `parentRelative` for setting the position relative to the element's parent.\n        if (opt.parentRelative) {\n\n            // Getting the parent's position requires the collection.\n            // Cell.parent() holds cell id only.\n            if (!this.graph) throw new Error('Element must be part of a graph.');\n\n            var parent = this.getParentCell();\n            var parentPosition = parent && !parent.isLink()\n                ? parent.get('position')\n                : { x: 0, y: 0 };\n        }\n\n        if (isSetter) {\n\n            if (opt.parentRelative) {\n                x += parentPosition.x;\n                y += parentPosition.y;\n            }\n\n            if (opt.deep) {\n                var currentPosition = this.get('position');\n                this.translate(x - currentPosition.x, y - currentPosition.y, opt);\n            } else {\n                this.set('position', { x: x, y: y }, opt);\n            }\n\n            return this;\n\n        } else { // Getter returns a geometry point.\n\n            var elementPosition = Point(this.get('position'));\n\n            return opt.parentRelative\n                ? elementPosition.difference(parentPosition)\n                : elementPosition;\n        }\n    },\n\n    translate: function(tx, ty, opt) {\n\n        tx = tx || 0;\n        ty = ty || 0;\n\n        if (tx === 0 && ty === 0) {\n            // Like nothing has happened.\n            return this;\n        }\n\n        opt = opt || {};\n        // Pass the initiator of the translation.\n        opt.translateBy = opt.translateBy || this.id;\n\n        var position = this.get('position') || { x: 0, y: 0 };\n        var ra = opt.restrictedArea;\n        if (ra && opt.translateBy === this.id) {\n\n            if (typeof ra === 'function') {\n\n                var newPosition = ra.call(this, position.x + tx, position.y + ty, opt);\n\n                tx = newPosition.x - position.x;\n                ty = newPosition.y - position.y;\n\n            } else  {\n                // We are restricting the translation for the element itself only. We get\n                // the bounding box of the element including all its embeds.\n                // All embeds have to be translated the exact same way as the element.\n                var bbox = this.getBBox({ deep: true });\n                //- - - - - - - - - - - - -> ra.x + ra.width\n                // - - - -> position.x      |\n                // -> bbox.x\n                //                   |\n                //         \n                //                 |\n                //   \n                //                  |\n                //   <-dx->                     | restricted area right border\n                //         <-width->        |    translated element\n                //   <- - bbox.width - ->        embedded element\n                var dx = position.x - bbox.x;\n                var dy = position.y - bbox.y;\n                // Find the maximal/minimal coordinates that the element can be translated\n                // while complies the restrictions.\n                var x = Math.max(ra.x + dx, Math.min(ra.x + ra.width + dx - bbox.width, position.x + tx));\n                var y = Math.max(ra.y + dy, Math.min(ra.y + ra.height + dy - bbox.height, position.y + ty));\n                // recalculate the translation taking the restrictions into account.\n                tx = x - position.x;\n                ty = y - position.y;\n            }\n        }\n\n        var translatedPosition = {\n            x: position.x + tx,\n            y: position.y + ty\n        };\n\n        // To find out by how much an element was translated in event 'change:position' handlers.\n        opt.tx = tx;\n        opt.ty = ty;\n\n        if (opt.transition) {\n\n            if (!isObject(opt.transition)) opt.transition = {};\n\n            this.transition('position', translatedPosition, assign({}, opt.transition, {\n                valueFunction: interpolate.object\n            }));\n\n            // Recursively call `translate()` on all the embeds cells.\n            invoke(this.getEmbeddedCells(), 'translate', tx, ty, opt);\n\n        } else {\n\n            this.startBatch('translate', opt);\n            this.set('position', translatedPosition, opt);\n            invoke(this.getEmbeddedCells(), 'translate', tx, ty, opt);\n            this.stopBatch('translate', opt);\n        }\n\n        return this;\n    },\n\n    size: function(width, height, opt) {\n\n        var currentSize = this.get('size');\n        // Getter\n        // () signature\n        if (width === undefined) {\n            return {\n                width: currentSize.width,\n                height: currentSize.height\n            };\n        }\n        // Setter\n        // (size, opt) signature\n        if (isObject(width)) {\n            opt = height;\n            height = isNumber(width.height) ? width.height : currentSize.height;\n            width = isNumber(width.width) ? width.width : currentSize.width;\n        }\n\n        return this.resize(width, height, opt);\n    },\n\n    resize: function(width, height, opt) {\n\n        opt = opt || {};\n\n        this.startBatch('resize', opt);\n\n        if (opt.direction) {\n\n            var currentSize = this.get('size');\n\n            switch (opt.direction) {\n\n                case 'left':\n                case 'right':\n                    // Don't change height when resizing horizontally.\n                    height = currentSize.height;\n                    break;\n\n                case 'top':\n                case 'bottom':\n                    // Don't change width when resizing vertically.\n                    width = currentSize.width;\n                    break;\n            }\n\n            // Get the angle and clamp its value between 0 and 360 degrees.\n            var angle = normalizeAngle(this.get('angle') || 0);\n\n            // This is a rectangle in size of the un-rotated element.\n            var bbox = this.getBBox();\n\n            var origin;\n\n            if (angle) {\n\n                var quadrant = {\n                    'top-right': 0,\n                    'right': 0,\n                    'top-left': 1,\n                    'top': 1,\n                    'bottom-left': 2,\n                    'left': 2,\n                    'bottom-right': 3,\n                    'bottom': 3\n                }[opt.direction];\n\n                if (opt.absolute) {\n\n                    // We are taking the element's rotation into account\n                    quadrant += Math.floor((angle + 45) / 90);\n                    quadrant %= 4;\n                }\n\n                // Pick the corner point on the element, which meant to stay on its place before and\n                // after the rotation.\n                var fixedPoint = bbox[['bottomLeft', 'corner', 'topRight', 'origin'][quadrant]]();\n\n                // Find  an image of the previous indent point. This is the position, where is the\n                // point actually located on the screen.\n                var imageFixedPoint = Point(fixedPoint).rotate(bbox.center(), -angle);\n\n                // Every point on the element rotates around a circle with the centre of rotation\n                // in the middle of the element while the whole element is being rotated. That means\n                // that the distance from a point in the corner of the element (supposed its always rect) to\n                // the center of the element doesn't change during the rotation and therefore it equals\n                // to a distance on un-rotated element.\n                // We can find the distance as DISTANCE = (ELEMENTWIDTH/2)^2 + (ELEMENTHEIGHT/2)^2)^0.5.\n                var radius = Math.sqrt((width * width) + (height * height)) / 2;\n\n                // Now we are looking for an angle between x-axis and the line starting at image of fixed point\n                // and ending at the center of the element. We call this angle `alpha`.\n\n                // The image of a fixed point is located in n-th quadrant. For each quadrant passed\n                // going anti-clockwise we have to add 90 degrees. Note that the first quadrant has index 0.\n                //\n                // 3 | 2\n                // --c-- Quadrant positions around the element's center `c`\n                // 0 | 1\n                //\n                var alpha = quadrant * Math.PI / 2;\n\n                // Add an angle between the beginning of the current quadrant (line parallel with x-axis or y-axis\n                // going through the center of the element) and line crossing the indent of the fixed point and the center\n                // of the element. This is the angle we need but on the un-rotated element.\n                alpha += Math.atan(quadrant % 2 == 0 ? height / width : width / height);\n\n                // Lastly we have to deduct the original angle the element was rotated by and that's it.\n                alpha -= toRad(angle);\n\n                // With this angle and distance we can easily calculate the centre of the un-rotated element.\n                // Note that fromPolar constructor accepts an angle in radians.\n                var center = Point.fromPolar(radius, alpha, imageFixedPoint);\n\n                // The top left corner on the un-rotated element has to be half a width on the left\n                // and half a height to the top from the center. This will be the origin of rectangle\n                // we were looking for.\n                origin = Point(center).offset(width / -2, height / -2);\n\n            } else {\n                // calculation for the origin Point when there is no rotation of the element\n                origin = bbox.topLeft();\n\n                switch (opt.direction) {\n                    case 'top':\n                    case 'top-right':\n                        origin.offset(0, bbox.height - height);\n                        break;\n                    case 'left':\n                    case 'bottom-left':\n                        origin.offset(bbox.width -width, 0);\n                        break;\n                    case 'top-left':\n                        origin.offset(bbox.width - width, bbox.height - height);\n                        break;\n                }\n            }\n\n            // Resize the element (before re-positioning it).\n            this.set('size', { width: width, height: height }, opt);\n\n            // Finally, re-position the element.\n            this.position(origin.x, origin.y, opt);\n\n        } else {\n\n            // Resize the element.\n            this.set('size', { width: width, height: height }, opt);\n        }\n\n        this.stopBatch('resize', opt);\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin, opt) {\n\n        var scaledBBox = this.getBBox().scale(sx, sy, origin);\n        this.startBatch('scale', opt);\n        this.position(scaledBBox.x, scaledBBox.y, opt);\n        this.resize(scaledBBox.width, scaledBBox.height, opt);\n        this.stopBatch('scale');\n        return this;\n    },\n\n    fitEmbeds: function(opt = {}) {\n\n        // Getting the children's size and position requires the collection.\n        // Cell.get('embeds') helds an array of cell ids only.\n        const { graph } = this;\n        if (!graph) throw new Error('Element must be part of a graph.');\n\n        const embeddedCells = this.getEmbeddedCells().filter(cell => cell.isElement());\n        if (embeddedCells.length === 0) return this;\n\n        this.startBatch('fit-embeds', opt);\n\n        if (opt.deep) {\n            // Recursively apply fitEmbeds on all embeds first.\n            invoke(embeddedCells, 'fitEmbeds', opt);\n        }\n\n        // Compute cell's size and position based on the children bbox\n        // and given padding.\n        const { left, right, top, bottom } = normalizeSides(opt.padding);\n        let { x, y, width, height } = graph.getCellsBBox(embeddedCells);\n        // Apply padding computed above to the bbox.\n        x -= left;\n        y -= top;\n        width += left + right;\n        height += bottom + top;\n\n        // Set new element dimensions finally.\n        this.set({\n            position: { x, y },\n            size: { width, height }\n        }, opt);\n\n        this.stopBatch('fit-embeds');\n\n        return this;\n    },\n\n    // Rotate element by `angle` degrees, optionally around `origin` point.\n    // If `origin` is not provided, it is considered to be the center of the element.\n    // If `absolute` is `true`, the `angle` is considered is absolute, i.e. it is not\n    // the difference from the previous angle.\n    rotate: function(angle, absolute, origin, opt) {\n\n        if (origin) {\n\n            var center = this.getBBox().center();\n            var size = this.get('size');\n            var position = this.get('position');\n            center.rotate(origin, this.get('angle') - angle);\n            var dx = center.x - size.width / 2 - position.x;\n            var dy = center.y - size.height / 2 - position.y;\n            this.startBatch('rotate', { angle: angle, absolute: absolute, origin: origin });\n            this.position(position.x + dx, position.y + dy, opt);\n            this.rotate(angle, absolute, null, opt);\n            this.stopBatch('rotate');\n\n        } else {\n\n            this.set('angle', absolute ? angle : (this.get('angle') + angle) % 360, opt);\n        }\n\n        return this;\n    },\n\n    angle: function() {\n        return normalizeAngle(this.get('angle') || 0);\n    },\n\n    getBBox: function(opt) {\n\n        opt = opt || {};\n\n        if (opt.deep && this.graph) {\n\n            // Get all the embedded elements using breadth first algorithm,\n            // that doesn't use recursion.\n            var elements = this.getEmbeddedCells({ deep: true, breadthFirst: true });\n            // Add the model itself.\n            elements.push(this);\n\n            return this.graph.getCellsBBox(elements);\n        }\n\n        var position = this.get('position');\n        var size = this.get('size');\n\n        return new Rect(position.x, position.y, size.width, size.height);\n    },\n\n    getPointFromConnectedLink: function(link, endType) {\n        // Center of the model\n        var bbox = this.getBBox();\n        var center = bbox.center();\n        // Center of a port\n        var endDef = link.get(endType);\n        if (!endDef) return center;\n        var portId = endDef.port;\n        if (!portId || !this.hasPort(portId)) return center;\n        var portGroup = this.portProp(portId, ['group']);\n        var portsPositions = this.getPortsPositions(portGroup);\n        var portCenter = new Point(portsPositions[portId]).offset(bbox.origin());\n        var angle = this.angle();\n        if (angle) portCenter.rotate(center, -angle);\n        return portCenter;\n    }\n});\n\nassign(Element.prototype, elementPortPrototype);\n\n","import Backbone from 'backbone';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\nimport { Link } from './Link.mjs';\nimport { Element } from './Element.mjs';\nimport { wrappers, wrapWith } from '../util/wrappers.mjs';\nimport { cloneCells } from '../util/index.mjs';\n\nconst GraphCells = Backbone.Collection.extend({\n\n    initialize: function(models, opt) {\n\n        // Set the optional namespace where all model classes are defined.\n        if (opt.cellNamespace) {\n            this.cellNamespace = opt.cellNamespace;\n        } else {\n            /* global joint: true */\n            this.cellNamespace = typeof joint !== 'undefined' && util.has(joint, 'shapes') ? joint.shapes : null;\n            /* global joint: false */\n        }\n\n\n        this.graph = opt.graph;\n    },\n\n    model: function(attrs, opt) {\n\n        var collection = opt.collection;\n        var namespace = collection.cellNamespace;\n\n        // Find the model class in the namespace or use the default one.\n        var ModelClass = (attrs.type === 'link')\n            ? Link\n            : util.getByPath(namespace, attrs.type, '.') || Element;\n\n        var cell = new ModelClass(attrs, opt);\n        // Add a reference to the graph. It is necessary to do this here because this is the earliest place\n        // where a new model is created from a plain JS object. For other objects, see `joint.dia.Graph>>_prepareCell()`.\n        if (!opt.dry) {\n            cell.graph = collection.graph;\n        }\n\n        return cell;\n    },\n\n    // `comparator` makes it easy to sort cells based on their `z` index.\n    comparator: function(model) {\n\n        return model.get('z') || 0;\n    }\n});\n\n\nexport const Graph = Backbone.Model.extend({\n\n    initialize: function(attrs, opt) {\n\n        opt = opt || {};\n\n        // Passing `cellModel` function in the options object to graph allows for\n        // setting models based on attribute objects. This is especially handy\n        // when processing JSON graphs that are in a different than JointJS format.\n        var cells = new GraphCells([], {\n            model: opt.cellModel,\n            cellNamespace: opt.cellNamespace,\n            graph: this\n        });\n        Backbone.Model.prototype.set.call(this, 'cells', cells);\n\n        // Make all the events fired in the `cells` collection available.\n        // to the outside world.\n        cells.on('all', this.trigger, this);\n\n        // Backbone automatically doesn't trigger re-sort if models attributes are changed later when\n        // they're already in the collection. Therefore, we're triggering sort manually here.\n        this.on('change:z', this._sortOnChangeZ, this);\n\n        // `joint.dia.Graph` keeps an internal data structure (an adjacency list)\n        // for fast graph queries. All changes that affect the structure of the graph\n        // must be reflected in the `al` object. This object provides fast answers to\n        // questions such as \"what are the neighbours of this node\" or \"what\n        // are the sibling links of this link\".\n\n        // Outgoing edges per node. Note that we use a hash-table for the list\n        // of outgoing edges for a faster lookup.\n        // [nodeId] -> Object [edgeId] -> true\n        this._out = {};\n        // Ingoing edges per node.\n        // [nodeId] -> Object [edgeId] -> true\n        this._in = {};\n        // `_nodes` is useful for quick lookup of all the elements in the graph, without\n        // having to go through the whole cells array.\n        // [node ID] -> true\n        this._nodes = {};\n        // `_edges` is useful for quick lookup of all the links in the graph, without\n        // having to go through the whole cells array.\n        // [edgeId] -> true\n        this._edges = {};\n\n        this._batches = {};\n\n        cells.on('add', this._restructureOnAdd, this);\n        cells.on('remove', this._restructureOnRemove, this);\n        cells.on('reset', this._restructureOnReset, this);\n        cells.on('change:source', this._restructureOnChangeSource, this);\n        cells.on('change:target', this._restructureOnChangeTarget, this);\n        cells.on('remove', this._removeCell, this);\n    },\n\n    _sortOnChangeZ: function() {\n\n        this.get('cells').sort();\n    },\n\n    _restructureOnAdd: function(cell) {\n\n        if (cell.isLink()) {\n            this._edges[cell.id] = true;\n            var { source, target } = cell.attributes;\n            if (source.id) {\n                (this._out[source.id] || (this._out[source.id] = {}))[cell.id] = true;\n            }\n            if (target.id) {\n                (this._in[target.id] || (this._in[target.id] = {}))[cell.id] = true;\n            }\n        } else {\n            this._nodes[cell.id] = true;\n        }\n    },\n\n    _restructureOnRemove: function(cell) {\n\n        if (cell.isLink()) {\n            delete this._edges[cell.id];\n            var { source, target } = cell.attributes;\n            if (source.id && this._out[source.id] && this._out[source.id][cell.id]) {\n                delete this._out[source.id][cell.id];\n            }\n            if (target.id && this._in[target.id] && this._in[target.id][cell.id]) {\n                delete this._in[target.id][cell.id];\n            }\n        } else {\n            delete this._nodes[cell.id];\n        }\n    },\n\n    _restructureOnReset: function(cells) {\n\n        // Normalize into an array of cells. The original `cells` is GraphCells Backbone collection.\n        cells = cells.models;\n\n        this._out = {};\n        this._in = {};\n        this._nodes = {};\n        this._edges = {};\n\n        cells.forEach(this._restructureOnAdd, this);\n    },\n\n    _restructureOnChangeSource: function(link) {\n\n        var prevSource = link.previous('source');\n        if (prevSource.id && this._out[prevSource.id]) {\n            delete this._out[prevSource.id][link.id];\n        }\n        var source = link.attributes.source;\n        if (source.id) {\n            (this._out[source.id] || (this._out[source.id] = {}))[link.id] = true;\n        }\n    },\n\n    _restructureOnChangeTarget: function(link) {\n\n        var prevTarget = link.previous('target');\n        if (prevTarget.id && this._in[prevTarget.id]) {\n            delete this._in[prevTarget.id][link.id];\n        }\n        var target = link.get('target');\n        if (target.id) {\n            (this._in[target.id] || (this._in[target.id] = {}))[link.id] = true;\n        }\n    },\n\n    // Return all outbound edges for the node. Return value is an object\n    // of the form: [edgeId] -> true\n    getOutboundEdges: function(node) {\n\n        return (this._out && this._out[node]) || {};\n    },\n\n    // Return all inbound edges for the node. Return value is an object\n    // of the form: [edgeId] -> true\n    getInboundEdges: function(node) {\n\n        return (this._in && this._in[node]) || {};\n    },\n\n    toJSON: function() {\n\n        // Backbone does not recursively call `toJSON()` on attributes that are themselves models/collections.\n        // It just clones the attributes. Therefore, we must call `toJSON()` on the cells collection explicitly.\n        var json = Backbone.Model.prototype.toJSON.apply(this, arguments);\n        json.cells = this.get('cells').toJSON();\n        return json;\n    },\n\n    fromJSON: function(json, opt) {\n\n        if (!json.cells) {\n\n            throw new Error('Graph JSON must contain cells array.');\n        }\n\n        return this.set(json, opt);\n    },\n\n    set: function(key, val, opt) {\n\n        var attrs;\n\n        // Handle both `key`, value and {key: value} style arguments.\n        if (typeof key === 'object') {\n            attrs = key;\n            opt = val;\n        } else {\n            (attrs = {})[key] = val;\n        }\n\n        // Make sure that `cells` attribute is handled separately via resetCells().\n        if (attrs.hasOwnProperty('cells')) {\n            this.resetCells(attrs.cells, opt);\n            attrs = util.omit(attrs, 'cells');\n        }\n\n        // The rest of the attributes are applied via original set method.\n        return Backbone.Model.prototype.set.call(this, attrs, opt);\n    },\n\n    clear: function(opt) {\n\n        opt = util.assign({}, opt, { clear: true });\n\n        var collection = this.get('cells');\n\n        if (collection.length === 0) return this;\n\n        this.startBatch('clear', opt);\n\n        // The elements come after the links.\n        var cells = collection.sortBy(function(cell) {\n            return cell.isLink() ? 1 : 2;\n        });\n\n        do {\n\n            // Remove all the cells one by one.\n            // Note that all the links are removed first, so it's\n            // safe to remove the elements without removing the connected\n            // links first.\n            cells.shift().remove(opt);\n\n        } while (cells.length > 0);\n\n        this.stopBatch('clear');\n\n        return this;\n    },\n\n    _prepareCell: function(cell, opt) {\n\n        var attrs;\n        if (cell instanceof Backbone.Model) {\n            attrs = cell.attributes;\n            if (!cell.graph && (!opt || !opt.dry)) {\n                // An element can not be member of more than one graph.\n                // A cell stops being the member of the graph after it's explicitly removed.\n                cell.graph = this;\n            }\n        } else {\n            // In case we're dealing with a plain JS object, we have to set the reference\n            // to the `graph` right after the actual model is created. This happens in the `model()` function\n            // of `joint.dia.GraphCells`.\n            attrs = cell;\n        }\n\n        if (!util.isString(attrs.type)) {\n            throw new TypeError('dia.Graph: cell type must be a string.');\n        }\n\n        return cell;\n    },\n\n    minZIndex: function() {\n\n        var firstCell = this.get('cells').first();\n        return firstCell ? (firstCell.get('z') || 0) : 0;\n    },\n\n    maxZIndex: function() {\n\n        var lastCell = this.get('cells').last();\n        return lastCell ? (lastCell.get('z') || 0) : 0;\n    },\n\n    addCell: function(cell, opt) {\n\n        if (Array.isArray(cell)) {\n\n            return this.addCells(cell, opt);\n        }\n\n        if (cell instanceof Backbone.Model) {\n\n            if (!cell.has('z')) {\n                cell.set('z', this.maxZIndex() + 1);\n            }\n\n        } else if (cell.z === undefined) {\n\n            cell.z = this.maxZIndex() + 1;\n        }\n\n        this.get('cells').add(this._prepareCell(cell, opt), opt || {});\n\n        return this;\n    },\n\n    addCells: function(cells, opt) {\n\n        if (cells.length === 0) return this;\n\n        cells = util.flattenDeep(cells);\n        opt.maxPosition = opt.position = cells.length - 1;\n\n        this.startBatch('add', opt);\n        cells.forEach(function(cell) {\n            this.addCell(cell, opt);\n            opt.position--;\n        }, this);\n        this.stopBatch('add', opt);\n\n        return this;\n    },\n\n    // When adding a lot of cells, it is much more efficient to\n    // reset the entire cells collection in one go.\n    // Useful for bulk operations and optimizations.\n    resetCells: function(cells, opt) {\n\n        var preparedCells = util.toArray(cells).map(function(cell) {\n            return this._prepareCell(cell, opt);\n        }, this);\n        this.get('cells').reset(preparedCells, opt);\n\n        return this;\n    },\n\n    removeCells: function(cells, opt) {\n\n        if (cells.length) {\n\n            this.startBatch('remove');\n            util.invoke(cells, 'remove', opt);\n            this.stopBatch('remove');\n        }\n\n        return this;\n    },\n\n    _removeCell: function(cell, collection, options) {\n\n        options = options || {};\n\n        if (!options.clear) {\n            // Applications might provide a `disconnectLinks` option set to `true` in order to\n            // disconnect links when a cell is removed rather then removing them. The default\n            // is to remove all the associated links.\n            if (options.disconnectLinks) {\n\n                this.disconnectLinks(cell, options);\n\n            } else {\n\n                this.removeLinks(cell, options);\n            }\n        }\n        // Silently remove the cell from the cells collection. Silently, because\n        // `joint.dia.Cell.prototype.remove` already triggers the `remove` event which is\n        // then propagated to the graph model. If we didn't remove the cell silently, two `remove` events\n        // would be triggered on the graph model.\n        this.get('cells').remove(cell, { silent: true });\n\n        if (cell.graph === this) {\n            // Remove the element graph reference only if the cell is the member of this graph.\n            cell.graph = null;\n        }\n    },\n\n    // Get a cell by `id`.\n    getCell: function(id) {\n\n        return this.get('cells').get(id);\n    },\n\n    getCells: function() {\n\n        return this.get('cells').toArray();\n    },\n\n    getElements: function() {\n\n        return Object.keys(this._nodes).map(this.getCell, this);\n    },\n\n    getLinks: function() {\n\n        return Object.keys(this._edges).map(this.getCell, this);\n    },\n\n    getFirstCell: function() {\n\n        return this.get('cells').first();\n    },\n\n    getLastCell: function() {\n\n        return this.get('cells').last();\n    },\n\n    // Get all inbound and outbound links connected to the cell `model`.\n    getConnectedLinks: function(model, opt) {\n\n        opt = opt || {};\n\n        var indirect = opt.indirect;\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if ((inbound === undefined) && (outbound === undefined)) {\n            inbound = outbound = true;\n        }\n\n        // the final array of connected link models\n        var links = [];\n        // a hash table of connected edges of the form: [edgeId] -> true\n        // used for quick lookups to check if we already added a link\n        var edges = {};\n\n        if (outbound) {\n            addOutbounds(this, model);\n        }\n        if (inbound) {\n            addInbounds(this, model);\n        }\n\n        function addOutbounds(graph, model) {\n            util.forIn(graph.getOutboundEdges(model.id), function(_, edge) {\n                // skip links that were already added\n                // (those must be self-loop links)\n                // (because they are inbound and outbound edges of the same two elements)\n                if (edges[edge]) return;\n                var link = graph.getCell(edge);\n                links.push(link);\n                edges[edge] = true;\n                if (indirect) {\n                    if (inbound) addInbounds(graph, link);\n                    if (outbound) addOutbounds(graph, link);\n                }\n            }.bind(graph));\n            if (indirect && model.isLink()) {\n                var outCell = model.getTargetCell();\n                if (outCell && outCell.isLink()) {\n                    if (!edges[outCell.id]) {\n                        links.push(outCell);\n                        addOutbounds(graph, outCell);\n                    }\n                }\n            }\n        }\n\n        function addInbounds(graph, model) {\n            util.forIn(graph.getInboundEdges(model.id), function(_, edge) {\n                // skip links that were already added\n                // (those must be self-loop links)\n                // (because they are inbound and outbound edges of the same two elements)\n                if (edges[edge]) return;\n                var link = graph.getCell(edge);\n                links.push(link);\n                edges[edge] = true;\n                if (indirect) {\n                    if (inbound) addInbounds(graph, link);\n                    if (outbound) addOutbounds(graph, link);\n                }\n            }.bind(graph));\n            if (indirect && model.isLink()) {\n                var inCell = model.getSourceCell();\n                if (inCell && inCell.isLink()) {\n                    if (!edges[inCell.id]) {\n                        links.push(inCell);\n                        addInbounds(graph, inCell);\n                    }\n                }\n            }\n        }\n\n        // if `deep` option is `true`, check also all the links that are connected to any of the descendant cells\n        if (opt.deep) {\n\n            var embeddedCells = model.getEmbeddedCells({ deep: true });\n\n            // in the first round, we collect all the embedded elements\n            var embeddedElements = {};\n            embeddedCells.forEach(function(cell) {\n                if (cell.isElement()) {\n                    embeddedElements[cell.id] = true;\n                }\n            });\n\n            embeddedCells.forEach(function(cell) {\n                if (cell.isLink()) return;\n                if (outbound) {\n                    util.forIn(this.getOutboundEdges(cell.id), function(exists, edge) {\n                        if (!edges[edge]) {\n                            var edgeCell = this.getCell(edge);\n                            var { source, target } = edgeCell.attributes;\n                            var sourceId = source.id;\n                            var targetId = target.id;\n\n                            // if `includeEnclosed` option is falsy, skip enclosed links\n                            if (!opt.includeEnclosed\n                                && (sourceId && embeddedElements[sourceId])\n                                && (targetId && embeddedElements[targetId])) {\n                                return;\n                            }\n\n                            links.push(this.getCell(edge));\n                            edges[edge] = true;\n                        }\n                    }.bind(this));\n                }\n                if (inbound) {\n                    util.forIn(this.getInboundEdges(cell.id), function(exists, edge) {\n                        if (!edges[edge]) {\n                            var edgeCell = this.getCell(edge);\n                            var { source, target } = edgeCell.attributes;\n                            var sourceId = source.id;\n                            var targetId = target.id;\n\n                            // if `includeEnclosed` option is falsy, skip enclosed links\n                            if (!opt.includeEnclosed\n                                && (sourceId && embeddedElements[sourceId])\n                                && (targetId && embeddedElements[targetId])) {\n                                return;\n                            }\n\n                            links.push(this.getCell(edge));\n                            edges[edge] = true;\n                        }\n                    }.bind(this));\n                }\n            }, this);\n        }\n\n        return links;\n    },\n\n    getNeighbors: function(model, opt) {\n\n        opt || (opt = {});\n\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if (inbound === undefined && outbound === undefined) {\n            inbound = outbound = true;\n        }\n\n        var neighbors = this.getConnectedLinks(model, opt).reduce(function(res, link) {\n\n            var { source, target } = link.attributes;\n            var loop = link.hasLoop(opt);\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (inbound && util.has(source, 'id') && !res[source.id]) {\n\n                var sourceElement = this.getCell(source.id);\n                if (sourceElement.isElement()) {\n                    if (loop || (sourceElement && sourceElement !== model && (!opt.deep || !sourceElement.isEmbeddedIn(model)))) {\n                        res[source.id] = sourceElement;\n                    }\n                }\n            }\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (outbound && util.has(target, 'id') && !res[target.id]) {\n\n                var targetElement = this.getCell(target.id);\n                if (targetElement.isElement()) {\n                    if (loop || (targetElement && targetElement !== model && (!opt.deep || !targetElement.isEmbeddedIn(model)))) {\n                        res[target.id] = targetElement;\n                    }\n                }\n            }\n\n            return res;\n        }.bind(this), {});\n\n        if (model.isLink()) {\n            if (inbound) {\n                var sourceCell = model.getSourceCell();\n                if (sourceCell && sourceCell.isElement() && !neighbors[sourceCell.id]) {\n                    neighbors[sourceCell.id] = sourceCell;\n                }\n            }\n            if (outbound) {\n                var targetCell = model.getTargetCell();\n                if (targetCell && targetCell.isElement() && !neighbors[targetCell.id]) {\n                    neighbors[targetCell.id] = targetCell;\n                }\n            }\n        }\n\n        return util.toArray(neighbors);\n    },\n\n    getCommonAncestor: function(/* cells */) {\n\n        var cellsAncestors = Array.from(arguments).map(function(cell) {\n\n            var ancestors = [];\n            var parentId = cell.get('parent');\n\n            while (parentId) {\n\n                ancestors.push(parentId);\n                parentId = this.getCell(parentId).get('parent');\n            }\n\n            return ancestors;\n\n        }, this);\n\n        cellsAncestors = cellsAncestors.sort(function(a, b) {\n            return a.length - b.length;\n        });\n\n        var commonAncestor = util.toArray(cellsAncestors.shift()).find(function(ancestor) {\n            return cellsAncestors.every(function(cellAncestors) {\n                return cellAncestors.includes(ancestor);\n            });\n        });\n\n        return this.getCell(commonAncestor);\n    },\n\n    // Find the whole branch starting at `element`.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first search algorithm, otherwise use Depth-first search.\n    getSuccessors: function(element, opt) {\n\n        opt = opt || {};\n        var res = [];\n        // Modify the options so that it includes the `outbound` neighbors only. In other words, search forwards.\n        this.search(element, function(el) {\n            if (el !== element) {\n                res.push(el);\n            }\n        }, util.assign({}, opt, { outbound: true }));\n        return res;\n    },\n\n    cloneCells: cloneCells,\n    // Clone the whole subgraph (including all the connected links whose source/target is in the subgraph).\n    // If `opt.deep` is `true`, also take into account all the embedded cells of all the subgraph cells.\n    // Return a map of the form: [original cell ID] -> [clone].\n    cloneSubgraph: function(cells, opt) {\n\n        var subgraph = this.getSubgraph(cells, opt);\n        return this.cloneCells(subgraph);\n    },\n\n    // Return `cells` and all the connected links that connect cells in the `cells` array.\n    // If `opt.deep` is `true`, return all the cells including all their embedded cells\n    // and all the links that connect any of the returned cells.\n    // For example, for a single shallow element, the result is that very same element.\n    // For two elements connected with a link: `A --- L ---> B`, the result for\n    // `getSubgraph([A, B])` is `[A, L, B]`. The same goes for `getSubgraph([L])`, the result is again `[A, L, B]`.\n    getSubgraph: function(cells, opt) {\n\n        opt = opt || {};\n\n        var subgraph = [];\n        // `cellMap` is used for a quick lookup of existence of a cell in the `cells` array.\n        var cellMap = {};\n        var elements = [];\n        var links = [];\n\n        util.toArray(cells).forEach(function(cell) {\n            if (!cellMap[cell.id]) {\n                subgraph.push(cell);\n                cellMap[cell.id] = cell;\n                if (cell.isLink()) {\n                    links.push(cell);\n                } else {\n                    elements.push(cell);\n                }\n            }\n\n            if (opt.deep) {\n                var embeds = cell.getEmbeddedCells({ deep: true });\n                embeds.forEach(function(embed) {\n                    if (!cellMap[embed.id]) {\n                        subgraph.push(embed);\n                        cellMap[embed.id] = embed;\n                        if (embed.isLink()) {\n                            links.push(embed);\n                        } else {\n                            elements.push(embed);\n                        }\n                    }\n                });\n            }\n        });\n\n        links.forEach(function(link) {\n            // For links, return their source & target (if they are elements - not points).\n            var { source, target } = link.attributes;\n            if (source.id && !cellMap[source.id]) {\n                var sourceElement = this.getCell(source.id);\n                subgraph.push(sourceElement);\n                cellMap[sourceElement.id] = sourceElement;\n                elements.push(sourceElement);\n            }\n            if (target.id && !cellMap[target.id]) {\n                var targetElement = this.getCell(target.id);\n                subgraph.push(this.getCell(target.id));\n                cellMap[targetElement.id] = targetElement;\n                elements.push(targetElement);\n            }\n        }, this);\n\n        elements.forEach(function(element) {\n            // For elements, include their connected links if their source/target is in the subgraph;\n            var links = this.getConnectedLinks(element, opt);\n            links.forEach(function(link) {\n                var { source, target } = link.attributes;\n                if (!cellMap[link.id] && source.id && cellMap[source.id] && target.id && cellMap[target.id]) {\n                    subgraph.push(link);\n                    cellMap[link.id] = link;\n                }\n            });\n        }, this);\n\n        return subgraph;\n    },\n\n    // Find all the predecessors of `element`. This is a reverse operation of `getSuccessors()`.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first search algorithm, otherwise use Depth-first search.\n    getPredecessors: function(element, opt) {\n\n        opt = opt || {};\n        var res = [];\n        // Modify the options so that it includes the `inbound` neighbors only. In other words, search backwards.\n        this.search(element, function(el) {\n            if (el !== element) {\n                res.push(el);\n            }\n        }, util.assign({}, opt, { inbound: true }));\n        return res;\n    },\n\n    // Perform search on the graph.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first Search algorithm, otherwise use Depth-first search.\n    // By setting `opt.inbound` to `true`, you can reverse the direction of the search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // `iteratee` is a function of the form `function(element) {}`.\n    // If `iteratee` explicitly returns `false`, the searching stops.\n    search: function(element, iteratee, opt) {\n\n        opt = opt || {};\n        if (opt.breadthFirst) {\n            this.bfs(element, iteratee, opt);\n        } else {\n            this.dfs(element, iteratee, opt);\n        }\n    },\n\n    // Breadth-first search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.inbound` is `true`, reverse the search direction (it's like reversing all the link directions).\n    // `iteratee` is a function of the form `function(element, distance) {}`.\n    // where `element` is the currently visited element and `distance` is the distance of that element\n    // from the root `element` passed the `bfs()`, i.e. the element we started the search from.\n    // Note that the `distance` is not the shortest or longest distance, it is simply the number of levels\n    // crossed till we visited the `element` for the first time. It is especially useful for tree graphs.\n    // If `iteratee` explicitly returns `false`, the searching stops.\n    bfs: function(element, iteratee, opt = {}) {\n\n        const visited = {};\n        const distance = {};\n        const queue = [];\n\n        queue.push(element);\n        distance[element.id] = 0;\n\n        while (queue.length > 0) {\n            var next = queue.shift();\n            if (visited[next.id]) continue;\n            visited[next.id] = true;\n            if (iteratee.call(this, next, distance[next.id]) === false) continue;\n            const neighbors = this.getNeighbors(next, opt);\n            for (let i = 0, n = neighbors.length; i < n; i++) {\n                const neighbor = neighbors[i];\n                distance[neighbor.id] = distance[next.id] + 1;\n                queue.push(neighbor);\n            }\n        }\n    },\n\n    // Depth-first search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.inbound` is `true`, reverse the search direction (it's like reversing all the link directions).\n    // `iteratee` is a function of the form `function(element, distance) {}`.\n    // If `iteratee` explicitly returns `false`, the search stops.\n    dfs: function(element, iteratee, opt = {}) {\n\n        const visited = {};\n        const distance = {};\n        const queue = [];\n\n        queue.push(element);\n        distance[element.id] = 0;\n\n        while (queue.length > 0) {\n            const next = queue.pop();\n            if (visited[next.id]) continue;\n            visited[next.id] = true;\n            if (iteratee.call(this, next, distance[next.id]) === false) continue;\n            const neighbors = this.getNeighbors(next, opt);\n            const lastIndex = queue.length;\n            for (let i = 0, n = neighbors.length; i < n; i++) {\n                const neighbor = neighbors[i];\n                distance[neighbor.id] = distance[next.id] + 1;\n                queue.splice(lastIndex, 0, neighbor);\n            }\n        }\n    },\n\n    // Get all the roots of the graph. Time complexity: O(|V|).\n    getSources: function() {\n\n        var sources = [];\n        util.forIn(this._nodes, function(exists, node) {\n            if (!this._in[node] || util.isEmpty(this._in[node])) {\n                sources.push(this.getCell(node));\n            }\n        }.bind(this));\n        return sources;\n    },\n\n    // Get all the leafs of the graph. Time complexity: O(|V|).\n    getSinks: function() {\n\n        var sinks = [];\n        util.forIn(this._nodes, function(exists, node) {\n            if (!this._out[node] || util.isEmpty(this._out[node])) {\n                sinks.push(this.getCell(node));\n            }\n        }.bind(this));\n        return sinks;\n    },\n\n    // Return `true` if `element` is a root. Time complexity: O(1).\n    isSource: function(element) {\n\n        return !this._in[element.id] || util.isEmpty(this._in[element.id]);\n    },\n\n    // Return `true` if `element` is a leaf. Time complexity: O(1).\n    isSink: function(element) {\n\n        return !this._out[element.id] || util.isEmpty(this._out[element.id]);\n    },\n\n    // Return `true` is `elementB` is a successor of `elementA`. Return `false` otherwise.\n    isSuccessor: function(elementA, elementB) {\n\n        var isSuccessor = false;\n        this.search(elementA, function(element) {\n            if (element === elementB && element !== elementA) {\n                isSuccessor = true;\n                return false;\n            }\n        }, { outbound: true });\n        return isSuccessor;\n    },\n\n    // Return `true` is `elementB` is a predecessor of `elementA`. Return `false` otherwise.\n    isPredecessor: function(elementA, elementB) {\n\n        var isPredecessor = false;\n        this.search(elementA, function(element) {\n            if (element === elementB && element !== elementA) {\n                isPredecessor = true;\n                return false;\n            }\n        }, { inbound: true });\n        return isPredecessor;\n    },\n\n    // Return `true` is `elementB` is a neighbor of `elementA`. Return `false` otherwise.\n    // `opt.deep` controls whether to take into account embedded elements as well. See `getNeighbors()`\n    // for more details.\n    // If `opt.outbound` is set to `true`, return `true` only if `elementB` is a successor neighbor.\n    // Similarly, if `opt.inbound` is set to `true`, return `true` only if `elementB` is a predecessor neighbor.\n    isNeighbor: function(elementA, elementB, opt) {\n\n        opt = opt || {};\n\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if ((inbound === undefined) && (outbound === undefined)) {\n            inbound = outbound = true;\n        }\n\n        var isNeighbor = false;\n\n        this.getConnectedLinks(elementA, opt).forEach(function(link) {\n\n            var { source, target } = link.attributes;\n\n            // Discard if it is a point.\n            if (inbound && util.has(source, 'id') && (source.id === elementB.id)) {\n                isNeighbor = true;\n                return false;\n            }\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (outbound && util.has(target, 'id') && (target.id === elementB.id)) {\n                isNeighbor = true;\n                return false;\n            }\n        });\n\n        return isNeighbor;\n    },\n\n    // Disconnect links connected to the cell `model`.\n    disconnectLinks: function(model, opt) {\n\n        this.getConnectedLinks(model).forEach(function(link) {\n\n            link.set((link.attributes.source.id === model.id ? 'source' : 'target'), { x: 0, y: 0 }, opt);\n        });\n    },\n\n    // Remove links connected to the cell `model` completely.\n    removeLinks: function(model, opt) {\n\n        util.invoke(this.getConnectedLinks(model), 'remove', opt);\n    },\n\n    // Find all elements at given point\n    findModelsFromPoint: function(p) {\n\n        return this.getElements().filter(function(el) {\n            return el.getBBox().containsPoint(p);\n        });\n    },\n\n    // Find all elements in given area\n    findModelsInArea: function(rect, opt) {\n\n        rect = g.rect(rect);\n        opt = util.defaults(opt || {}, { strict: false });\n\n        var method = opt.strict ? 'containsRect' : 'intersect';\n\n        return this.getElements().filter(function(el) {\n            return rect[method](el.getBBox());\n        });\n    },\n\n    // Find all elements under the given element.\n    findModelsUnderElement: function(element, opt) {\n\n        opt = util.defaults(opt || {}, { searchBy: 'bbox' });\n\n        var bbox = element.getBBox();\n        var elements = (opt.searchBy === 'bbox')\n            ? this.findModelsInArea(bbox)\n            : this.findModelsFromPoint(bbox[opt.searchBy]());\n\n        // don't account element itself or any of its descendants\n        return elements.filter(function(el) {\n            return element.id !== el.id && !el.isEmbeddedIn(element);\n        });\n    },\n\n\n    // Return bounding box of all elements.\n    getBBox: function() {\n\n        return this.getCellsBBox(this.getCells());\n    },\n\n    // Return the bounding box of all cells in array provided.\n    getCellsBBox: function(cells, opt) {\n        opt || (opt = {});\n        return util.toArray(cells).reduce(function(memo, cell) {\n            var rect = cell.getBBox(opt);\n            if (!rect) return memo;\n            var angle = cell.angle();\n            if (angle) rect = rect.bbox(angle);\n            if (memo) {\n                return memo.union(rect);\n            }\n            return rect;\n        }, null);\n    },\n\n    translate: function(dx, dy, opt) {\n\n        // Don't translate cells that are embedded in any other cell.\n        var cells = this.getCells().filter(function(cell) {\n            return !cell.isEmbedded();\n        });\n\n        util.invoke(cells, 'translate', dx, dy, opt);\n\n        return this;\n    },\n\n    resize: function(width, height, opt) {\n\n        return this.resizeCells(width, height, this.getCells(), opt);\n    },\n\n    resizeCells: function(width, height, cells, opt) {\n\n        // `getBBox` method returns `null` if no elements provided.\n        // i.e. cells can be an array of links\n        var bbox = this.getCellsBBox(cells);\n        if (bbox) {\n            var sx = Math.max(width / bbox.width, 0);\n            var sy = Math.max(height / bbox.height, 0);\n            util.invoke(cells, 'scale', sx, sy, bbox.origin(), opt);\n        }\n\n        return this;\n    },\n\n    startBatch: function(name, data) {\n\n        data = data || {};\n        this._batches[name] = (this._batches[name] || 0) + 1;\n\n        return this.trigger('batch:start', util.assign({}, data, { batchName: name }));\n    },\n\n    stopBatch: function(name, data) {\n\n        data = data || {};\n        this._batches[name] = (this._batches[name] || 0) - 1;\n\n        return this.trigger('batch:stop', util.assign({}, data, { batchName: name }));\n    },\n\n    hasActiveBatch: function(name) {\n\n        const batches = this._batches;\n        let names;\n\n        if (arguments.length === 0) {\n            names = Object.keys(batches);\n        } else if (Array.isArray(name)) {\n            names = name;\n        } else {\n            names = [name];\n        }\n\n        return names.some((batch) => batches[batch] > 0);\n    }\n\n}, {\n\n    validations: {\n\n        multiLinks: function(graph, link) {\n\n            // Do not allow multiple links to have the same source and target.\n            var { source, target } = link.attributes;\n\n            if (source.id && target.id) {\n\n                var sourceModel = link.getSourceCell();\n                if (sourceModel) {\n\n                    var connectedLinks = graph.getConnectedLinks(sourceModel, { outbound: true });\n                    var sameLinks = connectedLinks.filter(function(_link) {\n\n                        var { source: _source, target: _target } = _link.attributes;\n                        return _source && _source.id === source.id &&\n                            (!_source.port || (_source.port === source.port)) &&\n                            _target && _target.id === target.id &&\n                            (!_target.port || (_target.port === target.port));\n\n                    });\n\n                    if (sameLinks.length > 1) {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        },\n\n        linkPinning: function(_graph, link) {\n            var { source, target } = link.attributes;\n            return source.id && target.id;\n        }\n    }\n\n});\n\nwrapWith(Graph.prototype, ['resetCells', 'addCells', 'removeCells'], wrappers.cells);\n","import Backbone from 'backbone';\nimport $ from 'jquery';\nimport * as util from '../util/index.mjs';\nimport { config } from '../config/index.mjs';\nimport V from '../V/index.mjs';\n\nexport const views = {};\n\nexport const View = Backbone.View.extend({\n\n    options: {},\n    theme: null,\n    themeClassNamePrefix: util.addClassNamePrefix('theme-'),\n    requireSetThemeOverride: false,\n    defaultTheme: config.defaultTheme,\n    children: null,\n    childNodes: null,\n\n    DETACHABLE: true,\n    UPDATE_PRIORITY: 2,\n    FLAG_INSERT: 1<<30,\n    FLAG_REMOVE: 1<<29,\n\n    constructor: function(options) {\n\n        this.requireSetThemeOverride = options && !!options.theme;\n        this.options = util.assign({}, this.options, options);\n\n        Backbone.View.call(this, options);\n    },\n\n    initialize: function() {\n\n        views[this.cid] = this;\n\n        this.setTheme(this.options.theme || this.defaultTheme);\n        this.init();\n    },\n\n    unmount: function() {\n        if (this.svgElement) {\n            this.vel.remove();\n        } else {\n            this.$el.remove();\n        }\n    },\n\n    renderChildren: function(children) {\n        children || (children = util.result(this, 'children'));\n        if (children) {\n            var isSVG = this.svgElement;\n            var namespace = V.namespace[isSVG ? 'svg' : 'xhtml'];\n            var doc = util.parseDOMJSON(children, namespace);\n            (isSVG ? this.vel : this.$el).empty().append(doc.fragment);\n            this.childNodes = doc.selectors;\n        }\n        return this;\n    },\n\n    findAttribute: function(attributeName, node) {\n\n        var currentNode = node;\n\n        while (currentNode && currentNode.nodeType === 1) {\n            var attributeValue = currentNode.getAttribute(attributeName);\n            // attribute found\n            if (attributeValue) return attributeValue;\n            // do not climb up the DOM\n            if (currentNode === this.el) return null;\n            // try parent node\n            currentNode = currentNode.parentNode;\n        }\n\n        return null;\n    },\n\n    // Override the Backbone `_ensureElement()` method in order to create an\n    // svg element (e.g., `<g>`) node that wraps all the nodes of the Cell view.\n    // Expose class name setter as a separate method.\n    _ensureElement: function() {\n        if (!this.el) {\n            var tagName = util.result(this, 'tagName');\n            var attrs = util.assign({}, util.result(this, 'attributes'));\n            var style = util.assign({}, util.result(this, 'style'));\n            if (this.id) attrs.id = util.result(this, 'id');\n            this.setElement(this._createElement(tagName));\n            this._setAttributes(attrs);\n            this._setStyle(style);\n        } else {\n            this.setElement(util.result(this, 'el'));\n        }\n        this._ensureElClassName();\n    },\n\n    _setAttributes: function(attrs) {\n        if (this.svgElement) {\n            this.vel.attr(attrs);\n        } else {\n            this.$el.attr(attrs);\n        }\n    },\n\n    _setStyle: function(style) {\n        this.$el.css(style);\n    },\n\n    _createElement: function(tagName) {\n        if (this.svgElement) {\n            return document.createElementNS(V.namespace.svg, tagName);\n        } else {\n            return document.createElement(tagName);\n        }\n    },\n\n    // Utilize an alternative DOM manipulation API by\n    // adding an element reference wrapped in Vectorizer.\n    _setElement: function(el) {\n        this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n        this.el = this.$el[0];\n        if (this.svgElement) this.vel = V(this.el);\n    },\n\n    _ensureElClassName: function() {\n        var className = util.result(this, 'className');\n        if (!className) return;\n        var prefixedClassName = util.addClassNamePrefix(className);\n        // Note: className removal here kept for backwards compatibility only\n        if (this.svgElement) {\n            this.vel.removeClass(className).addClass(prefixedClassName);\n        } else {\n            this.$el.removeClass(className).addClass(prefixedClassName);\n        }\n    },\n\n    init: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    onRender: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    confirmUpdate: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n        return 0;\n    },\n\n    setTheme: function(theme, opt) {\n\n        opt = opt || {};\n\n        // Theme is already set, override is required, and override has not been set.\n        // Don't set the theme.\n        if (this.theme && this.requireSetThemeOverride && !opt.override) {\n            return this;\n        }\n\n        this.removeThemeClassName();\n        this.addThemeClassName(theme);\n        this.onSetTheme(this.theme/* oldTheme */, theme/* newTheme */);\n        this.theme = theme;\n\n        return this;\n    },\n\n    addThemeClassName: function(theme) {\n\n        theme = theme || this.theme;\n\n        var className = this.themeClassNamePrefix + theme;\n\n        if (this.svgElement) {\n            this.vel.addClass(className);\n        } else {\n            this.$el.addClass(className);\n        }\n\n        return this;\n    },\n\n    removeThemeClassName: function(theme) {\n\n        theme = theme || this.theme;\n\n        var className = this.themeClassNamePrefix + theme;\n\n        if (this.svgElement) {\n            this.vel.removeClass(className);\n        } else {\n            this.$el.removeClass(className);\n        }\n\n        return this;\n    },\n\n    onSetTheme: function(oldTheme, newTheme) {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    remove: function() {\n\n        this.onRemove();\n        this.undelegateDocumentEvents();\n\n        views[this.cid] = null;\n\n        Backbone.View.prototype.remove.apply(this, arguments);\n\n        return this;\n    },\n\n    onRemove: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    getEventNamespace: function() {\n        // Returns a per-session unique namespace\n        return '.joint-event-ns-' + this.cid;\n    },\n\n    delegateElementEvents: function(element, events, data) {\n        if (!events) return this;\n        data || (data = {});\n        var eventNS = this.getEventNamespace();\n        for (var eventName in events) {\n            var method = events[eventName];\n            if (typeof method !== 'function') method = this[method];\n            if (!method) continue;\n            $(element).on(eventName + eventNS, data, method.bind(this));\n        }\n        return this;\n    },\n\n    undelegateElementEvents: function(element) {\n        $(element).off(this.getEventNamespace());\n        return this;\n    },\n\n    delegateDocumentEvents: function(events, data) {\n        events || (events = util.result(this, 'documentEvents'));\n        return this.delegateElementEvents(document, events, data);\n    },\n\n    undelegateDocumentEvents: function() {\n        return this.undelegateElementEvents(document);\n    },\n\n    eventData: function(evt, data) {\n        if (!evt) throw new Error('eventData(): event object required.');\n        var currentData = evt.data;\n        var key = '__' + this.cid + '__';\n        if (data === undefined) {\n            if (!currentData) return {};\n            return currentData[key] || {};\n        }\n        currentData || (currentData = evt.data = {});\n        currentData[key] || (currentData[key] = {});\n        util.assign(currentData[key], data);\n        return this;\n    },\n\n    stopPropagation: function(evt) {\n        this.eventData(evt, { propagationStopped: true });\n        return this;\n    },\n\n    isPropagationStopped: function(evt) {\n        return !!this.eventData(evt).propagationStopped;\n    }\n\n}, {\n\n    extend: function() {\n\n        var args = Array.from(arguments);\n\n        // Deep clone the prototype and static properties objects.\n        // This prevents unexpected behavior where some properties are overwritten outside of this function.\n        var protoProps = args[0] && util.assign({}, args[0]) || {};\n        var staticProps = args[1] && util.assign({}, args[1]) || {};\n\n        // Need the real render method so that we can wrap it and call it later.\n        var renderFn = protoProps.render || (this.prototype && this.prototype.render) || null;\n\n        /*\n            Wrap the real render method so that:\n                .. `onRender` is always called.\n                .. `this` is always returned.\n        */\n        protoProps.render = function() {\n\n            if (typeof renderFn === 'function') {\n                // Call the original render method.\n                renderFn.apply(this, arguments);\n            }\n\n            if (this.render.__render__ === renderFn) {\n                // Should always call onRender() method.\n                // Should call it only once when renderFn is actual prototype method i.e. not the wrapper\n                this.onRender();\n            }\n\n            // Should always return itself.\n            return this;\n        };\n\n        protoProps.render.__render__ = renderFn;\n\n        return Backbone.View.extend.call(this, protoProps, staticProps);\n    }\n});\n\n","import * as mvc from '../mvc/index.mjs';\nimport V from '../V/index.mjs';\nimport { isPlainObject } from '../util/util.mjs';\n\nfunction toArray(obj) {\n    if (!obj) return [];\n    if (Array.isArray(obj)) return obj;\n    return [obj];\n}\n\nexport const HighlighterView = mvc.View.extend({\n\n    tagName: 'g',\n    svgElement: true,\n    className: 'highlight',\n\n    HIGHLIGHT_FLAG: 1,\n    UPDATE_PRIORITY: 3,\n    DETACHABLE: false,\n    UPDATABLE: true,\n    MOUNTABLE: true,\n\n    cellView: null,\n    nodeSelector: null,\n    node: null,\n    updateRequested: false,\n    transformGroup: null,\n\n    requestUpdate(cellView, nodeSelector) {\n        const { paper } = cellView;\n        this.cellView = cellView;\n        this.nodeSelector = nodeSelector;\n        if (paper) {\n            this.updateRequested = true;\n            paper.requestViewUpdate(this, this.HIGHLIGHT_FLAG, this.UPDATE_PRIORITY);\n        }\n    },\n\n    confirmUpdate() {\n        // The cellView is now rendered/updated since it has a higher update priority.\n        this.updateRequested = false;\n        const { cellView, nodeSelector } = this;\n        this.update(cellView, nodeSelector);\n        this.mount();\n        this.transform();\n        return 0;\n    },\n\n    findNode(cellView, nodeSelector = null) {\n        let el;\n        if (typeof nodeSelector === 'string') {\n            [el] = cellView.findBySelector(nodeSelector);\n        } else if (isPlainObject(nodeSelector)) {\n            const isLink = cellView.model.isLink();\n            const { label = null, port, selector } = nodeSelector;\n            if (isLink && label !== null) {\n                // Link Label Selector\n                el = cellView.findLabelNode(label, selector);\n            } else if (!isLink && port) {\n                // Element Port Selector\n                el = cellView.findPortNode(port, selector);\n            } else {\n                // Cell Selector\n                [el] = cellView.findBySelector(selector);\n            }\n        } else if (nodeSelector) {\n            el = V.toNode(nodeSelector);\n            if (!(el instanceof SVGElement)) el = null;\n        }\n        return el ? el : null;\n    },\n\n    mount() {\n        const { MOUNTABLE, cellView, el, options, transformGroup } = this;\n        if (!MOUNTABLE || transformGroup) return;\n        const { vel: cellViewRoot, paper } = cellView;\n        const { layer: layerName } = options;\n        if (layerName) {\n            this.transformGroup = V('g')\n                .addClass('highlight-transform')\n                .append(el)\n                .appendTo(paper.getLayerNode(layerName));\n        } else {\n            // TODO: prepend vs append\n            if (!el.parentNode || el.nextSibling) {\n                // Not appended yet or not the last child\n                cellViewRoot.append(el);\n            }\n        }\n    },\n\n    unmount() {\n        const { MOUNTABLE, transformGroup, vel } = this;\n        if (!MOUNTABLE) return;\n        if (transformGroup) {\n            this.transformGroup = null;\n            transformGroup.remove();\n        } else {\n            vel.remove();\n        }\n    },\n\n    transform() {\n        const { transformGroup, cellView, updateRequested } = this;\n        if (!transformGroup || cellView.model.isLink() || updateRequested) return;\n        const translateMatrix = cellView.getRootTranslateMatrix();\n        const rotateMatrix = cellView.getRootRotateMatrix();\n        const transformMatrix = translateMatrix.multiply(rotateMatrix);\n        transformGroup.attr('transform', V.matrixToTransformString(transformMatrix));\n    },\n\n    update() {\n        const { node: prevNode, cellView, nodeSelector, updateRequested, id } = this;\n        if (updateRequested) return;\n        const node = this.node = this.findNode(cellView, nodeSelector);\n        if (prevNode) {\n            this.unhighlight(cellView, prevNode);\n        }\n        if (node) {\n            this.highlight(cellView, node);\n            this.mount();\n        } else {\n            this.unmount();\n            cellView.notify('cell:highlight:invalid', id, this);\n        }\n    },\n\n    onRemove() {\n        const { node, cellView, id, constructor } = this;\n        if (node) {\n            this.unhighlight(cellView, node);\n        }\n        this.unmount();\n        constructor._removeRef(cellView, id);\n    },\n\n    highlight(_cellView, _node) {\n        // to be overridden\n    },\n\n    unhighlight(_cellView, _node) {\n        // to be overridden\n    }\n\n}, {\n\n    _views: {},\n\n    // Used internally by CellView highlight()\n    highlight: function(cellView, node, opt) {\n        const id = this.uniqueId(node, opt);\n        this.add(cellView, node, id, opt);\n    },\n\n    // Used internally by CellView unhighlight()\n    unhighlight: function(cellView, node, opt) {\n        const id = this.uniqueId(node, opt);\n        this.remove(cellView, id);\n    },\n\n    get(cellView, id = null) {\n        const { cid } = cellView;\n        const { _views } = this;\n        const refs = _views[cid];\n        if (id === null) {\n            // all highlighters\n            const views = [];\n            if (!refs) return views;\n            for (let hid in refs) {\n                const ref = refs[hid];\n                if (ref instanceof this) {\n                    views.push(ref);\n                }\n            }\n            return views;\n        } else {\n            // single highlighter\n            if (!refs) return null;\n            if (id in refs) {\n                const ref = refs[id];\n                if (ref instanceof this) return ref;\n            }\n            return null;\n        }\n    },\n\n    add(cellView, nodeSelector, id, opt = {}) {\n        if (!id) throw new Error('dia.HighlighterView: An ID required.');\n        // Search the existing view amongst all the highlighters\n        const previousView = HighlighterView.get(cellView, id);\n        if (previousView) previousView.remove();\n        const view = new this(opt);\n        view.id = id;\n        this._addRef(cellView, id, view);\n        view.requestUpdate(cellView, nodeSelector);\n        return view;\n    },\n\n    _addRef(cellView, id, view) {\n        const { cid } = cellView;\n        const { _views } = this;\n        let refs = _views[cid];\n        if (!refs) refs = _views[cid] = {};\n        refs[id] = view;\n    },\n\n    _removeRef(cellView, id) {\n        const { cid } = cellView;\n        const { _views } = this;\n        const refs = _views[cid];\n        if (!refs) return;\n        if (id) delete refs[id];\n        for (let _ in refs) return;\n        delete _views[cid];\n    },\n\n    remove(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            view.remove();\n        });\n    },\n\n    update(cellView, id = null, dirty = false) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            if (dirty || view.UPDATABLE) view.update();\n        });\n    },\n\n    transform(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            if (view.UPDATABLE) view.transform();\n        });\n    },\n\n    uniqueId(node, opt = '') {\n        return V.ensureId(node) + JSON.stringify(opt);\n    }\n\n});\n","import { config } from '../config/index.mjs';\nimport { View } from '../mvc/index.mjs';\nimport {\n    assign,\n    guid,\n    omit,\n    parseDOMJSON,\n    isFunction,\n    isObject,\n    isPlainObject,\n    isBoolean,\n    isEmpty,\n    isString,\n    toKebabCase,\n    sortedIndex,\n    merge,\n    uniq\n} from '../util/index.mjs';\nimport { Point, Rect } from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport $ from 'jquery';\nimport { HighlighterView } from './HighlighterView.mjs';\n\nconst HighlightingTypes = {\n    DEFAULT: 'default',\n    EMBEDDING: 'embedding',\n    CONNECTING: 'connecting',\n    MAGNET_AVAILABILITY: 'magnetAvailability',\n    ELEMENT_AVAILABILITY: 'elementAvailability'\n};\n\n// CellView base view and controller.\n// --------------------------------------------\n\n// This is the base view and controller for `ElementView` and `LinkView`.\nexport const CellView = View.extend({\n\n    tagName: 'g',\n\n    svgElement: true,\n\n    selector: 'root',\n\n    metrics: null,\n\n    className: function() {\n\n        var classNames = ['cell'];\n        var type = this.model.get('type');\n\n        if (type) {\n\n            type.toLowerCase().split('.').forEach(function(value, index, list) {\n                classNames.push('type-' + list.slice(0, index + 1).join('-'));\n            });\n        }\n\n        return classNames.join(' ');\n    },\n\n    _presentationAttributes: null,\n    _flags: null,\n\n    setFlags: function() {\n        var flags = {};\n        var attributes = {};\n        var shift = 0;\n        var i, n, label;\n        var presentationAttributes = this.presentationAttributes;\n        for (var attribute in presentationAttributes) {\n            if (!presentationAttributes.hasOwnProperty(attribute)) continue;\n            var labels = presentationAttributes[attribute];\n            if (!Array.isArray(labels)) labels = [labels];\n            for (i = 0, n = labels.length; i < n; i++) {\n                label = labels[i];\n                var flag = flags[label];\n                if (!flag) {\n                    flag = flags[label] = 1<<(shift++);\n                }\n                attributes[attribute] |= flag;\n            }\n        }\n        var initFlag = this.initFlag;\n        if (!Array.isArray(initFlag)) initFlag = [initFlag];\n        for (i = 0, n = initFlag.length; i < n; i++) {\n            label = initFlag[i];\n            if (!flags[label]) flags[label] = 1<<(shift++);\n        }\n\n        // 26 - 30 are reserved for paper flags\n        // 31+ overflows maximal number\n        if (shift > 25) throw new Error('dia.CellView: Maximum number of flags exceeded.');\n\n        this._flags = flags;\n        this._presentationAttributes = attributes;\n    },\n\n    hasFlag: function(flag, label) {\n        return flag & this.getFlag(label);\n    },\n\n    removeFlag: function(flag, label) {\n        return flag ^ (flag & this.getFlag(label));\n    },\n\n    getFlag: function(label) {\n        var flags = this._flags;\n        if (!flags) return 0;\n        var flag = 0;\n        if (Array.isArray(label)) {\n            for (var i = 0, n = label.length; i < n; i++) flag |= flags[label[i]];\n        } else {\n            flag |= flags[label];\n        }\n        return flag;\n    },\n\n    attributes: function() {\n        var cell = this.model;\n        return {\n            'model-id': cell.id,\n            'data-type': cell.attributes.type\n        };\n    },\n\n    constructor: function(options) {\n\n        // Make sure a global unique id is assigned to this view. Store this id also to the properties object.\n        // The global unique id makes sure that the same view can be rendered on e.g. different machines and\n        // still be associated to the same object among all those clients. This is necessary for real-time\n        // collaboration mechanism.\n        options.id = options.id || guid(this);\n\n        View.call(this, options);\n    },\n\n    initialize: function() {\n\n        this.setFlags();\n\n        View.prototype.initialize.apply(this, arguments);\n\n        this.cleanNodesCache();\n\n        // Store reference to this to the <g> DOM element so that the view is accessible through the DOM tree.\n        this.$el.data('view', this);\n\n        this.startListening();\n    },\n\n    startListening: function() {\n        this.listenTo(this.model, 'change', this.onAttributesChange);\n    },\n\n    onAttributesChange: function(model, opt) {\n        var flag = model.getChangeFlag(this._presentationAttributes);\n        if (opt.updateHandled || !flag) return;\n        if (opt.dirty && this.hasFlag(flag, 'UPDATE')) flag |= this.getFlag('RENDER');\n        // TODO: tool changes does not need to be sync\n        // Fix Segments tools\n        if (opt.tool) opt.async = false;\n        this.requestUpdate(flag, opt);\n    },\n\n    requestUpdate: function(flags, opt) {\n        const { paper } = this;\n        if (paper && flags > 0) {\n            paper.requestViewUpdate(this, flags, this.UPDATE_PRIORITY, opt);\n        }\n    },\n\n    parseDOMJSON: function(markup, root) {\n\n        var doc = parseDOMJSON(markup);\n        var selectors = doc.selectors;\n        var groups = doc.groupSelectors;\n        for (var group in groups) {\n            if (selectors[group]) throw new Error('dia.CellView: ambiguous group selector');\n            selectors[group] = groups[group];\n        }\n        if (root) {\n            var rootSelector = this.selector;\n            if (selectors[rootSelector]) throw new Error('dia.CellView: ambiguous root selector.');\n            selectors[rootSelector] = root;\n        }\n        return { fragment: doc.fragment, selectors: selectors };\n    },\n\n    // Return `true` if cell link is allowed to perform a certain UI `feature`.\n    // Example: `can('vertexMove')`, `can('labelMove')`.\n    can: function(feature) {\n\n        var interactive = isFunction(this.options.interactive)\n            ? this.options.interactive(this)\n            : this.options.interactive;\n\n        return (isObject(interactive) && interactive[feature] !== false) ||\n            (isBoolean(interactive) && interactive !== false);\n    },\n\n    findBySelector: function(selector, root, selectors) {\n\n        root || (root = this.el);\n        selectors || (selectors = this.selectors);\n\n        // These are either descendants of `this.$el` of `this.$el` itself.\n        // `.` is a special selector used to select the wrapping `<g>` element.\n        if (!selector || selector === '.') return [root];\n        if (selectors) {\n            var nodes = selectors[selector];\n            if (nodes) {\n                if (Array.isArray(nodes)) return nodes;\n                return [nodes];\n            }\n        }\n\n        // Maintaining backwards compatibility\n        // e.g. `circle:first` would fail with querySelector() call\n        if (config.useCSSSelectors) return $(root).find(selector).toArray();\n\n        return [];\n    },\n\n    notify: function(eventName) {\n\n        if (this.paper) {\n\n            var args = Array.prototype.slice.call(arguments, 1);\n\n            // Trigger the event on both the element itself and also on the paper.\n            this.trigger.apply(this, [eventName].concat(args));\n\n            // Paper event handlers receive the view object as the first argument.\n            this.paper.trigger.apply(this.paper, [eventName, this].concat(args));\n        }\n    },\n\n    getBBox: function(opt) {\n\n        var bbox;\n        if (opt && opt.useModelGeometry) {\n            var model = this.model;\n            bbox = model.getBBox().bbox(model.angle());\n        } else {\n            bbox = this.getNodeBBox(this.el);\n        }\n\n        return this.paper.localToPaperRect(bbox);\n    },\n\n    getNodeBBox: function(magnet) {\n\n        var rect = this.getNodeBoundingRect(magnet);\n        var magnetMatrix = this.getNodeMatrix(magnet);\n        var translateMatrix = this.getRootTranslateMatrix();\n        var rotateMatrix = this.getRootRotateMatrix();\n        return V.transformRect(rect, translateMatrix.multiply(rotateMatrix).multiply(magnetMatrix));\n    },\n\n    getNodeUnrotatedBBox: function(magnet) {\n\n        var rect = this.getNodeBoundingRect(magnet);\n        var magnetMatrix = this.getNodeMatrix(magnet);\n        var translateMatrix = this.getRootTranslateMatrix();\n        return V.transformRect(rect, translateMatrix.multiply(magnetMatrix));\n    },\n\n    getRootTranslateMatrix: function() {\n\n        var model = this.model;\n        var position = model.position();\n        var mt = V.createSVGMatrix().translate(position.x, position.y);\n        return mt;\n    },\n\n    getRootRotateMatrix: function() {\n\n        var mr = V.createSVGMatrix();\n        var model = this.model;\n        var angle = model.angle();\n        if (angle) {\n            var bbox = model.getBBox();\n            var cx = bbox.width / 2;\n            var cy = bbox.height / 2;\n            mr = mr.translate(cx, cy).rotate(angle).translate(-cx, -cy);\n        }\n        return mr;\n    },\n\n    _notifyHighlight: function(eventName, el, opt = {}) {\n        const { el: rootNode } = this;\n        let node;\n        if (typeof el === 'string') {\n            [node = rootNode] = this.findBySelector(el);\n        } else {\n            [node = rootNode] = this.$(el);\n        }\n        // set partial flag if the highlighted element is not the entire view.\n        opt.partial = (node !== rootNode);\n        // translate type flag into a type string\n        if (opt.type === undefined) {\n            let type;\n            switch (true) {\n                case opt.embedding:\n                    type = HighlightingTypes.EMBEDDING;\n                    break;\n                case opt.connecting:\n                    type = HighlightingTypes.CONNECTING;\n                    break;\n                case opt.magnetAvailability:\n                    type = HighlightingTypes.MAGNET_AVAILABILITY;\n                    break;\n                case opt.elementAvailability:\n                    type = HighlightingTypes.ELEMENT_AVAILABILITY;\n                    break;\n                default:\n                    type = HighlightingTypes.DEFAULT;\n                    break;\n            }\n            opt.type = type;\n        }\n        this.notify(eventName, node, opt);\n        return this;\n    },\n\n    highlight: function(el, opt) {\n        return this._notifyHighlight('cell:highlight', el, opt);\n    },\n\n    unhighlight: function(el, opt = {}) {\n        return this._notifyHighlight('cell:unhighlight', el, opt);\n    },\n\n    // Find the closest element that has the `magnet` attribute set to `true`. If there was not such\n    // an element found, return the root element of the cell view.\n    findMagnet: function(el) {\n\n        const root = this.el;\n        let magnet = this.$(el)[0];\n        if (!magnet) {\n            magnet = root;\n        }\n\n        do {\n            const magnetAttribute = magnet.getAttribute('magnet');\n            const isMagnetRoot = (magnet === root);\n            if ((magnetAttribute || isMagnetRoot) && magnetAttribute !== 'false') {\n                return magnet;\n            }\n            if (isMagnetRoot) {\n                // If the overall cell has set `magnet === false`, then return `undefined` to\n                // announce there is no magnet found for this cell.\n                // This is especially useful to set on cells that have 'ports'. In this case,\n                // only the ports have set `magnet === true` and the overall element has `magnet === false`.\n                return undefined;\n            }\n            magnet = magnet.parentNode;\n        } while (magnet);\n\n        return undefined;\n    },\n\n    findProxyNode: function(el, type) {\n        el || (el = this.el);\n        const nodeSelector = el.getAttribute(`${type}-selector`);\n        if (nodeSelector) {\n            const [proxyNode] = this.findBySelector(nodeSelector);\n            if (proxyNode) return proxyNode;\n        }\n        return el;\n    },\n\n    // Construct a unique selector for the `el` element within this view.\n    // `prevSelector` is being collected through the recursive call.\n    // No value for `prevSelector` is expected when using this method.\n    getSelector: function(el, prevSelector) {\n\n        var selector;\n\n        if (el === this.el) {\n            if (typeof prevSelector === 'string') selector = '> ' + prevSelector;\n            return selector;\n        }\n\n        if (el) {\n\n            var nthChild = V(el).index() + 1;\n            selector = el.tagName + ':nth-child(' + nthChild + ')';\n\n            if (prevSelector) {\n                selector += ' > ' + prevSelector;\n            }\n\n            selector = this.getSelector(el.parentNode, selector);\n        }\n\n        return selector;\n    },\n\n    getLinkEnd: function(magnet, ...args) {\n\n        var model = this.model;\n        var id = model.id;\n        var port = this.findAttribute('port', magnet);\n        // Find a unique `selector` of the element under pointer that is a magnet.\n        var selector = magnet.getAttribute('joint-selector');\n\n        var end = { id: id };\n        if (selector != null) end.magnet = selector;\n        if (port != null) {\n            end.port = port;\n            if (!model.hasPort(port) && !selector) {\n                // port created via the `port` attribute (not API)\n                end.selector = this.getSelector(magnet);\n            }\n        } else if (selector == null && this.el !== magnet) {\n            end.selector = this.getSelector(magnet);\n        }\n\n        return this.customizeLinkEnd(end, magnet, ...args);\n    },\n\n    customizeLinkEnd: function(end, magnet, x, y, link, endType) {\n        const { paper } = this;\n        const { connectionStrategy } = paper.options;\n        if (typeof connectionStrategy === 'function') {\n            var strategy = connectionStrategy.call(paper, end, this, magnet, new Point(x, y), link, endType, paper);\n            if (strategy) return strategy;\n        }\n        return end;\n    },\n\n    getMagnetFromLinkEnd: function(end) {\n\n        var root = this.el;\n        var port = end.port;\n        var selector = end.magnet;\n        var model = this.model;\n        var magnet;\n        if (port != null && model.isElement() && model.hasPort(port)) {\n            magnet = this.findPortNode(port, selector) || root;\n        } else {\n            if (!selector) selector = end.selector;\n            if (!selector && port != null) {\n                // link end has only `id` and `port` property referencing\n                // a port created via the `port` attribute (not API).\n                selector = '[port=\"' + port + '\"]';\n            }\n            magnet = this.findBySelector(selector, root, this.selectors)[0];\n        }\n\n        return this.findProxyNode(magnet, 'magnet');\n    },\n\n    getAttributeDefinition: function(attrName) {\n\n        return this.model.constructor.getAttributeDefinition(attrName);\n    },\n\n    setNodeAttributes: function(node, attrs) {\n\n        if (!isEmpty(attrs)) {\n            if (node instanceof SVGElement) {\n                V(node).attr(attrs);\n            } else {\n                $(node).attr(attrs);\n            }\n        }\n    },\n\n    processNodeAttributes: function(node, attrs) {\n\n        var attrName, attrVal, def, i, n;\n        var normalAttrs, setAttrs, positionAttrs, offsetAttrs;\n        var relatives = [];\n        // divide the attributes between normal and special\n        for (attrName in attrs) {\n            if (!attrs.hasOwnProperty(attrName)) continue;\n            attrVal = attrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            if (def && (!isFunction(def.qualify) || def.qualify.call(this, attrVal, node, attrs))) {\n                if (isString(def.set)) {\n                    normalAttrs || (normalAttrs = {});\n                    normalAttrs[def.set] = attrVal;\n                }\n                if (attrVal !== null) {\n                    relatives.push(attrName, def);\n                }\n            } else {\n                normalAttrs || (normalAttrs = {});\n                normalAttrs[toKebabCase(attrName)] = attrVal;\n            }\n        }\n\n        // handle the rest of attributes via related method\n        // from the special attributes namespace.\n        for (i = 0, n = relatives.length; i < n; i+=2) {\n            attrName = relatives[i];\n            def = relatives[i+1];\n            attrVal = attrs[attrName];\n            if (isFunction(def.set)) {\n                setAttrs || (setAttrs = {});\n                setAttrs[attrName] = attrVal;\n            }\n            if (isFunction(def.position)) {\n                positionAttrs || (positionAttrs = {});\n                positionAttrs[attrName] = attrVal;\n            }\n            if (isFunction(def.offset)) {\n                offsetAttrs || (offsetAttrs = {});\n                offsetAttrs[attrName] = attrVal;\n            }\n        }\n\n        return {\n            raw: attrs,\n            normal: normalAttrs,\n            set: setAttrs,\n            position: positionAttrs,\n            offset: offsetAttrs\n        };\n    },\n\n    updateRelativeAttributes: function(node, attrs, refBBox, opt) {\n\n        opt || (opt = {});\n\n        var attrName, attrVal, def;\n        var rawAttrs = attrs.raw || {};\n        var nodeAttrs = attrs.normal || {};\n        var setAttrs = attrs.set;\n        var positionAttrs = attrs.position;\n        var offsetAttrs = attrs.offset;\n\n        for (attrName in setAttrs) {\n            attrVal = setAttrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            // SET - set function should return attributes to be set on the node,\n            // which will affect the node dimensions based on the reference bounding\n            // box. e.g. `width`, `height`, `d`, `rx`, `ry`, `points\n            var setResult = def.set.call(this, attrVal, refBBox.clone(), node, rawAttrs);\n            if (isObject(setResult)) {\n                assign(nodeAttrs, setResult);\n            } else if (setResult !== undefined) {\n                nodeAttrs[attrName] = setResult;\n            }\n        }\n\n        if (node instanceof HTMLElement) {\n            // TODO: setting the `transform` attribute on HTMLElements\n            // via `node.style.transform = 'matrix(...)';` would introduce\n            // a breaking change (e.g. basic.TextBlock).\n            this.setNodeAttributes(node, nodeAttrs);\n            return;\n        }\n\n        // The final translation of the subelement.\n        var nodeTransform = nodeAttrs.transform;\n        var nodeMatrix = V.transformStringToMatrix(nodeTransform);\n        var nodePosition = Point(nodeMatrix.e, nodeMatrix.f);\n        if (nodeTransform) {\n            nodeAttrs = omit(nodeAttrs, 'transform');\n            nodeMatrix.e = nodeMatrix.f = 0;\n        }\n\n        // Calculate node scale determined by the scalable group\n        // only if later needed.\n        var sx, sy, translation;\n        if (positionAttrs || offsetAttrs) {\n            var nodeScale = this.getNodeScale(node, opt.scalableNode);\n            sx = nodeScale.sx;\n            sy = nodeScale.sy;\n        }\n\n        var positioned = false;\n        for (attrName in positionAttrs) {\n            attrVal = positionAttrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            // POSITION - position function should return a point from the\n            // reference bounding box. The default position of the node is x:0, y:0 of\n            // the reference bounding box or could be further specify by some\n            // SVG attributes e.g. `x`, `y`\n            translation = def.position.call(this, attrVal, refBBox.clone(), node, rawAttrs);\n            if (translation) {\n                nodePosition.offset(Point(translation).scale(sx, sy));\n                positioned || (positioned = true);\n            }\n        }\n\n        // The node bounding box could depend on the `size` set from the previous loop.\n        // Here we know, that all the size attributes have been already set.\n        this.setNodeAttributes(node, nodeAttrs);\n\n        var offseted = false;\n        if (offsetAttrs) {\n            // Check if the node is visible\n            var nodeBoundingRect = this.getNodeBoundingRect(node);\n            if (nodeBoundingRect.width > 0 && nodeBoundingRect.height > 0) {\n                var nodeBBox = V.transformRect(nodeBoundingRect, nodeMatrix).scale(1 / sx, 1 / sy);\n                for (attrName in offsetAttrs) {\n                    attrVal = offsetAttrs[attrName];\n                    def = this.getAttributeDefinition(attrName);\n                    // OFFSET - offset function should return a point from the element\n                    // bounding box. The default offset point is x:0, y:0 (origin) or could be further\n                    // specify with some SVG attributes e.g. `text-anchor`, `cx`, `cy`\n                    translation = def.offset.call(this, attrVal, nodeBBox, node, rawAttrs);\n                    if (translation) {\n                        nodePosition.offset(Point(translation).scale(sx, sy));\n                        offseted || (offseted = true);\n                    }\n                }\n            }\n        }\n\n        // Do not touch node's transform attribute if there is no transformation applied.\n        if (nodeTransform !== undefined || positioned || offseted) {\n            // Round the coordinates to 1 decimal point.\n            nodePosition.round(1);\n            nodeMatrix.e = nodePosition.x;\n            nodeMatrix.f = nodePosition.y;\n            node.setAttribute('transform', V.matrixToTransformString(nodeMatrix));\n            // TODO: store nodeMatrix metrics?\n        }\n    },\n\n    getNodeScale: function(node, scalableNode) {\n\n        // Check if the node is a descendant of the scalable group.\n        var sx, sy;\n        if (scalableNode && scalableNode.contains(node)) {\n            var scale = scalableNode.scale();\n            sx = 1 / scale.sx;\n            sy = 1 / scale.sy;\n        } else {\n            sx = 1;\n            sy = 1;\n        }\n\n        return { sx: sx, sy: sy };\n    },\n\n    cleanNodesCache: function() {\n        this.metrics = {};\n    },\n\n    nodeCache: function(magnet) {\n\n        var metrics = this.metrics;\n        // Don't use cache? It most likely a custom view with overridden update.\n        if (!metrics) return {};\n        var id = V.ensureId(magnet);\n        var value = metrics[id];\n        if (!value) value = metrics[id] = {};\n        return value;\n    },\n\n    getNodeData: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (!metrics.data) metrics.data = {};\n        return metrics.data;\n    },\n\n    getNodeBoundingRect: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (metrics.boundingRect === undefined) metrics.boundingRect = V(magnet).getBBox();\n        return new Rect(metrics.boundingRect);\n    },\n\n    getNodeMatrix: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (metrics.magnetMatrix === undefined) {\n            var target = this.rotatableNode || this.el;\n            metrics.magnetMatrix = V(magnet).getTransformToElement(target);\n        }\n        return V.createSVGMatrix(metrics.magnetMatrix);\n    },\n\n    getNodeShape: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (metrics.geometryShape === undefined) metrics.geometryShape = V(magnet).toGeometryShape();\n        return metrics.geometryShape.clone();\n    },\n\n    isNodeConnection: function(node) {\n        return this.model.isLink() && (!node || node === this.el);\n    },\n\n    findNodesAttributes: function(attrs, root, selectorCache, selectors) {\n\n        var i, n, nodeAttrs, nodeId;\n        var nodesAttrs = {};\n        var mergeIds = [];\n        for (var selector in attrs) {\n            if (!attrs.hasOwnProperty(selector)) continue;\n            nodeAttrs = attrs[selector];\n            if (!isPlainObject(nodeAttrs)) continue; // Not a valid selector-attributes pair\n            var selected = selectorCache[selector] = this.findBySelector(selector, root, selectors);\n            for (i = 0, n = selected.length; i < n; i++) {\n                var node = selected[i];\n                nodeId = V.ensureId(node);\n                // \"unique\" selectors are selectors that referencing a single node (defined by `selector`)\n                // groupSelector referencing a single node is not \"unique\"\n                var unique = (selectors && selectors[selector] === node);\n                var prevNodeAttrs = nodesAttrs[nodeId];\n                if (prevNodeAttrs) {\n                    // Note, that nodes referenced by deprecated `CSS selectors` are not taken into account.\n                    // e.g. css:`.circle` and selector:`circle` can be applied in a random order\n                    if (!prevNodeAttrs.array) {\n                        mergeIds.push(nodeId);\n                        prevNodeAttrs.array = true;\n                        prevNodeAttrs.attributes = [prevNodeAttrs.attributes];\n                        prevNodeAttrs.selectedLength = [prevNodeAttrs.selectedLength];\n                    }\n                    var attributes = prevNodeAttrs.attributes;\n                    var selectedLength = prevNodeAttrs.selectedLength;\n                    if (unique) {\n                        // node referenced by `selector`\n                        attributes.unshift(nodeAttrs);\n                        selectedLength.unshift(-1);\n                    } else {\n                        // node referenced by `groupSelector`\n                        var sortIndex = sortedIndex(selectedLength, n);\n                        attributes.splice(sortIndex, 0, nodeAttrs);\n                        selectedLength.splice(sortIndex, 0, n);\n                    }\n                } else {\n                    nodesAttrs[nodeId] = {\n                        attributes: nodeAttrs,\n                        selectedLength: unique ? -1 : n,\n                        node: node,\n                        array: false\n                    };\n                }\n            }\n        }\n\n        for (i = 0, n = mergeIds.length; i < n; i++) {\n            nodeId = mergeIds[i];\n            nodeAttrs = nodesAttrs[nodeId];\n            nodeAttrs.attributes = merge({}, ...nodeAttrs.attributes.reverse());\n        }\n\n        return nodesAttrs;\n    },\n\n    getEventTarget: function(evt, opt = {}) {\n        // Touchmove/Touchend event's target is not reflecting the element under the coordinates as mousemove does.\n        // It holds the element when a touchstart triggered.\n        const { target, type, clientX = 0, clientY = 0 } = evt;\n        if (opt.fromPoint || type === 'touchmove' || type === 'touchend') {\n            return document.elementFromPoint(clientX, clientY);\n        }\n\n        return target;\n    },\n\n    // Default is to process the `model.attributes.attrs` object and set attributes on subelements based on the selectors,\n    // unless `attrs` parameter was passed.\n    updateDOMSubtreeAttributes: function(rootNode, attrs, opt) {\n\n        opt || (opt = {});\n        opt.rootBBox || (opt.rootBBox = Rect());\n        opt.selectors || (opt.selectors = this.selectors); // selector collection to use\n\n        // Cache table for query results and bounding box calculation.\n        // Note that `selectorCache` needs to be invalidated for all\n        // `updateAttributes` calls, as the selectors might pointing\n        // to nodes designated by an attribute or elements dynamically\n        // created.\n        var selectorCache = {};\n        var bboxCache = {};\n        var relativeItems = [];\n        var relativeRefItems = [];\n        var item, node, nodeAttrs, nodeData, processedAttrs;\n\n        var roAttrs = opt.roAttributes;\n        var nodesAttrs = this.findNodesAttributes(roAttrs || attrs, rootNode, selectorCache, opt.selectors);\n        // `nodesAttrs` are different from all attributes, when\n        // rendering only  attributes sent to this method.\n        var nodesAllAttrs = (roAttrs)\n            ? this.findNodesAttributes(attrs, rootNode, selectorCache, opt.selectors)\n            : nodesAttrs;\n\n        for (var nodeId in nodesAttrs) {\n            nodeData = nodesAttrs[nodeId];\n            nodeAttrs = nodeData.attributes;\n            node = nodeData.node;\n            processedAttrs = this.processNodeAttributes(node, nodeAttrs);\n\n            if (!processedAttrs.set && !processedAttrs.position && !processedAttrs.offset) {\n                // Set all the normal attributes right on the SVG/HTML element.\n                this.setNodeAttributes(node, processedAttrs.normal);\n\n            } else {\n\n                var nodeAllAttrs = nodesAllAttrs[nodeId] && nodesAllAttrs[nodeId].attributes;\n                var refSelector = (nodeAllAttrs && (nodeAttrs.ref === undefined))\n                    ? nodeAllAttrs.ref\n                    : nodeAttrs.ref;\n\n                var refNode;\n                if (refSelector) {\n                    refNode = (selectorCache[refSelector] || this.findBySelector(refSelector, rootNode, opt.selectors))[0];\n                    if (!refNode) {\n                        throw new Error('dia.CellView: \"' + refSelector + '\" reference does not exist.');\n                    }\n                } else {\n                    refNode = null;\n                }\n\n                item = {\n                    node: node,\n                    refNode: refNode,\n                    processedAttributes: processedAttrs,\n                    allAttributes: nodeAllAttrs\n                };\n\n                if (refNode) {\n                    // If an element in the list is positioned relative to this one, then\n                    // we want to insert this one before it in the list.\n                    var itemIndex = relativeRefItems.findIndex(function(item) {\n                        return item.refNode === node;\n                    });\n\n                    if (itemIndex > -1) {\n                        relativeRefItems.splice(itemIndex, 0, item);\n                    } else {\n                        relativeRefItems.push(item);\n                    }\n                } else {\n                    // A node with no ref attribute. To be updated before the nodes referencing other nodes.\n                    // The order of no-ref-items is not specified/important.\n                    relativeItems.push(item);\n                }\n            }\n        }\n\n        relativeItems.push(...relativeRefItems);\n\n        var rotatableMatrix;\n        for (var i = 0, n = relativeItems.length; i < n; i++) {\n            item = relativeItems[i];\n            node = item.node;\n            refNode = item.refNode;\n\n            // Find the reference element bounding box. If no reference was provided, we\n            // use the optional bounding box.\n            var vRotatable = V(opt.rotatableNode);\n            var refNodeId = refNode ? V.ensureId(refNode) : '';\n            var isRefNodeRotatable = !!vRotatable && !!refNode && vRotatable.contains(refNode);\n            var unrotatedRefBBox = bboxCache[refNodeId];\n            if (!unrotatedRefBBox) {\n                // Get the bounding box of the reference element relative to the `rotatable` `<g>` (without rotation)\n                // or to the root `<g>` element if no rotatable group present if reference node present.\n                // Uses the bounding box provided.\n                var transformationTarget = (isRefNodeRotatable) ? vRotatable : rootNode;\n                unrotatedRefBBox = bboxCache[refNodeId] = (refNode)\n                    ? V(refNode).getBBox({ target: transformationTarget })\n                    : opt.rootBBox;\n            }\n\n            if (roAttrs) {\n                // if there was a special attribute affecting the position amongst passed-in attributes\n                // we have to merge it with the rest of the element's attributes as they are necessary\n                // to update the position relatively (i.e `ref-x` && 'ref-dx')\n                processedAttrs = this.processNodeAttributes(node, item.allAttributes);\n                this.mergeProcessedAttributes(processedAttrs, item.processedAttributes);\n\n            } else {\n                processedAttrs = item.processedAttributes;\n            }\n\n            var refBBox = unrotatedRefBBox;\n            if (isRefNodeRotatable && !vRotatable.contains(node)) {\n                // if the referenced node is inside the rotatable group while the updated node is outside,\n                // we need to take the rotatable node transformation into account\n                if (!rotatableMatrix) rotatableMatrix = V.transformStringToMatrix(vRotatable.attr('transform'));\n                refBBox = V.transformRect(unrotatedRefBBox, rotatableMatrix);\n            }\n\n            this.updateRelativeAttributes(node, processedAttrs, refBBox, opt);\n        }\n    },\n\n    mergeProcessedAttributes: function(processedAttrs, roProcessedAttrs) {\n\n        processedAttrs.set || (processedAttrs.set = {});\n        processedAttrs.position || (processedAttrs.position = {});\n        processedAttrs.offset || (processedAttrs.offset = {});\n\n        assign(processedAttrs.set, roProcessedAttrs.set);\n        assign(processedAttrs.position, roProcessedAttrs.position);\n        assign(processedAttrs.offset, roProcessedAttrs.offset);\n\n        // Handle also the special transform property.\n        var transform = processedAttrs.normal && processedAttrs.normal.transform;\n        if (transform !== undefined && roProcessedAttrs.normal) {\n            roProcessedAttrs.normal.transform = transform;\n        }\n        processedAttrs.normal = roProcessedAttrs.normal;\n    },\n\n    onRemove: function() {\n        this.removeTools();\n        this.removeHighlighters();\n    },\n\n    _toolsView: null,\n\n    hasTools: function(name) {\n        var toolsView = this._toolsView;\n        if (!toolsView) return false;\n        if (!name) return true;\n        return (toolsView.getName() === name);\n    },\n\n    addTools: function(toolsView) {\n\n        this.removeTools();\n\n        if (toolsView) {\n            this._toolsView = toolsView;\n            toolsView.configure({ relatedView: this });\n            toolsView.listenTo(this.paper, 'tools:event', this.onToolEvent.bind(this));\n        }\n        return this;\n    },\n\n    updateTools: function(opt) {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.update(opt);\n        return this;\n    },\n\n    removeTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) {\n            toolsView.remove();\n            this._toolsView = null;\n        }\n        return this;\n    },\n\n    hideTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.hide();\n        return this;\n    },\n\n    showTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.show();\n        return this;\n    },\n\n    onToolEvent: function(event) {\n        switch (event) {\n            case 'remove':\n                this.removeTools();\n                break;\n            case 'hide':\n                this.hideTools();\n                break;\n            case 'show':\n                this.showTools();\n                break;\n        }\n    },\n\n    removeHighlighters: function() {\n        HighlighterView.remove(this);\n    },\n\n    updateHighlighters: function(dirty = false) {\n        HighlighterView.update(this, null, dirty);\n    },\n\n    transformHighlighters: function() {\n        HighlighterView.transform(this);\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    // Interaction is handled by the paper and delegated to the view in interest.\n    // `x` & `y` parameters passed to these functions represent the coordinates already snapped to the paper grid.\n    // If necessary, real coordinates can be obtained from the `evt` event object.\n\n    // These functions are supposed to be overriden by the views that inherit from `joint.dia.Cell`,\n    // i.e. `joint.dia.Element` and `joint.dia.Link`.\n\n    pointerdblclick: function(evt, x, y) {\n\n        this.notify('cell:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        this.notify('cell:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        this.notify('cell:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        const { model } = this;\n        const { graph } = model;\n        if (graph) {\n            model.startBatch('pointer');\n            this.eventData(evt, { graph });\n        }\n\n        this.notify('cell:pointerdown', evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        this.notify('cell:pointermove', evt, x, y);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        const { graph } = this.eventData(evt);\n\n        this.notify('cell:pointerup', evt, x, y);\n\n        if (graph) {\n            // we don't want to trigger event on model as model doesn't\n            // need to be member of collection anymore (remove)\n            graph.stopBatch('pointer', { cell: this.model });\n        }\n    },\n\n    mouseover: function(evt) {\n\n        this.notify('cell:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        this.notify('cell:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        this.notify('cell:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        this.notify('cell:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        this.notify('cell:mousewheel', evt, x, y, delta);\n    },\n\n    onevent: function(evt, eventName, x, y) {\n\n        this.notify(eventName, evt, x, y);\n    },\n\n    onmagnet: function() {\n\n        // noop\n    },\n\n    magnetpointerdblclick: function() {\n\n        // noop\n    },\n\n    magnetcontextmenu: function() {\n\n        // noop\n    },\n\n    checkMouseleave(evt) {\n        const { paper } = this;\n        if (paper.isAsync()) {\n            // Do the updates of the current view synchronously now\n            paper.dumpView(this);\n        }\n        const target = this.getEventTarget(evt, { fromPoint: true });\n        const view = paper.findView(target);\n        if (view === this) return;\n        // Leaving the current view\n        this.mouseleave(evt);\n        if (!view) return;\n        // Entering another view\n        view.mouseenter(evt);\n    },\n\n    setInteractivity: function(value) {\n\n        this.options.interactive = value;\n    }\n}, {\n\n    Highlighting: HighlightingTypes,\n\n    addPresentationAttributes: function(presentationAttributes) {\n        return merge({}, this.prototype.presentationAttributes, presentationAttributes, function(a, b) {\n            if (!a || !b) return;\n            if (typeof a === 'string') a = [a];\n            if (typeof b === 'string') b = [b];\n            if (Array.isArray(a) && Array.isArray(b)) return uniq(a.concat(b));\n        });\n    }\n});\n","import { config } from '../config/index.mjs';\nimport { assign, invoke, isFunction, toArray } from '../util/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { Cell } from './Cell.mjs';\nimport V from '../V/index.mjs';\nimport { elementViewPortPrototype } from './ports.mjs';\nimport { Rect, snapToGrid } from '../g/index.mjs';\n\n// Element base view and controller.\n// -------------------------------------------\n\nexport const ElementView = CellView.extend({\n\n    /**\n     * @abstract\n     */\n    _removePorts: function() {\n        // implemented in ports.js\n    },\n\n    /**\n     *\n     * @abstract\n     */\n    _renderPorts: function() {\n        // implemented in ports.js\n    },\n\n    className: function() {\n\n        var classNames = CellView.prototype.className.apply(this).split(' ');\n\n        classNames.push('element');\n\n        return classNames.join(' ');\n    },\n\n    initialize: function() {\n\n        CellView.prototype.initialize.apply(this, arguments);\n\n        this._initializePorts();\n    },\n\n    presentationAttributes: {\n        'attrs': ['UPDATE'],\n        'position': ['TRANSLATE', 'TOOLS'],\n        'size': ['RESIZE', 'PORTS', 'TOOLS'],\n        'angle': ['ROTATE', 'TOOLS'],\n        'markup': ['RENDER'],\n        'ports': ['PORTS']\n    },\n\n    initFlag: ['RENDER'],\n\n    UPDATE_PRIORITY: 0,\n\n    confirmUpdate: function(flag, opt) {\n\n        const { useCSSSelectors } = config;\n        if (this.hasFlag(flag, 'PORTS')) {\n            this._removePorts();\n            this._cleanPortsCache();\n        }\n        let transformHighlighters = false;\n        if (this.hasFlag(flag, 'RENDER')) {\n            this.render();\n            this.updateTools(opt);\n            this.updateHighlighters(true);\n            transformHighlighters = true;\n            flag = this.removeFlag(flag, ['RENDER', 'UPDATE', 'RESIZE', 'TRANSLATE', 'ROTATE', 'PORTS', 'TOOLS']);\n        } else {\n            let updateHighlighters = false;\n\n            // Skip this branch if render is required\n            if (this.hasFlag(flag, 'RESIZE')) {\n                this.resize(opt);\n                updateHighlighters = true;\n                // Resize method is calling `update()` internally\n                flag = this.removeFlag(flag, ['RESIZE', 'UPDATE']);\n            }\n            if (this.hasFlag(flag, 'UPDATE')) {\n                this.update(this.model, null, opt);\n                flag = this.removeFlag(flag, 'UPDATE');\n                updateHighlighters = true;\n                if (useCSSSelectors) {\n                    // `update()` will render ports when useCSSSelectors are enabled\n                    flag = this.removeFlag(flag, 'PORTS');\n                }\n            }\n            if (this.hasFlag(flag, 'TRANSLATE')) {\n                this.translate();\n                flag = this.removeFlag(flag, 'TRANSLATE');\n                transformHighlighters = true;\n            }\n            if (this.hasFlag(flag, 'ROTATE')) {\n                this.rotate();\n                flag = this.removeFlag(flag, 'ROTATE');\n                transformHighlighters = true;\n            }\n            if (this.hasFlag(flag, 'PORTS')) {\n                this._renderPorts();\n                updateHighlighters = true;\n                flag = this.removeFlag(flag, 'PORTS');\n            }\n\n            if (updateHighlighters) {\n                this.updateHighlighters(false);\n            }\n        }\n\n        if (transformHighlighters) {\n            this.transformHighlighters();\n        }\n\n        if (this.hasFlag(flag, 'TOOLS')) {\n            this.updateTools(opt);\n            flag = this.removeFlag(flag, 'TOOLS');\n        }\n\n        return flag;\n    },\n\n    /**\n     * @abstract\n     */\n    _initializePorts: function() {\n\n    },\n\n    update: function(_, renderingOnlyAttrs) {\n\n        this.cleanNodesCache();\n\n        // When CSS selector strings are used, make sure no rule matches port nodes.\n        const { useCSSSelectors } = config;\n        if (useCSSSelectors) this._removePorts();\n\n        var model = this.model;\n        var modelAttrs = model.attr();\n        this.updateDOMSubtreeAttributes(this.el, modelAttrs, {\n            rootBBox: new Rect(model.size()),\n            selectors: this.selectors,\n            scalableNode: this.scalableNode,\n            rotatableNode: this.rotatableNode,\n            // Use rendering only attributes if they differs from the model attributes\n            roAttributes: (renderingOnlyAttrs === modelAttrs) ? null : renderingOnlyAttrs\n        });\n\n        if (useCSSSelectors) {\n            this._renderPorts();\n        }\n    },\n\n    rotatableSelector: 'rotatable',\n    scalableSelector: 'scalable',\n    scalableNode: null,\n    rotatableNode: null,\n\n    // `prototype.markup` is rendered by default. Set the `markup` attribute on the model if the\n    // default markup is not desirable.\n    renderMarkup: function() {\n\n        var element = this.model;\n        var markup = element.get('markup') || element.markup;\n        if (!markup) throw new Error('dia.ElementView: markup required');\n        if (Array.isArray(markup)) return this.renderJSONMarkup(markup);\n        if (typeof markup === 'string') return this.renderStringMarkup(markup);\n        throw new Error('dia.ElementView: invalid markup');\n    },\n\n    renderJSONMarkup: function(markup) {\n\n        var doc = this.parseDOMJSON(markup, this.el);\n        var selectors = this.selectors = doc.selectors;\n        this.rotatableNode = V(selectors[this.rotatableSelector]) || null;\n        this.scalableNode = V(selectors[this.scalableSelector]) || null;\n        // Fragment\n        this.vel.append(doc.fragment);\n    },\n\n    renderStringMarkup: function(markup) {\n\n        var vel = this.vel;\n        vel.append(V(markup));\n        // Cache transformation groups\n        this.rotatableNode = vel.findOne('.rotatable');\n        this.scalableNode = vel.findOne('.scalable');\n\n        var selectors = this.selectors = {};\n        selectors[this.selector] = this.el;\n    },\n\n    render: function() {\n\n        this.vel.empty();\n        this.renderMarkup();\n        if (this.scalableNode) {\n            // Double update is necessary for elements with the scalable group only\n            // Note the resize() triggers the other `update`.\n            this.update();\n        }\n        this.resize();\n        if (this.rotatableNode) {\n            // Translate transformation is applied on `this.el` while the rotation transformation\n            // on `this.rotatableNode`\n            this.rotate();\n            this.translate();\n        } else {\n            this.updateTransformation();\n        }\n        if (!config.useCSSSelectors) this._renderPorts();\n        return this;\n    },\n\n    resize: function(opt) {\n\n        if (this.scalableNode) return this.sgResize(opt);\n        if (this.model.attributes.angle) this.rotate();\n        this.update();\n    },\n\n    translate: function() {\n\n        if (this.rotatableNode) return this.rgTranslate();\n        this.updateTransformation();\n    },\n\n    rotate: function() {\n\n        if (this.rotatableNode) {\n            this.rgRotate();\n            // It's necessary to call the update for the nodes outside\n            // the rotatable group referencing nodes inside the group\n            this.update();\n            return;\n        }\n        this.updateTransformation();\n    },\n\n    updateTransformation: function() {\n\n        var transformation = this.getTranslateString();\n        var rotateString = this.getRotateString();\n        if (rotateString) transformation += ' ' + rotateString;\n        this.vel.attr('transform', transformation);\n    },\n\n    getTranslateString: function() {\n\n        var position = this.model.attributes.position;\n        return 'translate(' + position.x + ',' + position.y + ')';\n    },\n\n    getRotateString: function() {\n        var attributes = this.model.attributes;\n        var angle = attributes.angle;\n        if (!angle) return null;\n        var size = attributes.size;\n        return 'rotate(' + angle + ',' + (size.width / 2) + ',' + (size.height / 2) + ')';\n    },\n\n    // Rotatable & Scalable Group\n    // always slower, kept mainly for backwards compatibility\n\n    rgRotate: function() {\n\n        this.rotatableNode.attr('transform', this.getRotateString());\n    },\n\n    rgTranslate: function() {\n\n        this.vel.attr('transform', this.getTranslateString());\n    },\n\n    sgResize: function(opt) {\n\n        var model = this.model;\n        var angle = model.angle();\n        var size = model.size();\n        var scalable = this.scalableNode;\n\n        // Getting scalable group's bbox.\n        // Due to a bug in webkit's native SVG .getBBox implementation, the bbox of groups with path children includes the paths' control points.\n        // To work around the issue, we need to check whether there are any path elements inside the scalable group.\n        var recursive = false;\n        if (scalable.node.getElementsByTagName('path').length > 0) {\n            // If scalable has at least one descendant that is a path, we need to switch to recursive bbox calculation.\n            // If there are no path descendants, group bbox calculation works and so we can use the (faster) native function directly.\n            recursive = true;\n        }\n        var scalableBBox = scalable.getBBox({ recursive: recursive });\n\n        // Make sure `scalableBbox.width` and `scalableBbox.height` are not zero which can happen if the element does not have any content. By making\n        // the width/height 1, we prevent HTML errors of the type `scale(Infinity, Infinity)`.\n        var sx = (size.width / (scalableBBox.width || 1));\n        var sy = (size.height / (scalableBBox.height || 1));\n        scalable.attr('transform', 'scale(' + sx + ',' + sy + ')');\n\n        // Now the interesting part. The goal is to be able to store the object geometry via just `x`, `y`, `angle`, `width` and `height`\n        // Order of transformations is significant but we want to reconstruct the object always in the order:\n        // resize(), rotate(), translate() no matter of how the object was transformed. For that to work,\n        // we must adjust the `x` and `y` coordinates of the object whenever we resize it (because the origin of the\n        // rotation changes). The new `x` and `y` coordinates are computed by canceling the previous rotation\n        // around the center of the resized object (which is a different origin then the origin of the previous rotation)\n        // and getting the top-left corner of the resulting object. Then we clean up the rotation back to what it originally was.\n\n        // Cancel the rotation but now around a different origin, which is the center of the scaled object.\n        var rotatable = this.rotatableNode;\n        var rotation = rotatable && rotatable.attr('transform');\n        if (rotation) {\n\n            rotatable.attr('transform', rotation + ' rotate(' + (-angle) + ',' + (size.width / 2) + ',' + (size.height / 2) + ')');\n            var rotatableBBox = scalable.getBBox({ target: this.paper.cells });\n\n            // Store new x, y and perform rotate() again against the new rotation origin.\n            model.set('position', { x: rotatableBBox.x, y: rotatableBBox.y }, assign({ updateHandled: true }, opt));\n            this.translate();\n            this.rotate();\n        }\n\n        // Update must always be called on non-rotated element. Otherwise, relative positioning\n        // would work with wrong (rotated) bounding boxes.\n        this.update();\n    },\n\n    // Embedding mode methods.\n    // -----------------------\n\n    prepareEmbedding: function(data) {\n\n        data || (data = {});\n\n        var model = data.model || this.model;\n        var paper = data.paper || this.paper;\n        var graph = paper.model;\n\n        model.startBatch('to-front');\n\n        // Bring the model to the front with all his embeds.\n        model.toFront({ deep: true, ui: true });\n\n        // Note that at this point cells in the collection are not sorted by z index (it's running in the batch, see\n        // the dia.Graph._sortOnChangeZ), so we can't assume that the last cell in the collection has the highest z.\n        var maxZ = graph.getElements().reduce(function(max, cell) {\n            return Math.max(max, cell.attributes.z || 0);\n        }, 0);\n\n        // Move to front also all the inbound and outbound links that are connected\n        // to any of the element descendant. If we bring to front only embedded elements,\n        // links connected to them would stay in the background.\n        var connectedLinks = graph.getConnectedLinks(model, { deep: true, includeEnclosed: true });\n        connectedLinks.forEach(function(link) {\n            if (link.attributes.z <= maxZ) link.set('z', maxZ + 1, { ui: true });\n        });\n\n        model.stopBatch('to-front');\n\n        // Before we start looking for suitable parent we remove the current one.\n        var parentId = model.parent();\n        if (parentId) {\n            graph.getCell(parentId).unembed(model, { ui: true });\n        }\n    },\n\n    processEmbedding: function(data) {\n\n        data || (data = {});\n\n        var model = data.model || this.model;\n        var paper = data.paper || this.paper;\n        var paperOptions = paper.options;\n\n        var candidates = [];\n        if (isFunction(paperOptions.findParentBy)) {\n            var parents = toArray(paperOptions.findParentBy.call(paper.model, this));\n            candidates = parents.filter(function(el) {\n                return el instanceof Cell && this.model.id !== el.id && !el.isEmbeddedIn(this.model);\n            }.bind(this));\n        } else {\n            candidates = paper.model.findModelsUnderElement(model, { searchBy: paperOptions.findParentBy });\n        }\n\n        if (paperOptions.frontParentOnly) {\n            // pick the element with the highest `z` index\n            candidates = candidates.slice(-1);\n        }\n\n        var newCandidateView = null;\n        var prevCandidateView = data.candidateEmbedView;\n\n        // iterate over all candidates starting from the last one (has the highest z-index).\n        for (var i = candidates.length - 1; i >= 0; i--) {\n\n            var candidate = candidates[i];\n\n            if (prevCandidateView && prevCandidateView.model.id == candidate.id) {\n\n                // candidate remains the same\n                newCandidateView = prevCandidateView;\n                break;\n\n            } else {\n\n                var view = candidate.findView(paper);\n                if (paperOptions.validateEmbedding.call(paper, this, view)) {\n\n                    // flip to the new candidate\n                    newCandidateView = view;\n                    break;\n                }\n            }\n        }\n\n        if (newCandidateView && newCandidateView != prevCandidateView) {\n            // A new candidate view found. Highlight the new one.\n            this.clearEmbedding(data);\n            data.candidateEmbedView = newCandidateView.highlight(\n                newCandidateView.findProxyNode(null, 'container'),\n                { embedding: true }\n            );\n        }\n\n        if (!newCandidateView && prevCandidateView) {\n            // No candidate view found. Unhighlight the previous candidate.\n            this.clearEmbedding(data);\n        }\n    },\n\n    clearEmbedding: function(data) {\n\n        data || (data = {});\n\n        var candidateView = data.candidateEmbedView;\n        if (candidateView) {\n            // No candidate view found. Unhighlight the previous candidate.\n            candidateView.unhighlight(\n                candidateView.findProxyNode(null, 'container'),\n                { embedding: true }\n            );\n            data.candidateEmbedView = null;\n        }\n    },\n\n    finalizeEmbedding: function(data) {\n\n        data || (data = {});\n\n        var candidateView = data.candidateEmbedView;\n        var model = data.model || this.model;\n        var paper = data.paper || this.paper;\n\n        if (candidateView) {\n\n            // We finished embedding. Candidate view is chosen to become the parent of the model.\n            candidateView.model.embed(model, { ui: true });\n            candidateView.unhighlight(\n                candidateView.findProxyNode(null, 'container'),\n                { embedding: true }\n            );\n\n            data.candidateEmbedView = null;\n        }\n\n        invoke(paper.model.getConnectedLinks(model, { deep: true }), 'reparent', { ui: true });\n    },\n\n    getDelegatedView: function() {\n\n        var view = this;\n        var model = view.model;\n        var paper = view.paper;\n\n        while (view) {\n            if (model.isLink()) break;\n            if (!model.isEmbedded() || view.can('stopDelegation')) return view;\n            model = model.getParentCell();\n            view = paper.findViewByModel(model);\n        }\n\n        return null;\n    },\n\n    findProxyNode: function(el, type) {\n        el || (el = this.el);\n        const nodeSelector = el.getAttribute(`${type}-selector`);\n        if (nodeSelector) {\n            const port = this.findAttribute('port', el);\n            if (port) {\n                const proxyPortNode = this.findPortNode(port, nodeSelector);\n                if (proxyPortNode) return proxyPortNode;\n            } else {\n                const [proxyNode] = this.findBySelector(nodeSelector);\n                if (proxyNode) return proxyNode;\n            }\n        }\n        return el;\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    notifyPointerdown(evt, x, y) {\n        CellView.prototype.pointerdown.call(this, evt, x, y);\n        this.notify('element:pointerdown', evt, x, y);\n    },\n\n    notifyPointermove(evt, x, y) {\n        CellView.prototype.pointermove.call(this, evt, x, y);\n        this.notify('element:pointermove', evt, x, y);\n    },\n\n    notifyPointerup(evt, x, y) {\n        this.notify('element:pointerup', evt, x, y);\n        CellView.prototype.pointerup.call(this, evt, x, y);\n    },\n\n    pointerdblclick: function(evt, x, y) {\n\n        CellView.prototype.pointerdblclick.apply(this, arguments);\n        this.notify('element:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        CellView.prototype.pointerclick.apply(this, arguments);\n        this.notify('element:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        CellView.prototype.contextmenu.apply(this, arguments);\n        this.notify('element:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        if (this.isPropagationStopped(evt)) return;\n\n        this.notifyPointerdown(evt, x, y);\n        this.dragStart(evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n\n        switch (data.action) {\n            case 'magnet':\n                this.dragMagnet(evt, x, y);\n                break;\n            case 'move':\n                (data.delegatedView || this).drag(evt, x, y);\n            // eslint: no-fallthrough=false\n            default:\n                this.notifyPointermove(evt, x, y);\n                break;\n        }\n\n        // Make sure the element view data is passed along.\n        // It could have been wiped out in the handlers above.\n        this.eventData(evt, data);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        switch (data.action) {\n            case 'magnet':\n                this.dragMagnetEnd(evt, x, y);\n                break;\n            case 'move':\n                (data.delegatedView || this).dragEnd(evt, x, y);\n            // eslint: no-fallthrough=false\n            default:\n                this.notifyPointerup(evt, x, y);\n        }\n\n        var magnet = data.targetMagnet;\n        if (magnet) this.magnetpointerclick(evt, magnet, x, y);\n\n        this.checkMouseleave(evt);\n    },\n\n    mouseover: function(evt) {\n\n        CellView.prototype.mouseover.apply(this, arguments);\n        this.notify('element:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        CellView.prototype.mouseout.apply(this, arguments);\n        this.notify('element:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        CellView.prototype.mouseenter.apply(this, arguments);\n        this.notify('element:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        CellView.prototype.mouseleave.apply(this, arguments);\n        this.notify('element:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        CellView.prototype.mousewheel.apply(this, arguments);\n        this.notify('element:mousewheel', evt, x, y, delta);\n    },\n\n    onmagnet: function(evt, x, y) {\n\n        this.dragMagnetStart(evt, x, y);\n    },\n\n    magnetpointerdblclick: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:pointerdblclick', evt, magnet, x, y);\n    },\n\n    magnetcontextmenu: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:contextmenu', evt, magnet, x, y);\n    },\n\n    // Drag Start Handlers\n\n    dragStart: function(evt, x, y) {\n\n        var view = this.getDelegatedView();\n        if (!view || !view.can('elementMove')) return;\n\n        this.eventData(evt, {\n            action: 'move',\n            delegatedView: view\n        });\n\n        view.eventData(evt, {\n            pointerOffset: view.model.position().difference(x, y),\n            restrictedArea: this.paper.getRestrictedArea(view, x, y)\n        });\n    },\n\n    dragMagnetStart: function(evt, x, y) {\n\n        if (!this.can('addLinkFromMagnet')) return;\n\n        var magnet = evt.currentTarget;\n        var paper = this.paper;\n        this.eventData(evt, { targetMagnet: magnet });\n        evt.stopPropagation();\n\n        if (paper.options.validateMagnet(this, magnet, evt)) {\n\n            if (paper.options.magnetThreshold <= 0) {\n                this.dragLinkStart(evt, magnet, x, y);\n            }\n\n            this.eventData(evt, { action: 'magnet' });\n            this.stopPropagation(evt);\n\n        } else {\n\n            this.pointerdown(evt, x, y);\n        }\n\n        paper.delegateDragEvents(this, evt.data);\n    },\n\n    dragLinkStart: function(evt, magnet, x, y) {\n\n        this.model.startBatch('add-link');\n\n        var linkView = this.addLinkFromMagnet(magnet, x, y);\n\n        // backwards compatibility events\n        linkView.notifyPointerdown(evt, x, y);\n\n        linkView.eventData(evt, linkView.startArrowheadMove('target', { whenNotAllowed: 'remove' }));\n        this.eventData(evt, { linkView: linkView });\n    },\n\n    addLinkFromMagnet: function(magnet, x, y) {\n\n        var paper = this.paper;\n        var graph = paper.model;\n\n        var link = paper.getDefaultLink(this, magnet);\n        link.set({\n            source: this.getLinkEnd(magnet, x, y, link, 'source'),\n            target: { x: x, y: y }\n        }).addTo(graph, {\n            async: false,\n            ui: true\n        });\n\n        return link.findView(paper);\n    },\n\n    // Drag Handlers\n\n    drag: function(evt, x, y) {\n\n        var paper = this.paper;\n        var grid = paper.options.gridSize;\n        var element = this.model;\n        var data = this.eventData(evt);\n        var { pointerOffset, restrictedArea, embedding } = data;\n\n        // Make sure the new element's position always snaps to the current grid\n        var elX = snapToGrid(x + pointerOffset.x, grid);\n        var elY = snapToGrid(y + pointerOffset.y, grid);\n\n        element.position(elX, elY, { restrictedArea, deep: true, ui: true });\n\n        if (paper.options.embeddingMode) {\n            if (!embedding) {\n                // Prepare the element for embedding only if the pointer moves.\n                // We don't want to do unnecessary action with the element\n                // if an user only clicks/dblclicks on it.\n                this.prepareEmbedding(data);\n                embedding = true;\n            }\n            this.processEmbedding(data);\n        }\n\n        this.eventData(evt, {\n            embedding\n        });\n    },\n\n    dragMagnet: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var linkView = data.linkView;\n        if (linkView) {\n            linkView.pointermove(evt, x, y);\n        } else {\n            var paper = this.paper;\n            var magnetThreshold = paper.options.magnetThreshold;\n            var currentTarget = this.getEventTarget(evt);\n            var targetMagnet = data.targetMagnet;\n            if (magnetThreshold === 'onleave') {\n                // magnetThreshold when the pointer leaves the magnet\n                if (targetMagnet === currentTarget || V(targetMagnet).contains(currentTarget)) return;\n            } else {\n                // magnetThreshold defined as a number of movements\n                if (paper.eventData(evt).mousemoved <= magnetThreshold) return;\n            }\n            this.dragLinkStart(evt, targetMagnet, x, y);\n        }\n    },\n\n    // Drag End Handlers\n\n    dragEnd: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        if (data.embedding) this.finalizeEmbedding(data);\n    },\n\n    dragMagnetEnd: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var linkView = data.linkView;\n        if (!linkView) return;\n        linkView.pointerup(evt, x, y);\n        this.model.stopBatch('add-link');\n    },\n\n    magnetpointerclick: function(evt, magnet, x, y) {\n        var paper = this.paper;\n        if (paper.eventData(evt).mousemoved > paper.options.clickThreshold) return;\n        this.notify('element:magnet:pointerclick', evt, magnet, x, y);\n    }\n\n});\n\nassign(ElementView.prototype, elementViewPortPrototype);\n","// Does not make any changes to vertices.\n// Returns the arguments that are passed to it, unchanged.\nexport const normal = function(vertices, opt, linkView) {\n\n    return vertices;\n};\n","import * as util from '../util/index.mjs';\n\n// Routes the link always to/from a certain side\n//\n// Arguments:\n//   padding ... gap between the element and the first vertex. :: Default 40.\n//   side ... 'left' | 'right' | 'top' | 'bottom' :: Default 'bottom'.\n//\nexport const oneSide = function(vertices, opt, linkView) {\n\n    var side = opt.side || 'bottom';\n    var padding = util.normalizeSides(opt.padding || 40);\n\n    // LinkView contains cached source an target bboxes.\n    // Note that those are Geometry rectangle objects.\n    var sourceBBox = linkView.sourceBBox;\n    var targetBBox = linkView.targetBBox;\n    var sourcePoint = sourceBBox.center();\n    var targetPoint = targetBBox.center();\n\n    var coordinate, dimension, direction;\n\n    switch (side) {\n        case 'bottom':\n            direction = 1;\n            coordinate = 'y';\n            dimension = 'height';\n            break;\n        case 'top':\n            direction = -1;\n            coordinate = 'y';\n            dimension = 'height';\n            break;\n        case 'left':\n            direction = -1;\n            coordinate = 'x';\n            dimension = 'width';\n            break;\n        case 'right':\n            direction = 1;\n            coordinate = 'x';\n            dimension = 'width';\n            break;\n        default:\n            throw new Error('Router: invalid side');\n    }\n\n    // move the points from the center of the element to outside of it.\n    sourcePoint[coordinate] += direction * (sourceBBox[dimension] / 2 + padding[side]);\n    targetPoint[coordinate] += direction * (targetBBox[dimension] / 2 + padding[side]);\n\n    // make link orthogonal (at least the first and last vertex).\n    if ((direction * (sourcePoint[coordinate] - targetPoint[coordinate])) > 0) {\n        targetPoint[coordinate] = sourcePoint[coordinate];\n    } else {\n        sourcePoint[coordinate] = targetPoint[coordinate];\n    }\n\n    return [sourcePoint].concat(vertices, targetPoint);\n};\n","import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\n\n// bearing -> opposite bearing\nvar opposites = {\n    N: 'S',\n    S: 'N',\n    E: 'W',\n    W: 'E'\n};\n\n// bearing -> radians\nvar radians = {\n    N: -Math.PI / 2 * 3,\n    S: -Math.PI / 2,\n    E: 0,\n    W: Math.PI\n};\n\n// HELPERS //\n\n// returns a point `p` where lines p,p1 and p,p2 are perpendicular and p is not contained\n// in the given box\nfunction freeJoin(p1, p2, bbox) {\n\n    var p = new g.Point(p1.x, p2.y);\n    if (bbox.containsPoint(p)) p = new g.Point(p2.x, p1.y);\n    // kept for reference\n    // if (bbox.containsPoint(p)) p = null;\n\n    return p;\n}\n\n// returns either width or height of a bbox based on the given bearing\nfunction getBBoxSize(bbox, bearing) {\n\n    return bbox[(bearing === 'W' || bearing === 'E') ? 'width' : 'height'];\n}\n\n// simple bearing method (calculates only orthogonal cardinals)\nfunction getBearing(from, to) {\n\n    if (from.x === to.x) return (from.y > to.y) ? 'N' : 'S';\n    if (from.y === to.y) return (from.x > to.x) ? 'W' : 'E';\n    return null;\n}\n\n// transform point to a rect\nfunction getPointBox(p) {\n\n    return new g.Rect(p.x, p.y, 0, 0);\n}\n\nfunction getPaddingBox(opt) {\n\n    // if both provided, opt.padding wins over opt.elementPadding\n    var sides = util.normalizeSides(opt.padding || opt.elementPadding || 20);\n\n    return {\n        x: -sides.left,\n        y: -sides.top,\n        width: sides.left + sides.right,\n        height: sides.top + sides.bottom\n    };\n}\n\n// return source bbox\nfunction getSourceBBox(linkView, opt) {\n\n    return linkView.sourceBBox.clone().moveAndExpand(getPaddingBox(opt));\n}\n\n// return target bbox\nfunction getTargetBBox(linkView, opt) {\n\n    return linkView.targetBBox.clone().moveAndExpand(getPaddingBox(opt));\n}\n\n// return source anchor\nfunction getSourceAnchor(linkView, opt) {\n\n    if (linkView.sourceAnchor) return linkView.sourceAnchor;\n\n    // fallback: center of bbox\n    var sourceBBox = getSourceBBox(linkView, opt);\n    return sourceBBox.center();\n}\n\n// return target anchor\nfunction getTargetAnchor(linkView, opt) {\n\n    if (linkView.targetAnchor) return linkView.targetAnchor;\n\n    // fallback: center of bbox\n    var targetBBox = getTargetBBox(linkView, opt);\n    return targetBBox.center(); // default\n}\n\n// PARTIAL ROUTERS //\n\nfunction vertexVertex(from, to, bearing) {\n\n    var p1 = new g.Point(from.x, to.y);\n    var p2 = new g.Point(to.x, from.y);\n    var d1 = getBearing(from, p1);\n    var d2 = getBearing(from, p2);\n    var opposite = opposites[bearing];\n\n    var p = (d1 === bearing || (d1 !== opposite && (d2 === opposite || d2 !== bearing))) ? p1 : p2;\n\n    return { points: [p], direction: getBearing(p, to) };\n}\n\nfunction elementVertex(from, to, fromBBox) {\n\n    var p = freeJoin(from, to, fromBBox);\n\n    return { points: [p], direction: getBearing(p, to) };\n}\n\nfunction vertexElement(from, to, toBBox, bearing) {\n\n    var route = {};\n\n    var points = [new g.Point(from.x, to.y), new g.Point(to.x, from.y)];\n    var freePoints = points.filter(function(pt) {\n        return !toBBox.containsPoint(pt);\n    });\n    var freeBearingPoints = freePoints.filter(function(pt) {\n        return getBearing(pt, from) !== bearing;\n    });\n\n    var p;\n\n    if (freeBearingPoints.length > 0) {\n        // Try to pick a point which bears the same direction as the previous segment.\n\n        p = freeBearingPoints.filter(function(pt) {\n            return getBearing(from, pt) === bearing;\n        }).pop();\n        p = p || freeBearingPoints[0];\n\n        route.points = [p];\n        route.direction = getBearing(p, to);\n\n    } else {\n        // Here we found only points which are either contained in the element or they would create\n        // a link segment going in opposite direction from the previous one.\n        // We take the point inside element and move it outside the element in the direction the\n        // route is going. Now we can join this point with the current end (using freeJoin).\n\n        p = util.difference(points, freePoints)[0];\n\n        var p2 = (new g.Point(to)).move(p, -getBBoxSize(toBBox, bearing) / 2);\n        var p1 = freeJoin(p2, from, toBBox);\n\n        route.points = [p1, p2];\n        route.direction = getBearing(p2, to);\n    }\n\n    return route;\n}\n\nfunction elementElement(from, to, fromBBox, toBBox) {\n\n    var route = elementVertex(to, from, toBBox);\n    var p1 = route.points[0];\n\n    if (fromBBox.containsPoint(p1)) {\n\n        route = elementVertex(from, to, fromBBox);\n        var p2 = route.points[0];\n\n        if (toBBox.containsPoint(p2)) {\n\n            var fromBorder = (new g.Point(from)).move(p2, -getBBoxSize(fromBBox, getBearing(from, p2)) / 2);\n            var toBorder = (new g.Point(to)).move(p1, -getBBoxSize(toBBox, getBearing(to, p1)) / 2);\n            var mid = (new g.Line(fromBorder, toBorder)).midpoint();\n\n            var startRoute = elementVertex(from, mid, fromBBox);\n            var endRoute = vertexVertex(mid, to, startRoute.direction);\n\n            route.points = [startRoute.points[0], endRoute.points[0]];\n            route.direction = endRoute.direction;\n        }\n    }\n\n    return route;\n}\n\n// Finds route for situations where one element is inside the other.\n// Typically the route is directed outside the outer element first and\n// then back towards the inner element.\nfunction insideElement(from, to, fromBBox, toBBox, bearing) {\n\n    var route = {};\n    var boundary = fromBBox.union(toBBox).inflate(1);\n\n    // start from the point which is closer to the boundary\n    var reversed = boundary.center().distance(to) > boundary.center().distance(from);\n    var start = reversed ? to : from;\n    var end = reversed ? from : to;\n\n    var p1, p2, p3;\n\n    if (bearing) {\n        // Points on circle with radius equals 'W + H` are always outside the rectangle\n        // with width W and height H if the center of that circle is the center of that rectangle.\n        p1 = g.Point.fromPolar(boundary.width + boundary.height, radians[bearing], start);\n        p1 = boundary.pointNearestToPoint(p1).move(p1, -1);\n\n    } else {\n        p1 = boundary.pointNearestToPoint(start).move(start, 1);\n    }\n\n    p2 = freeJoin(p1, end, boundary);\n\n    if (p1.round().equals(p2.round())) {\n        p2 = g.Point.fromPolar(boundary.width + boundary.height, g.toRad(p1.theta(start)) + Math.PI / 2, end);\n        p2 = boundary.pointNearestToPoint(p2).move(end, 1).round();\n        p3 = freeJoin(p1, p2, boundary);\n        route.points = reversed ? [p2, p3, p1] : [p1, p3, p2];\n\n    } else {\n        route.points = reversed ? [p2, p1] : [p1, p2];\n    }\n\n    route.direction = reversed ? getBearing(p1, to) : getBearing(p2, to);\n\n    return route;\n}\n\n// MAIN ROUTER //\n\n// Return points through which a connection needs to be drawn in order to obtain an orthogonal link\n// routing from source to target going through `vertices`.\nexport function orthogonal(vertices, opt, linkView) {\n\n    var sourceBBox = getSourceBBox(linkView, opt);\n    var targetBBox = getTargetBBox(linkView, opt);\n\n    var sourceAnchor = getSourceAnchor(linkView, opt);\n    var targetAnchor = getTargetAnchor(linkView, opt);\n\n    // if anchor lies outside of bbox, the bbox expands to include it\n    sourceBBox = sourceBBox.union(getPointBox(sourceAnchor));\n    targetBBox = targetBBox.union(getPointBox(targetAnchor));\n\n    vertices = util.toArray(vertices).map(g.Point);\n    vertices.unshift(sourceAnchor);\n    vertices.push(targetAnchor);\n\n    var bearing; // bearing of previous route segment\n\n    var orthogonalVertices = []; // the array of found orthogonal vertices to be returned\n    for (var i = 0, max = vertices.length - 1; i < max; i++) {\n\n        var route = null;\n\n        var from = vertices[i];\n        var to = vertices[i + 1];\n\n        var isOrthogonal = !!getBearing(from, to);\n\n        if (i === 0) { // source\n\n            if (i + 1 === max) { // route source -> target\n\n                // Expand one of the elements by 1px to detect situations when the two\n                // elements are positioned next to each other with no gap in between.\n                if (sourceBBox.intersect(targetBBox.clone().inflate(1))) {\n                    route = insideElement(from, to, sourceBBox, targetBBox);\n\n                } else if (!isOrthogonal) {\n                    route = elementElement(from, to, sourceBBox, targetBBox);\n                }\n\n            } else { // route source -> vertex\n\n                if (sourceBBox.containsPoint(to)) {\n                    route = insideElement(from, to, sourceBBox, getPointBox(to).moveAndExpand(getPaddingBox(opt)));\n\n                } else if (!isOrthogonal) {\n                    route = elementVertex(from, to, sourceBBox);\n                }\n            }\n\n        } else if (i + 1 === max) { // route vertex -> target\n\n            // prevent overlaps with previous line segment\n            var isOrthogonalLoop = isOrthogonal && getBearing(to, from) === bearing;\n\n            if (targetBBox.containsPoint(from) || isOrthogonalLoop) {\n                route = insideElement(from, to, getPointBox(from).moveAndExpand(getPaddingBox(opt)), targetBBox, bearing);\n\n            } else if (!isOrthogonal) {\n                route = vertexElement(from, to, targetBBox, bearing);\n            }\n\n        } else if (!isOrthogonal) { // route vertex -> vertex\n            route = vertexVertex(from, to, bearing);\n        }\n\n        // applicable to all routes:\n\n        // set bearing for next iteration\n        if (route) {\n            Array.prototype.push.apply(orthogonalVertices, route.points);\n            bearing = route.direction;\n\n        } else {\n            // orthogonal route and not looped\n            bearing = getBearing(from, to);\n        }\n\n        // push `to` point to identified orthogonal vertices array\n        if (i + 1 < max) {\n            orthogonalVertices.push(to);\n        }\n    }\n\n    return orthogonalVertices;\n}\n","import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { orthogonal } from './orthogonal.mjs';\n\nvar config = {\n\n    // size of the step to find a route (the grid of the manhattan pathfinder)\n    step: 10,\n\n    // the number of route finding loops that cause the router to abort\n    // returns fallback route instead\n    maximumLoops: 2000,\n\n    // the number of decimal places to round floating point coordinates\n    precision: 1,\n\n    // maximum change of direction\n    maxAllowedDirectionChange: 90,\n\n    // should the router use perpendicular linkView option?\n    // does not connect anchor of element but rather a point close-by that is orthogonal\n    // this looks much better\n    perpendicular: true,\n\n    // should the source and/or target not be considered as obstacles?\n    excludeEnds: [], // 'source', 'target'\n\n    // should certain types of elements not be considered as obstacles?\n    excludeTypes: ['basic.Text'],\n\n    // possible starting directions from an element\n    startDirections: ['top', 'right', 'bottom', 'left'],\n\n    // possible ending directions to an element\n    endDirections: ['top', 'right', 'bottom', 'left'],\n\n    // specify the directions used above and what they mean\n    directionMap: {\n        top: { x: 0, y: -1 },\n        right: { x: 1, y: 0 },\n        bottom: { x: 0, y: 1 },\n        left: { x: -1, y: 0 }\n    },\n\n    // cost of an orthogonal step\n    cost: function() {\n\n        return this.step;\n    },\n\n    // an array of directions to find next points on the route\n    // different from start/end directions\n    directions: function() {\n\n        var step = this.step;\n        var cost = this.cost();\n\n        return [\n            { offsetX: step, offsetY: 0, cost: cost },\n            { offsetX: -step, offsetY: 0, cost: cost },\n            { offsetX: 0, offsetY: step, cost: cost },\n            { offsetX: 0, offsetY: -step, cost: cost }\n        ];\n    },\n\n    // a penalty received for direction change\n    penalties: function() {\n\n        return {\n            0: 0,\n            45: this.step / 2,\n            90: this.step / 2\n        };\n    },\n\n    // padding applied on the element bounding boxes\n    paddingBox: function() {\n\n        var step = this.step;\n\n        return {\n            x: -step,\n            y: -step,\n            width: 2 * step,\n            height: 2 * step\n        };\n    },\n\n    // a router to use when the manhattan router fails\n    // (one of the partial routes returns null)\n    fallbackRouter: function(vertices, opt, linkView) {\n\n        if (!util.isFunction(orthogonal)) {\n            throw new Error('Manhattan requires the orthogonal router as default fallback.');\n        }\n\n        return orthogonal(vertices, util.assign({}, config, opt), linkView);\n    },\n\n    /* Deprecated */\n    // a simple route used in situations when main routing method fails\n    // (exceed max number of loop iterations, inaccessible)\n    fallbackRoute: function(from, to, opt) {\n\n        return null; // null result will trigger the fallbackRouter\n\n        // left for reference:\n        /*// Find an orthogonal route ignoring obstacles.\n\n        var point = ((opt.previousDirAngle || 0) % 180 === 0)\n                ? new g.Point(from.x, to.y)\n                : new g.Point(to.x, from.y);\n\n        return [point];*/\n    },\n\n    // if a function is provided, it's used to route the link while dragging an end\n    // i.e. function(from, to, opt) { return []; }\n    draggingRoute: null\n};\n\n// HELPER CLASSES //\n\n// Map of obstacles\n// Helper structure to identify whether a point lies inside an obstacle.\nfunction ObstacleMap(opt) {\n\n    this.map = {};\n    this.options = opt;\n    // tells how to divide the paper when creating the elements map\n    this.mapGridSize = 100;\n}\n\nObstacleMap.prototype.build = function(graph, link) {\n\n    var opt = this.options;\n\n    // source or target element could be excluded from set of obstacles\n    var excludedEnds = util.toArray(opt.excludeEnds).reduce(function(res, item) {\n\n        var end = link.get(item);\n        if (end) {\n            var cell = graph.getCell(end.id);\n            if (cell) {\n                res.push(cell);\n            }\n        }\n\n        return res;\n    }, []);\n\n    // Exclude any embedded elements from the source and the target element.\n    var excludedAncestors = [];\n\n    var source = graph.getCell(link.get('source').id);\n    if (source) {\n        excludedAncestors = util.union(excludedAncestors, source.getAncestors().map(function(cell) {\n            return cell.id;\n        }));\n    }\n\n    var target = graph.getCell(link.get('target').id);\n    if (target) {\n        excludedAncestors = util.union(excludedAncestors, target.getAncestors().map(function(cell) {\n            return cell.id;\n        }));\n    }\n\n    // Builds a map of all elements for quicker obstacle queries (i.e. is a point contained\n    // in any obstacle?) (a simplified grid search).\n    // The paper is divided into smaller cells, where each holds information about which\n    // elements belong to it. When we query whether a point lies inside an obstacle we\n    // don't need to go through all obstacles, we check only those in a particular cell.\n    var mapGridSize = this.mapGridSize;\n\n    graph.getElements().reduce(function(map, element) {\n\n        var isExcludedType = util.toArray(opt.excludeTypes).includes(element.get('type'));\n        var isExcludedEnd = excludedEnds.find(function(excluded) {\n            return excluded.id === element.id;\n        });\n        var isExcludedAncestor = excludedAncestors.includes(element.id);\n\n        var isExcluded = isExcludedType || isExcludedEnd || isExcludedAncestor;\n        if (!isExcluded) {\n            var bbox = element.getBBox().moveAndExpand(opt.paddingBox);\n\n            var origin = bbox.origin().snapToGrid(mapGridSize);\n            var corner = bbox.corner().snapToGrid(mapGridSize);\n\n            for (var x = origin.x; x <= corner.x; x += mapGridSize) {\n                for (var y = origin.y; y <= corner.y; y += mapGridSize) {\n                    var gridKey = x + '@' + y;\n                    map[gridKey] = map[gridKey] || [];\n                    map[gridKey].push(bbox);\n                }\n            }\n        }\n\n        return map;\n    }, this.map);\n\n    return this;\n};\n\nObstacleMap.prototype.isPointAccessible = function(point) {\n\n    var mapKey = point.clone().snapToGrid(this.mapGridSize).toString();\n\n    return util.toArray(this.map[mapKey]).every(function(obstacle) {\n        return !obstacle.containsPoint(point);\n    });\n};\n\n// Sorted Set\n// Set of items sorted by given value.\nfunction SortedSet() {\n    this.items = [];\n    this.hash = {};\n    this.values = {};\n    this.OPEN = 1;\n    this.CLOSE = 2;\n}\n\nSortedSet.prototype.add = function(item, value) {\n\n    if (this.hash[item]) {\n        // item removal\n        this.items.splice(this.items.indexOf(item), 1);\n    } else {\n        this.hash[item] = this.OPEN;\n    }\n\n    this.values[item] = value;\n\n    var index = util.sortedIndex(this.items, item, function(i) {\n        return this.values[i];\n    }.bind(this));\n\n    this.items.splice(index, 0, item);\n};\n\nSortedSet.prototype.remove = function(item) {\n\n    this.hash[item] = this.CLOSE;\n};\n\nSortedSet.prototype.isOpen = function(item) {\n\n    return this.hash[item] === this.OPEN;\n};\n\nSortedSet.prototype.isClose = function(item) {\n\n    return this.hash[item] === this.CLOSE;\n};\n\nSortedSet.prototype.isEmpty = function() {\n\n    return this.items.length === 0;\n};\n\nSortedSet.prototype.pop = function() {\n\n    var item = this.items.shift();\n    this.remove(item);\n    return item;\n};\n\n// HELPERS //\n\n// return source bbox\nfunction getSourceBBox(linkView, opt) {\n\n    // expand by padding box\n    if (opt && opt.paddingBox) return linkView.sourceBBox.clone().moveAndExpand(opt.paddingBox);\n\n    return linkView.sourceBBox.clone();\n}\n\n// return target bbox\nfunction getTargetBBox(linkView, opt) {\n\n    // expand by padding box\n    if (opt && opt.paddingBox) return linkView.targetBBox.clone().moveAndExpand(opt.paddingBox);\n\n    return linkView.targetBBox.clone();\n}\n\n// return source anchor\nfunction getSourceAnchor(linkView, opt) {\n\n    if (linkView.sourceAnchor) return linkView.sourceAnchor;\n\n    // fallback: center of bbox\n    var sourceBBox = getSourceBBox(linkView, opt);\n    return sourceBBox.center();\n}\n\n// return target anchor\nfunction getTargetAnchor(linkView, opt) {\n\n    if (linkView.targetAnchor) return linkView.targetAnchor;\n\n    // fallback: center of bbox\n    var targetBBox = getTargetBBox(linkView, opt);\n    return targetBBox.center(); // default\n}\n\n// returns a direction index from start point to end point\n// corrects for grid deformation between start and end\nfunction getDirectionAngle(start, end, numDirections, grid, opt) {\n\n    var quadrant = 360 / numDirections;\n    var angleTheta = start.theta(fixAngleEnd(start, end, grid, opt));\n    var normalizedAngle = g.normalizeAngle(angleTheta + (quadrant / 2));\n    return quadrant * Math.floor(normalizedAngle / quadrant);\n}\n\n// helper function for getDirectionAngle()\n// corrects for grid deformation\n// (if a point is one grid steps away from another in both dimensions,\n// it is considered to be 45 degrees away, even if the real angle is different)\n// this causes visible angle discrepancies if `opt.step` is much larger than `paper.gridSize`\nfunction fixAngleEnd(start, end, grid, opt) {\n\n    var step = opt.step;\n\n    var diffX = end.x - start.x;\n    var diffY = end.y - start.y;\n\n    var gridStepsX = diffX / grid.x;\n    var gridStepsY = diffY / grid.y;\n\n    var distanceX = gridStepsX * step;\n    var distanceY = gridStepsY * step;\n\n    return new g.Point(start.x + distanceX, start.y + distanceY);\n}\n\n// return the change in direction between two direction angles\nfunction getDirectionChange(angle1, angle2) {\n\n    var directionChange = Math.abs(angle1 - angle2);\n    return (directionChange > 180) ? (360 - directionChange) : directionChange;\n}\n\n// fix direction offsets according to current grid\nfunction getGridOffsets(directions, grid, opt) {\n\n    var step = opt.step;\n\n    util.toArray(opt.directions).forEach(function(direction) {\n\n        direction.gridOffsetX = (direction.offsetX / step) * grid.x;\n        direction.gridOffsetY = (direction.offsetY / step) * grid.y;\n    });\n}\n\n// get grid size in x and y dimensions, adapted to source and target positions\nfunction getGrid(step, source, target) {\n\n    return {\n        source: source.clone(),\n        x: getGridDimension(target.x - source.x, step),\n        y: getGridDimension(target.y - source.y, step)\n    };\n}\n\n// helper function for getGrid()\nfunction getGridDimension(diff, step) {\n\n    // return step if diff = 0\n    if (!diff) return step;\n\n    var absDiff = Math.abs(diff);\n    var numSteps = Math.round(absDiff / step);\n\n    // return absDiff if less than one step apart\n    if (!numSteps) return absDiff;\n\n    // otherwise, return corrected step\n    var roundedDiff = numSteps * step;\n    var remainder = absDiff - roundedDiff;\n    var stepCorrection = remainder / numSteps;\n\n    return step + stepCorrection;\n}\n\n// return a clone of point snapped to grid\nfunction snapToGrid(point, grid) {\n\n    var source = grid.source;\n\n    var snappedX = g.snapToGrid(point.x - source.x, grid.x) + source.x;\n    var snappedY = g.snapToGrid(point.y - source.y, grid.y) + source.y;\n\n    return new g.Point(snappedX, snappedY);\n}\n\n// round the point to opt.precision\nfunction round(point, precision) {\n\n    return point.round(precision);\n}\n\n// snap to grid and then round the point\nfunction align(point, grid, precision) {\n\n    return round(snapToGrid(point.clone(), grid), precision);\n}\n\n// return a string representing the point\n// string is rounded in both dimensions\nfunction getKey(point) {\n\n    return point.clone().toString();\n}\n\n// return a normalized vector from given point\n// used to determine the direction of a difference of two points\nfunction normalizePoint(point) {\n\n    return new g.Point(\n        point.x === 0 ? 0 : Math.abs(point.x) / point.x,\n        point.y === 0 ? 0 : Math.abs(point.y) / point.y\n    );\n}\n\n// PATHFINDING //\n\n// reconstructs a route by concatenating points with their parents\nfunction reconstructRoute(parents, points, tailPoint, from, to, grid, opt) {\n\n    var route = [];\n\n    var prevDiff = normalizePoint(to.difference(tailPoint));\n\n    // tailPoint is assumed to be aligned already\n    var currentKey = getKey(tailPoint);\n    var parent = parents[currentKey];\n\n    var point;\n    while (parent) {\n\n        // point is assumed to be aligned already\n        point = points[currentKey];\n\n        var diff = normalizePoint(point.difference(parent));\n        if (!diff.equals(prevDiff)) {\n            route.unshift(point);\n            prevDiff = diff;\n        }\n\n        // parent is assumed to be aligned already\n        currentKey = getKey(parent);\n        parent = parents[currentKey];\n    }\n\n    // leadPoint is assumed to be aligned already\n    var leadPoint = points[currentKey];\n\n    var fromDiff = normalizePoint(leadPoint.difference(from));\n    if (!fromDiff.equals(prevDiff)) {\n        route.unshift(leadPoint);\n    }\n\n    return route;\n}\n\n// heuristic method to determine the distance between two points\nfunction estimateCost(from, endPoints) {\n\n    var min = Infinity;\n\n    for (var i = 0, len = endPoints.length; i < len; i++) {\n        var cost = from.manhattanDistance(endPoints[i]);\n        if (cost < min) min = cost;\n    }\n\n    return min;\n}\n\n// find points around the bbox taking given directions into account\n// lines are drawn from anchor in given directions, intersections recorded\n// if anchor is outside bbox, only those directions that intersect get a rect point\n// the anchor itself is returned as rect point (representing some directions)\n// (since those directions are unobstructed by the bbox)\nfunction getRectPoints(anchor, bbox, directionList, grid, opt) {\n\n    var precision = opt.precision;\n    var directionMap = opt.directionMap;\n\n    var anchorCenterVector = anchor.difference(bbox.center());\n\n    var keys = util.isObject(directionMap) ? Object.keys(directionMap) : [];\n    var dirList = util.toArray(directionList);\n    var rectPoints = keys.reduce(function(res, key) {\n\n        if (dirList.includes(key)) {\n            var direction = directionMap[key];\n\n            // create a line that is guaranteed to intersect the bbox if bbox is in the direction\n            // even if anchor lies outside of bbox\n            var endpoint = new g.Point(\n                anchor.x + direction.x * (Math.abs(anchorCenterVector.x) + bbox.width),\n                anchor.y + direction.y * (Math.abs(anchorCenterVector.y) + bbox.height)\n            );\n            var intersectionLine = new g.Line(anchor, endpoint);\n\n            // get the farther intersection, in case there are two\n            // (that happens if anchor lies next to bbox)\n            var intersections = intersectionLine.intersect(bbox) || [];\n            var numIntersections = intersections.length;\n            var farthestIntersectionDistance;\n            var farthestIntersection = null;\n            for (var i = 0; i < numIntersections; i++) {\n                var currentIntersection = intersections[i];\n                var distance = anchor.squaredDistance(currentIntersection);\n                if ((farthestIntersectionDistance === undefined) || (distance > farthestIntersectionDistance)) {\n                    farthestIntersectionDistance = distance;\n                    farthestIntersection = currentIntersection;\n                }\n            }\n\n            // if an intersection was found in this direction, it is our rectPoint\n            if (farthestIntersection) {\n                var point = align(farthestIntersection, grid, precision);\n\n                // if the rectPoint lies inside the bbox, offset it by one more step\n                if (bbox.containsPoint(point)) {\n                    point = align(point.offset(direction.x * grid.x, direction.y * grid.y), grid, precision);\n                }\n\n                // then add the point to the result array\n                // aligned\n                res.push(point);\n            }\n        }\n\n        return res;\n    }, []);\n\n    // if anchor lies outside of bbox, add it to the array of points\n    if (!bbox.containsPoint(anchor)) {\n        // aligned\n        rectPoints.push(align(anchor, grid, precision));\n    }\n\n    return rectPoints;\n}\n\n// finds the route between two points/rectangles (`from`, `to`) implementing A* algorithm\n// rectangles get rect points assigned by getRectPoints()\nfunction findRoute(from, to, map, opt) {\n\n    var precision = opt.precision;\n\n    // Get grid for this route.\n\n    var sourceAnchor, targetAnchor;\n\n    if (from instanceof g.Rect) { // `from` is sourceBBox\n        sourceAnchor = round(getSourceAnchor(this, opt).clone(), precision);\n    } else {\n        sourceAnchor = round(from.clone(), precision);\n    }\n\n    if (to instanceof g.Rect) { // `to` is targetBBox\n        targetAnchor = round(getTargetAnchor(this, opt).clone(), precision);\n    } else {\n        targetAnchor = round(to.clone(), precision);\n    }\n\n    var grid = getGrid(opt.step, sourceAnchor, targetAnchor);\n\n    // Get pathfinding points.\n\n    var start, end; // aligned with grid by definition\n    var startPoints, endPoints; // assumed to be aligned with grid already\n\n    // set of points we start pathfinding from\n    if (from instanceof g.Rect) { // `from` is sourceBBox\n        start = sourceAnchor;\n        startPoints = getRectPoints(start, from, opt.startDirections, grid, opt);\n\n    } else {\n        start = sourceAnchor;\n        startPoints = [start];\n    }\n\n    // set of points we want the pathfinding to finish at\n    if (to instanceof g.Rect) { // `to` is targetBBox\n        end = targetAnchor;\n        endPoints = getRectPoints(targetAnchor, to, opt.endDirections, grid, opt);\n\n    } else {\n        end = targetAnchor;\n        endPoints = [end];\n    }\n\n    // take into account only accessible rect points (those not under obstacles)\n    startPoints = startPoints.filter(map.isPointAccessible, map);\n    endPoints = endPoints.filter(map.isPointAccessible, map);\n\n    // Check that there is an accessible route point on both sides.\n    // Otherwise, use fallbackRoute().\n    if (startPoints.length > 0 && endPoints.length > 0) {\n\n        // The set of tentative points to be evaluated, initially containing the start points.\n        // Rounded to nearest integer for simplicity.\n        var openSet = new SortedSet();\n        // Keeps reference to actual points for given elements of the open set.\n        var points = {};\n        // Keeps reference to a point that is immediate predecessor of given element.\n        var parents = {};\n        // Cost from start to a point along best known path.\n        var costs = {};\n\n        for (var i = 0, n = startPoints.length; i < n; i++) {\n            // startPoint is assumed to be aligned already\n            var startPoint = startPoints[i];\n\n            var key = getKey(startPoint);\n\n            openSet.add(key, estimateCost(startPoint, endPoints));\n            points[key] = startPoint;\n            costs[key] = 0;\n        }\n\n        var previousRouteDirectionAngle = opt.previousDirectionAngle; // undefined for first route\n        var isPathBeginning = (previousRouteDirectionAngle === undefined);\n\n        // directions\n        var direction, directionChange;\n        var directions = opt.directions;\n        getGridOffsets(directions, grid, opt);\n\n        var numDirections = directions.length;\n\n        var endPointsKeys = util.toArray(endPoints).reduce(function(res, endPoint) {\n            // endPoint is assumed to be aligned already\n\n            var key = getKey(endPoint);\n            res.push(key);\n            return res;\n        }, []);\n\n        // main route finding loop\n        var loopsRemaining = opt.maximumLoops;\n        while (!openSet.isEmpty() && loopsRemaining > 0) {\n\n            // remove current from the open list\n            var currentKey = openSet.pop();\n            var currentPoint = points[currentKey];\n            var currentParent = parents[currentKey];\n            var currentCost = costs[currentKey];\n\n            var isRouteBeginning = (currentParent === undefined); // undefined for route starts\n            var isStart = currentPoint.equals(start); // (is source anchor or `from` point) = can leave in any direction\n\n            var previousDirectionAngle;\n            if (!isRouteBeginning) previousDirectionAngle = getDirectionAngle(currentParent, currentPoint, numDirections, grid, opt); // a vertex on the route\n            else if (!isPathBeginning) previousDirectionAngle = previousRouteDirectionAngle; // beginning of route on the path\n            else if (!isStart) previousDirectionAngle = getDirectionAngle(start, currentPoint, numDirections, grid, opt); // beginning of path, start rect point\n            else previousDirectionAngle = null; // beginning of path, source anchor or `from` point\n\n            // check if we reached any endpoint\n            var samePoints = util.isEqual(startPoints, endPoints);\n            var skipEndCheck = (isRouteBeginning && samePoints);\n            if (!skipEndCheck && (endPointsKeys.indexOf(currentKey) >= 0)) {\n                opt.previousDirectionAngle = previousDirectionAngle;\n                return reconstructRoute(parents, points, currentPoint, start, end, grid, opt);\n            }\n\n            // go over all possible directions and find neighbors\n            for (i = 0; i < numDirections; i++) {\n                direction = directions[i];\n\n                var directionAngle = direction.angle;\n                directionChange = getDirectionChange(previousDirectionAngle, directionAngle);\n\n                // if the direction changed rapidly, don't use this point\n                // any direction is allowed for starting points\n                if (!(isPathBeginning && isStart) && directionChange > opt.maxAllowedDirectionChange) continue;\n\n                var neighborPoint = align(currentPoint.clone().offset(direction.gridOffsetX, direction.gridOffsetY), grid, precision);\n                var neighborKey = getKey(neighborPoint);\n\n                // Closed points from the openSet were already evaluated.\n                if (openSet.isClose(neighborKey) || !map.isPointAccessible(neighborPoint)) continue;\n\n                // We can only enter end points at an acceptable angle.\n                if (endPointsKeys.indexOf(neighborKey) >= 0) { // neighbor is an end point\n\n                    var isNeighborEnd = neighborPoint.equals(end); // (is target anchor or `to` point) = can be entered in any direction\n\n                    if (!isNeighborEnd) {\n                        var endDirectionAngle = getDirectionAngle(neighborPoint, end, numDirections, grid, opt);\n                        var endDirectionChange = getDirectionChange(directionAngle, endDirectionAngle);\n\n                        if (endDirectionChange > opt.maxAllowedDirectionChange) continue;\n                    }\n                }\n\n                // The current direction is ok.\n\n                var neighborCost = direction.cost;\n                var neighborPenalty = isStart ? 0 : opt.penalties[directionChange]; // no penalties for start point\n                var costFromStart = currentCost + neighborCost + neighborPenalty;\n\n                if (!openSet.isOpen(neighborKey) || (costFromStart < costs[neighborKey])) {\n                    // neighbor point has not been processed yet\n                    // or the cost of the path from start is lower than previously calculated\n\n                    points[neighborKey] = neighborPoint;\n                    parents[neighborKey] = currentPoint;\n                    costs[neighborKey] = costFromStart;\n                    openSet.add(neighborKey, costFromStart + estimateCost(neighborPoint, endPoints));\n                }\n            }\n\n            loopsRemaining--;\n        }\n    }\n\n    // no route found (`to` point either wasn't accessible or finding route took\n    // way too much calculation)\n    return opt.fallbackRoute.call(this, start, end, opt);\n}\n\n// resolve some of the options\nfunction resolveOptions(opt) {\n\n    opt.directions = util.result(opt, 'directions');\n    opt.penalties = util.result(opt, 'penalties');\n    opt.paddingBox = util.result(opt, 'paddingBox');\n    opt.padding = util.result(opt, 'padding');\n\n    if (opt.padding) {\n        // if both provided, opt.padding wins over opt.paddingBox\n        var sides = util.normalizeSides(opt.padding);\n        opt.paddingBox = {\n            x: -sides.left,\n            y: -sides.top,\n            width: sides.left + sides.right,\n            height: sides.top + sides.bottom\n        };\n    }\n\n    util.toArray(opt.directions).forEach(function(direction) {\n\n        var point1 = new g.Point(0, 0);\n        var point2 = new g.Point(direction.offsetX, direction.offsetY);\n\n        direction.angle = g.normalizeAngle(point1.theta(point2));\n    });\n}\n\n// initialization of the route finding\nfunction router(vertices, opt, linkView) {\n\n    resolveOptions(opt);\n\n    // enable/disable linkView perpendicular option\n    linkView.options.perpendicular = !!opt.perpendicular;\n\n    var sourceBBox = getSourceBBox(linkView, opt);\n    var targetBBox = getTargetBBox(linkView, opt);\n\n    var sourceAnchor = getSourceAnchor(linkView, opt);\n    //var targetAnchor = getTargetAnchor(linkView, opt);\n\n    // pathfinding\n    var map = (new ObstacleMap(opt)).build(linkView.paper.model, linkView.model);\n    var oldVertices = util.toArray(vertices).map(g.Point);\n    var newVertices = [];\n    var tailPoint = sourceAnchor; // the origin of first route's grid, does not need snapping\n\n    // find a route by concatenating all partial routes (routes need to pass through vertices)\n    // source -> vertex[1] -> ... -> vertex[n] -> target\n    var to, from;\n\n    for (var i = 0, len = oldVertices.length; i <= len; i++) {\n\n        var partialRoute = null;\n\n        from = to || sourceBBox;\n        to = oldVertices[i];\n\n        if (!to) {\n            // this is the last iteration\n            // we ran through all vertices in oldVertices\n            // 'to' is not a vertex.\n\n            to = targetBBox;\n\n            // If the target is a point (i.e. it's not an element), we\n            // should use dragging route instead of main routing method if it has been provided.\n            var isEndingAtPoint = !linkView.model.get('source').id || !linkView.model.get('target').id;\n\n            if (isEndingAtPoint && util.isFunction(opt.draggingRoute)) {\n                // Make sure we are passing points only (not rects).\n                var dragFrom = (from === sourceBBox) ? sourceAnchor : from;\n                var dragTo = to.origin();\n\n                partialRoute = opt.draggingRoute.call(linkView, dragFrom, dragTo, opt);\n            }\n        }\n\n        // if partial route has not been calculated yet use the main routing method to find one\n        partialRoute = partialRoute || findRoute.call(linkView, from, to, map, opt);\n\n        if (partialRoute === null) { // the partial route cannot be found\n            return opt.fallbackRouter(vertices, opt, linkView);\n        }\n\n        var leadPoint = partialRoute[0];\n\n        // remove the first point if the previous partial route had the same point as last\n        if (leadPoint && leadPoint.equals(tailPoint)) partialRoute.shift();\n\n        // save tailPoint for next iteration\n        tailPoint = partialRoute[partialRoute.length - 1] || tailPoint;\n\n        Array.prototype.push.apply(newVertices, partialRoute);\n    }\n\n    return newVertices;\n}\n\n// public function\nexport const manhattan = function(vertices, opt, linkView) {\n    return router(vertices, util.assign({}, config, opt), linkView);\n};\n","import { manhattan } from './manhattan.mjs';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\nvar config = {\n\n    maxAllowedDirectionChange: 45,\n\n    // cost of a diagonal step\n    diagonalCost: function() {\n\n        var step = this.step;\n        return Math.ceil(Math.sqrt(step * step << 1));\n    },\n\n    // an array of directions to find next points on the route\n    // different from start/end directions\n    directions: function() {\n\n        var step = this.step;\n        var cost = this.cost();\n        var diagonalCost = this.diagonalCost();\n\n        return [\n            { offsetX: step, offsetY: 0, cost: cost },\n            { offsetX: step, offsetY: step, cost: diagonalCost },\n            { offsetX: 0, offsetY: step, cost: cost },\n            { offsetX: -step, offsetY: step, cost: diagonalCost },\n            { offsetX: -step, offsetY: 0, cost: cost },\n            { offsetX: -step, offsetY: -step, cost: diagonalCost },\n            { offsetX: 0, offsetY: -step, cost: cost },\n            { offsetX: step, offsetY: -step, cost: diagonalCost }\n        ];\n    },\n\n    // a simple route used in situations when main routing method fails\n    // (exceed max number of loop iterations, inaccessible)\n    fallbackRoute: function(from, to, opt) {\n\n        // Find a route which breaks by 45 degrees ignoring all obstacles.\n\n        var theta = from.theta(to);\n\n        var route = [];\n\n        var a = { x: to.x, y: from.y };\n        var b = { x: from.x, y: to.y };\n\n        if (theta % 180 > 90) {\n            var t = a;\n            a = b;\n            b = t;\n        }\n\n        var p1 = (theta % 90) < 45 ? a : b;\n        var l1 = new g.Line(from, p1);\n\n        var alpha = 90 * Math.ceil(theta / 90);\n\n        var p2 = g.Point.fromPolar(l1.squaredLength(), g.toRad(alpha + 135), p1);\n        var l2 = new g.Line(to, p2);\n\n        var intersectionPoint = l1.intersection(l2);\n        var point = intersectionPoint ? intersectionPoint : to;\n\n        var directionFrom = intersectionPoint ? point : from;\n\n        var quadrant = 360 / opt.directions.length;\n        var angleTheta = directionFrom.theta(to);\n        var normalizedAngle = g.normalizeAngle(angleTheta + (quadrant / 2));\n        var directionAngle = quadrant * Math.floor(normalizedAngle / quadrant);\n\n        opt.previousDirectionAngle = directionAngle;\n\n        if (point) route.push(point.round());\n        route.push(to);\n\n        return route;\n    }\n};\n\n// public function\nexport const metro = function(vertices, opt, linkView) {\n\n    if (!util.isFunction(manhattan)) {\n        throw new Error('Metro requires the manhattan router.');\n    }\n\n    return manhattan(vertices, util.assign({}, config, opt), linkView);\n};\n\n","import * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\n// default size of jump if not specified in options\nvar JUMP_SIZE = 5;\n\n// available jump types\n// first one taken as default\nvar JUMP_TYPES = ['arc', 'gap', 'cubic'];\n\n// default radius\nvar RADIUS = 0;\n\n// takes care of math. error for case when jump is too close to end of line\nvar CLOSE_PROXIMITY_PADDING = 1;\n\n// list of connector types not to jump over.\nvar IGNORED_CONNECTORS = ['smooth'];\n\n// internal constants for round segment\nvar _13 = 1 / 3;\nvar _23 = 2 / 3;\n\n/**\n * Transform start/end and route into series of lines\n * @param {g.point} sourcePoint start point\n * @param {g.point} targetPoint end point\n * @param {g.point[]} route optional list of route\n * @return {g.line[]} [description]\n */\nfunction createLines(sourcePoint, targetPoint, route) {\n    // make a flattened array of all points\n    var points = [].concat(sourcePoint, route, targetPoint);\n    return points.reduce(function(resultLines, point, idx) {\n        // if there is a next point, make a line with it\n        var nextPoint = points[idx + 1];\n        if (nextPoint != null) {\n            resultLines[idx] = g.line(point, nextPoint);\n        }\n        return resultLines;\n    }, []);\n}\n\nfunction setupUpdating(jumpOverLinkView) {\n    var paper = jumpOverLinkView.paper;\n    var updateList = paper._jumpOverUpdateList;\n\n    // first time setup for this paper\n    if (updateList == null) {\n        updateList = paper._jumpOverUpdateList = [];\n        var graph = paper.model;\n        graph.on('batch:stop', function() {\n            if (this.hasActiveBatch()) return;\n            updateJumpOver(paper);\n        });\n        graph.on('reset', function() {\n            updateList = paper._jumpOverUpdateList = [];\n        });\n    }\n\n    // add this link to a list so it can be updated when some other link is updated\n    if (updateList.indexOf(jumpOverLinkView) < 0) {\n        updateList.push(jumpOverLinkView);\n\n        // watch for change of connector type or removal of link itself\n        // to remove the link from a list of jump over connectors\n        jumpOverLinkView.listenToOnce(jumpOverLinkView.model, 'change:connector remove', function() {\n            updateList.splice(updateList.indexOf(jumpOverLinkView), 1);\n        });\n    }\n}\n\n/**\n * Handler for a batch:stop event to force\n * update of all registered links with jump over connector\n * @param {object} batchEvent optional object with info about batch\n */\nfunction updateJumpOver(paper) {\n    var updateList = paper._jumpOverUpdateList;\n    for (var i = 0; i < updateList.length; i++) {\n        updateList[i].requestConnectionUpdate();\n    }\n}\n\n/**\n * Utility function to collect all intersection points of a single\n * line against group of other lines.\n * @param {g.line} line where to find points\n * @param {g.line[]} crossCheckLines lines to cross\n * @return {g.point[]} list of intersection points\n */\nfunction findLineIntersections(line, crossCheckLines) {\n    return util.toArray(crossCheckLines).reduce(function(res, crossCheckLine) {\n        var intersection = line.intersection(crossCheckLine);\n        if (intersection) {\n            res.push(intersection);\n        }\n        return res;\n    }, []);\n}\n\n/**\n * Sorting function for list of points by their distance.\n * @param {g.point} p1 first point\n * @param {g.point} p2 second point\n * @return {number} squared distance between points\n */\nfunction sortPoints(p1, p2) {\n    return g.line(p1, p2).squaredLength();\n}\n\n/**\n * Split input line into multiple based on intersection points.\n * @param {g.line} line input line to split\n * @param {g.point[]} intersections points where to split the line\n * @param {number} jumpSize the size of jump arc (length empty spot on a line)\n * @return {g.line[]} list of lines being split\n */\nfunction createJumps(line, intersections, jumpSize) {\n    return intersections.reduce(function(resultLines, point, idx) {\n        // skipping points that were merged with the previous line\n        // to make bigger arc over multiple lines that are close to each other\n        if (point.skip === true) {\n            return resultLines;\n        }\n\n        // always grab the last line from buffer and modify it\n        var lastLine = resultLines.pop() || line;\n\n        // calculate start and end of jump by moving by a given size of jump\n        var jumpStart = g.point(point).move(lastLine.start, -(jumpSize));\n        var jumpEnd = g.point(point).move(lastLine.start, +(jumpSize));\n\n        // now try to look at the next intersection point\n        var nextPoint = intersections[idx + 1];\n        if (nextPoint != null) {\n            var distance = jumpEnd.distance(nextPoint);\n            if (distance <= jumpSize) {\n                // next point is close enough, move the jump end by this\n                // difference and mark the next point to be skipped\n                jumpEnd = nextPoint.move(lastLine.start, distance);\n                nextPoint.skip = true;\n            }\n        } else {\n            // this block is inside of `else` as an optimization so the distance is\n            // not calculated when we know there are no other intersection points\n            var endDistance = jumpStart.distance(lastLine.end);\n            // if the end is too close to possible jump, draw remaining line instead of a jump\n            if (endDistance < jumpSize * 2 + CLOSE_PROXIMITY_PADDING) {\n                resultLines.push(lastLine);\n                return resultLines;\n            }\n        }\n\n        var startDistance = jumpEnd.distance(lastLine.start);\n        if (startDistance < jumpSize * 2 + CLOSE_PROXIMITY_PADDING) {\n            // if the start of line is too close to jump, draw that line instead of a jump\n            resultLines.push(lastLine);\n            return resultLines;\n        }\n\n        // finally create a jump line\n        var jumpLine = g.line(jumpStart, jumpEnd);\n        // it's just simple line but with a `isJump` property\n        jumpLine.isJump = true;\n\n        resultLines.push(\n            g.line(lastLine.start, jumpStart),\n            jumpLine,\n            g.line(jumpEnd, lastLine.end)\n        );\n        return resultLines;\n    }, []);\n}\n\n/**\n * Assemble `D` attribute of a SVG path by iterating given lines.\n * @param {g.line[]} lines source lines to use\n * @param {number} jumpSize the size of jump arc (length empty spot on a line)\n * @param {number} radius the radius\n * @return {string}\n */\nfunction buildPath(lines, jumpSize, jumpType, radius) {\n\n    var path = new g.Path();\n    var segment;\n\n    // first move to the start of a first line\n    segment = g.Path.createSegment('M', lines[0].start);\n    path.appendSegment(segment);\n\n    // make a paths from lines\n    util.toArray(lines).forEach(function(line, index) {\n\n        if (line.isJump) {\n            var angle, diff;\n\n            var control1, control2;\n\n            if (jumpType === 'arc') { // approximates semicircle with 2 curves\n                angle = -90;\n                // determine rotation of arc based on difference between points\n                diff = line.start.difference(line.end);\n                // make sure the arc always points up (or right)\n                var xAxisRotate = Number((diff.x < 0) || (diff.x === 0 && diff.y < 0));\n                if (xAxisRotate) angle += 180;\n\n                var midpoint = line.midpoint();\n                var centerLine = new g.Line(midpoint, line.end).rotate(midpoint, angle);\n\n                var halfLine;\n\n                // first half\n                halfLine = new g.Line(line.start, midpoint);\n\n                control1 = halfLine.pointAt(2 / 3).rotate(line.start, angle);\n                control2 = centerLine.pointAt(1 / 3).rotate(centerLine.end, -angle);\n\n                segment = g.Path.createSegment('C', control1, control2, centerLine.end);\n                path.appendSegment(segment);\n\n                // second half\n                halfLine = new g.Line(midpoint, line.end);\n\n                control1 = centerLine.pointAt(1 / 3).rotate(centerLine.end, angle);\n                control2 = halfLine.pointAt(1 / 3).rotate(line.end, -angle);\n\n                segment = g.Path.createSegment('C', control1, control2, line.end);\n                path.appendSegment(segment);\n\n            } else if (jumpType === 'gap') {\n                segment = g.Path.createSegment('M', line.end);\n                path.appendSegment(segment);\n\n            } else if (jumpType === 'cubic') { // approximates semicircle with 1 curve\n                angle = line.start.theta(line.end);\n\n                var xOffset = jumpSize * 0.6;\n                var yOffset = jumpSize * 1.35;\n\n                // determine rotation of arc based on difference between points\n                diff = line.start.difference(line.end);\n                // make sure the arc always points up (or right)\n                xAxisRotate = Number((diff.x < 0) || (diff.x === 0 && diff.y < 0));\n                if (xAxisRotate) yOffset *= -1;\n\n                control1 = g.Point(line.start.x + xOffset, line.start.y + yOffset).rotate(line.start, angle);\n                control2 = g.Point(line.end.x - xOffset, line.end.y + yOffset).rotate(line.end, angle);\n\n                segment = g.Path.createSegment('C', control1, control2, line.end);\n                path.appendSegment(segment);\n            }\n\n        } else {\n            var nextLine = lines[index + 1];\n            if (radius == 0 || !nextLine || nextLine.isJump) {\n                segment = g.Path.createSegment('L', line.end);\n                path.appendSegment(segment);\n            } else {\n                buildRoundedSegment(radius, path, line.end, line.start, nextLine.end);\n            }\n        }\n    });\n\n    return path;\n}\n\nfunction buildRoundedSegment(offset, path, curr, prev, next) {\n    var prevDistance = curr.distance(prev) / 2;\n    var nextDistance = curr.distance(next) / 2;\n\n    var startMove = -Math.min(offset, prevDistance);\n    var endMove = -Math.min(offset, nextDistance);\n\n    var roundedStart = curr.clone().move(prev, startMove).round();\n    var roundedEnd = curr.clone().move(next, endMove).round();\n\n    var control1 = new g.Point((_13 * roundedStart.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedStart.y));\n    var control2 = new g.Point((_13 * roundedEnd.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedEnd.y));\n\n    var segment;\n    segment = g.Path.createSegment('L', roundedStart);\n    path.appendSegment(segment);\n\n    segment = g.Path.createSegment('C', control1, control2, roundedEnd);\n    path.appendSegment(segment);\n}\n\n/**\n * Actual connector function that will be run on every update.\n * @param {g.point} sourcePoint start point of this link\n * @param {g.point} targetPoint end point of this link\n * @param {g.point[]} route of this link\n * @param {object} opt options\n * @property {number} size optional size of a jump arc\n * @return {string} created `D` attribute of SVG path\n */\nexport const jumpover = function(sourcePoint, targetPoint, route, opt) { // eslint-disable-line max-params\n\n    setupUpdating(this);\n\n    var raw = opt.raw;\n    var jumpSize = opt.size || JUMP_SIZE;\n    var jumpType = opt.jump && ('' + opt.jump).toLowerCase();\n    var radius = opt.radius || RADIUS;\n    var ignoreConnectors = opt.ignoreConnectors || IGNORED_CONNECTORS;\n\n    // grab the first jump type as a default if specified one is invalid\n    if (JUMP_TYPES.indexOf(jumpType) === -1) {\n        jumpType = JUMP_TYPES[0];\n    }\n\n    var paper = this.paper;\n    var graph = paper.model;\n    var allLinks = graph.getLinks();\n\n    // there is just one link, draw it directly\n    if (allLinks.length === 1) {\n        return buildPath(\n            createLines(sourcePoint, targetPoint, route),\n            jumpSize, jumpType, radius\n        );\n    }\n\n    var thisModel = this.model;\n    var thisIndex = allLinks.indexOf(thisModel);\n    var defaultConnector = paper.options.defaultConnector || {};\n\n    // not all links are meant to be jumped over.\n    var links = allLinks.filter(function(link, idx) {\n\n        var connector = link.get('connector') || defaultConnector;\n\n        // avoid jumping over links with connector type listed in `ignored connectors`.\n        if (util.toArray(ignoreConnectors).includes(connector.name)) {\n            return false;\n        }\n        // filter out links that are above this one and  have the same connector type\n        // otherwise there would double hoops for each intersection\n        if (idx > thisIndex) {\n            return connector.name !== 'jumpover';\n        }\n        return true;\n    });\n\n    // find views for all links\n    var linkViews = links.map(function(link) {\n        return paper.findViewByModel(link);\n    });\n\n    // create lines for this link\n    var thisLines = createLines(\n        sourcePoint,\n        targetPoint,\n        route\n    );\n\n    // create lines for all other links\n    var linkLines = linkViews.map(function(linkView) {\n        if (linkView == null) {\n            return [];\n        }\n        if (linkView === this) {\n            return thisLines;\n        }\n        return createLines(\n            linkView.sourcePoint,\n            linkView.targetPoint,\n            linkView.route\n        );\n    }, this);\n\n    // transform lines for this link by splitting with jump lines at\n    // points of intersection with other links\n    var jumpingLines = thisLines.reduce(function(resultLines, thisLine) {\n        // iterate all links and grab the intersections with this line\n        // these are then sorted by distance so the line can be split more easily\n\n        var intersections = links.reduce(function(res, link, i) {\n            // don't intersection with itself\n            if (link !== thisModel) {\n\n                var lineIntersections = findLineIntersections(thisLine, linkLines[i]);\n                res.push.apply(res, lineIntersections);\n            }\n            return res;\n        }, []).sort(function(a, b) {\n            return sortPoints(thisLine.start, a) - sortPoints(thisLine.start, b);\n        });\n\n        if (intersections.length > 0) {\n            // split the line based on found intersection points\n            resultLines.push.apply(resultLines, createJumps(thisLine, intersections, jumpSize));\n        } else {\n            // without any intersection the line goes uninterrupted\n            resultLines.push(thisLine);\n        }\n        return resultLines;\n    }, []);\n\n    var path = buildPath(jumpingLines, jumpSize, jumpType, radius);\n    return (raw) ? path : path.serialize();\n};\n","import * as g from '../g/index.mjs';\n\nexport const normal = function(sourcePoint, targetPoint, route, opt) {\n\n    var raw = opt && opt.raw;\n    var points = [sourcePoint].concat(route).concat([targetPoint]);\n\n    var polyline = new g.Polyline(points);\n    var path = new g.Path(polyline);\n\n    return (raw) ? path : path.serialize();\n};\n","import * as g from '../g/index.mjs';\n\nexport const rounded = function(sourcePoint, targetPoint, route, opt) {\n\n    opt || (opt = {});\n\n    var offset = opt.radius || 10;\n    var raw = opt.raw;\n    var path = new g.Path();\n    var segment;\n\n    segment = g.Path.createSegment('M', sourcePoint);\n    path.appendSegment(segment);\n\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n\n    var curr;\n    var prev, next;\n    var prevDistance, nextDistance;\n    var startMove, endMove;\n    var roundedStart, roundedEnd;\n    var control1, control2;\n\n    for (var index = 0, n = route.length; index < n; index++) {\n\n        curr = new g.Point(route[index]);\n\n        prev = route[index - 1] || sourcePoint;\n        next = route[index + 1] || targetPoint;\n\n        prevDistance = nextDistance || (curr.distance(prev) / 2);\n        nextDistance = curr.distance(next) / 2;\n\n        startMove = -Math.min(offset, prevDistance);\n        endMove = -Math.min(offset, nextDistance);\n\n        roundedStart = curr.clone().move(prev, startMove).round();\n        roundedEnd = curr.clone().move(next, endMove).round();\n\n        control1 = new g.Point((_13 * roundedStart.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedStart.y));\n        control2 = new g.Point((_13 * roundedEnd.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedEnd.y));\n\n        segment = g.Path.createSegment('L', roundedStart);\n        path.appendSegment(segment);\n\n        segment = g.Path.createSegment('C', control1, control2, roundedEnd);\n        path.appendSegment(segment);\n    }\n\n    segment = g.Path.createSegment('L', targetPoint);\n    path.appendSegment(segment);\n\n    return (raw) ? path : path.serialize();\n};\n","import * as g from '../g/index.mjs';\n\nexport const smooth = function(sourcePoint, targetPoint, route, opt) {\n\n    var raw = opt && opt.raw;\n    var path;\n\n    if (route && route.length !== 0) {\n\n        var points = [sourcePoint].concat(route).concat([targetPoint]);\n        var curves = g.Curve.throughPoints(points);\n\n        path = new g.Path(curves);\n\n    } else {\n        // if we have no route, use a default cubic bezier curve\n        // cubic bezier requires two control points\n        // the control points have `x` midway between source and target\n        // this produces an S-like curve\n\n        path = new g.Path();\n\n        var segment;\n\n        segment = g.Path.createSegment('M', sourcePoint);\n        path.appendSegment(segment);\n\n        if ((Math.abs(sourcePoint.x - targetPoint.x)) >= (Math.abs(sourcePoint.y - targetPoint.y))) {\n            var controlPointX = (sourcePoint.x + targetPoint.x) / 2;\n\n            segment = g.Path.createSegment('C', controlPointX, sourcePoint.y, controlPointX, targetPoint.y, targetPoint.x, targetPoint.y);\n            path.appendSegment(segment);\n\n        } else {\n            var controlPointY = (sourcePoint.y + targetPoint.y) / 2;\n\n            segment = g.Path.createSegment('C', sourcePoint.x, controlPointY, targetPoint.x, controlPointY, targetPoint.x, targetPoint.y);\n            path.appendSegment(segment);\n\n        }\n    }\n\n    return (raw) ? path : path.serialize();\n};\n","import { CellView } from './CellView.mjs';\nimport { Link } from './Link.mjs';\nimport V from '../V/index.mjs';\nimport { removeClassNamePrefix, merge, template, assign, toArray, isObject, isFunction, clone, isPercentage } from '../util/index.mjs';\nimport { Point, Line, Path, normalizeAngle, Rect, Polyline } from '../g/index.mjs';\nimport * as routers from '../routers/index.mjs';\nimport * as connectors from '../connectors/index.mjs';\nimport $ from 'jquery';\n\n// Link base view and controller.\n// ----------------------------------------\n\nexport const LinkView = CellView.extend({\n\n    className: function() {\n\n        var classNames = CellView.prototype.className.apply(this).split(' ');\n\n        classNames.push('link');\n\n        return classNames.join(' ');\n    },\n\n    options: {\n\n        shortLinkLength: 105,\n        doubleLinkTools: false,\n        longLinkLength: 155,\n        linkToolsOffset: 40,\n        doubleLinkToolsOffset: 65,\n        sampleInterval: 50,\n    },\n\n    _labelCache: null,\n    _labelSelectors: null,\n    _markerCache: null,\n    _V: null,\n    _dragData: null, // deprecated\n\n    metrics: null,\n    decimalsRounding: 2,\n\n    initialize: function() {\n\n        CellView.prototype.initialize.apply(this, arguments);\n\n        // `_.labelCache` is a mapping of indexes of labels in the `this.get('labels')` array to\n        // `<g class=\"label\">` nodes wrapped by Vectorizer. This allows for quick access to the\n        // nodes in `updateLabelPosition()` in order to update the label positions.\n        this._labelCache = {};\n\n        // a cache of label selectors\n        this._labelSelectors = {};\n\n        // keeps markers bboxes and positions again for quicker access\n        this._markerCache = {};\n\n        // cache of default markup nodes\n        this._V = {};\n\n        // connection path metrics\n        this.metrics = {};\n    },\n\n    presentationAttributes: {\n        markup: ['RENDER'],\n        attrs: ['UPDATE'],\n        router: ['UPDATE'],\n        connector: ['UPDATE'],\n        smooth: ['UPDATE'],\n        manhattan: ['UPDATE'],\n        toolMarkup: ['LEGACY_TOOLS'],\n        labels: ['LABELS'],\n        labelMarkup: ['LABELS'],\n        vertices: ['VERTICES', 'UPDATE'],\n        vertexMarkup: ['VERTICES'],\n        source: ['SOURCE', 'UPDATE'],\n        target: ['TARGET', 'UPDATE']\n    },\n\n    initFlag: ['RENDER', 'SOURCE', 'TARGET', 'TOOLS'],\n\n    UPDATE_PRIORITY: 1,\n\n    confirmUpdate: function(flags, opt) {\n\n        opt || (opt = {});\n\n        if (this.hasFlag(flags, 'SOURCE')) {\n            if (!this.updateEndProperties('source')) return flags;\n            flags = this.removeFlag(flags, 'SOURCE');\n        }\n\n        if (this.hasFlag(flags, 'TARGET')) {\n            if (!this.updateEndProperties('target')) return flags;\n            flags = this.removeFlag(flags, 'TARGET');\n        }\n\n        const { paper, sourceView, targetView } = this;\n        if (paper && ((sourceView && !paper.isViewMounted(sourceView)) || (targetView && !paper.isViewMounted(targetView)))) {\n            // Wait for the sourceView and targetView to be rendered\n            return flags;\n        }\n\n        if (this.hasFlag(flags, 'RENDER')) {\n            this.render();\n            this.updateHighlighters(true);\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, ['RENDER', 'UPDATE', 'VERTICES', 'LABELS', 'TOOLS', 'LEGACY_TOOLS']);\n            return flags;\n        }\n\n        let updateHighlighters = false;\n\n        if (this.hasFlag(flags, 'VERTICES')) {\n            this.renderVertexMarkers();\n            flags = this.removeFlag(flags, 'VERTICES');\n        }\n\n        const { model } = this;\n        const { attributes } = model;\n        let updateLabels = this.hasFlag(flags, 'LABELS');\n        let updateLegacyTools = this.hasFlag(flags, 'LEGACY_TOOLS');\n\n        if (updateLabels) {\n            this.onLabelsChange(model, attributes.labels, opt);\n            flags = this.removeFlag(flags, 'LABELS');\n            updateHighlighters = true;\n        }\n\n        if (updateLegacyTools) {\n            this.renderTools();\n            flags = this.removeFlag(flags, 'LEGACY_TOOLS');\n        }\n\n        if (this.hasFlag(flags, 'UPDATE')) {\n            this.update(model, null, opt);\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, ['UPDATE', 'TOOLS']);\n            updateLabels = false;\n            updateLegacyTools = false;\n            updateHighlighters = true;\n        }\n\n        if (updateLabels) {\n            this.updateLabelPositions();\n        }\n\n        if (updateLegacyTools) {\n            this.updateToolsPosition();\n        }\n\n        if (updateHighlighters) {\n            this.updateHighlighters();\n        }\n\n        if (this.hasFlag(flags, 'TOOLS')) {\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, 'TOOLS');\n        }\n\n        return flags;\n    },\n\n    requestConnectionUpdate: function(opt) {\n        this.requestUpdate(this.getFlag('UPDATE', opt));\n    },\n\n    isLabelsRenderRequired: function(opt = {}) {\n\n        const previousLabels = this.model.previous('labels');\n        if (!previousLabels) return true;\n\n        // Here is an optimization for cases when we know, that change does\n        // not require re-rendering of all labels.\n        if (('propertyPathArray' in opt) && ('propertyValue' in opt)) {\n            // The label is setting by `prop()` method\n            var pathArray = opt.propertyPathArray || [];\n            var pathLength = pathArray.length;\n            if (pathLength > 1) {\n                // We are changing a single label here e.g. 'labels/0/position'\n                var labelExists = !!previousLabels[pathArray[1]];\n                if (labelExists) {\n                    if (pathLength === 2) {\n                        // We are changing the entire label. Need to check if the\n                        // markup is also being changed.\n                        return ('markup' in Object(opt.propertyValue));\n                    } else if (pathArray[2] !== 'markup') {\n                        // We are changing a label property but not the markup\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    },\n\n    onLabelsChange: function(_link, _labels, opt) {\n\n        // Note: this optimization works in async=false mode only\n        if (this.isLabelsRenderRequired(opt)) {\n            this.renderLabels();\n        } else {\n            this.updateLabels();\n        }\n    },\n\n    // Rendering.\n    // ----------\n\n    render: function() {\n\n        this.vel.empty();\n        this._V = {};\n        this.renderMarkup();\n        // rendering labels has to be run after the link is appended to DOM tree. (otherwise <Text> bbox\n        // returns zero values)\n        this.renderLabels();\n        this.update();\n\n        return this;\n    },\n\n    renderMarkup: function() {\n\n        var link = this.model;\n        var markup = link.get('markup') || link.markup;\n        if (!markup) throw new Error('dia.LinkView: markup required');\n        if (Array.isArray(markup)) return this.renderJSONMarkup(markup);\n        if (typeof markup === 'string') return this.renderStringMarkup(markup);\n        throw new Error('dia.LinkView: invalid markup');\n    },\n\n    renderJSONMarkup: function(markup) {\n\n        var doc = this.parseDOMJSON(markup, this.el);\n        // Selectors\n        this.selectors = doc.selectors;\n        // Fragment\n        this.vel.append(doc.fragment);\n    },\n\n    renderStringMarkup: function(markup) {\n\n        // A special markup can be given in the `properties.markup` property. This might be handy\n        // if e.g. arrowhead markers should be `<image>` elements or any other element than `<path>`s.\n        // `.connection`, `.connection-wrap`, `.marker-source` and `.marker-target` selectors\n        // of elements with special meaning though. Therefore, those classes should be preserved in any\n        // special markup passed in `properties.markup`.\n        var children = V(markup);\n        // custom markup may contain only one children\n        if (!Array.isArray(children)) children = [children];\n        // Cache all children elements for quicker access.\n        var cache = this._V; // vectorized markup;\n        for (var i = 0, n = children.length; i < n; i++) {\n            var child = children[i];\n            var className = child.attr('class');\n            if (className) {\n                // Strip the joint class name prefix, if there is one.\n                className = removeClassNamePrefix(className);\n                cache[$.camelCase(className)] = child;\n            }\n        }\n        // partial rendering\n        this.renderTools();\n        this.renderVertexMarkers();\n        this.renderArrowheadMarkers();\n        this.vel.append(children);\n    },\n\n    _getLabelMarkup: function(labelMarkup) {\n\n        if (!labelMarkup) return undefined;\n\n        if (Array.isArray(labelMarkup)) return this.parseDOMJSON(labelMarkup, null);\n        if (typeof labelMarkup === 'string') return this._getLabelStringMarkup(labelMarkup);\n        throw new Error('dia.linkView: invalid label markup');\n    },\n\n    _getLabelStringMarkup: function(labelMarkup) {\n\n        var children = V(labelMarkup);\n        var fragment = document.createDocumentFragment();\n\n        if (!Array.isArray(children)) {\n            fragment.appendChild(children.node);\n\n        } else {\n            for (var i = 0, n = children.length; i < n; i++) {\n                var currentChild = children[i].node;\n                fragment.appendChild(currentChild);\n            }\n        }\n\n        return { fragment: fragment, selectors: {}}; // no selectors\n    },\n\n    // Label markup fragment may come wrapped in <g class=\"label\" />, or not.\n    // If it doesn't, add the <g /> container here.\n    _normalizeLabelMarkup: function(markup) {\n\n        if (!markup) return undefined;\n\n        var fragment = markup.fragment;\n        if (!(markup.fragment instanceof DocumentFragment) || !markup.fragment.hasChildNodes()) throw new Error('dia.LinkView: invalid label markup.');\n\n        var vNode;\n        var childNodes = fragment.childNodes;\n\n        if ((childNodes.length > 1) || childNodes[0].nodeName.toUpperCase() !== 'G') {\n            // default markup fragment is not wrapped in <g />\n            // add a <g /> container\n            vNode = V('g').append(fragment);\n        } else {\n            vNode = V(childNodes[0]);\n        }\n\n        vNode.addClass('label');\n\n        return { node: vNode.node, selectors: markup.selectors };\n    },\n\n    renderLabels: function() {\n\n        var cache = this._V;\n        var vLabels = cache.labels;\n        var labelCache = this._labelCache = {};\n        var labelSelectors = this._labelSelectors = {};\n        var model = this.model;\n        var labels = model.attributes.labels || [];\n        var labelsCount = labels.length;\n\n        if (labelsCount === 0) {\n            if (vLabels) vLabels.remove();\n            return this;\n        }\n\n        if (vLabels) {\n            vLabels.empty();\n        }  else {\n            // there is no label container in the markup but some labels are defined\n            // add a <g class=\"labels\" /> container\n            vLabels = cache.labels = V('g').addClass('labels');\n        }\n\n        var container = vLabels.node;\n\n        for (var i = 0; i < labelsCount; i++) {\n\n            var label = labels[i];\n            var labelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(label.markup));\n            var labelNode;\n            var selectors;\n            if (labelMarkup) {\n\n                labelNode = labelMarkup.node;\n                selectors = labelMarkup.selectors;\n\n            } else {\n\n                var builtinDefaultLabel =  model._builtins.defaultLabel;\n                var builtinDefaultLabelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(builtinDefaultLabel.markup));\n                var defaultLabel = model._getDefaultLabel();\n                var defaultLabelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(defaultLabel.markup));\n                var defaultMarkup = defaultLabelMarkup || builtinDefaultLabelMarkup;\n\n                labelNode = defaultMarkup.node;\n                selectors = defaultMarkup.selectors;\n            }\n\n            labelNode.setAttribute('label-idx', i); // assign label-idx\n            container.appendChild(labelNode);\n            labelCache[i] = labelNode; // cache node for `updateLabels()` so it can just update label node positions\n\n            var rootSelector = this.selector;\n            if (selectors[rootSelector]) throw new Error('dia.LinkView: ambiguous label root selector.');\n            selectors[rootSelector] = labelNode;\n\n            labelSelectors[i] = selectors; // cache label selectors for `updateLabels()`\n        }\n\n        if (!container.parentNode) {\n            this.el.appendChild(container);\n        }\n\n        this.updateLabels();\n\n        return this;\n    },\n\n    findLabelNode: function(labelIndex, selector) {\n        const labelRoot = this._labelCache[labelIndex];\n        if (!labelRoot) return null;\n        const labelSelectors = this._labelSelectors[labelIndex];\n        const [node = null] = this.findBySelector(selector, labelRoot, labelSelectors);\n        return node;\n    },\n\n\n    // merge default label attrs into label attrs\n    // keep `undefined` or `null` because `{}` means something else\n    _mergeLabelAttrs: function(hasCustomMarkup, labelAttrs, defaultLabelAttrs, builtinDefaultLabelAttrs) {\n\n        if (labelAttrs === null) return null;\n        if (labelAttrs === undefined) {\n\n            if (defaultLabelAttrs === null) return null;\n            if (defaultLabelAttrs === undefined) {\n\n                if (hasCustomMarkup) return undefined;\n                return builtinDefaultLabelAttrs;\n            }\n\n            if (hasCustomMarkup) return defaultLabelAttrs;\n            return merge({}, builtinDefaultLabelAttrs, defaultLabelAttrs);\n        }\n\n        if (hasCustomMarkup) return merge({}, defaultLabelAttrs, labelAttrs);\n        return merge({}, builtinDefaultLabelAttrs, defaultLabelAttrs, labelAttrs);\n    },\n\n    updateLabels: function() {\n\n        if (!this._V.labels) return this;\n\n        var model = this.model;\n        var labels = model.get('labels') || [];\n        var canLabelMove = this.can('labelMove');\n\n        var builtinDefaultLabel = model._builtins.defaultLabel;\n        var builtinDefaultLabelAttrs = builtinDefaultLabel.attrs;\n\n        var defaultLabel = model._getDefaultLabel();\n        var defaultLabelMarkup = defaultLabel.markup;\n        var defaultLabelAttrs = defaultLabel.attrs;\n\n        for (var i = 0, n = labels.length; i < n; i++) {\n\n            var labelNode = this._labelCache[i];\n            labelNode.setAttribute('cursor', (canLabelMove ? 'move' : 'default'));\n\n            var selectors = this._labelSelectors[i];\n\n            var label = labels[i];\n            var labelMarkup = label.markup;\n            var labelAttrs = label.attrs;\n\n            var attrs = this._mergeLabelAttrs(\n                (labelMarkup || defaultLabelMarkup),\n                labelAttrs,\n                defaultLabelAttrs,\n                builtinDefaultLabelAttrs\n            );\n\n            this.updateDOMSubtreeAttributes(labelNode, attrs, {\n                rootBBox: new Rect(label.size),\n                selectors: selectors\n            });\n        }\n\n        return this;\n    },\n\n    renderTools: function() {\n\n        if (!this._V.linkTools) return this;\n\n        // Tools are a group of clickable elements that manipulate the whole link.\n        // A good example of this is the remove tool that removes the whole link.\n        // Tools appear after hovering the link close to the `source` element/point of the link\n        // but are offset a bit so that they don't cover the `marker-arrowhead`.\n\n        var $tools = $(this._V.linkTools.node).empty();\n        var toolTemplate = template(this.model.get('toolMarkup') || this.model.toolMarkup);\n        var tool = V(toolTemplate());\n\n        $tools.append(tool.node);\n\n        // Cache the tool node so that the `updateToolsPosition()` can update the tool position quickly.\n        this._toolCache = tool;\n\n        // If `doubleLinkTools` is enabled, we render copy of the tools on the other side of the\n        // link as well but only if the link is longer than `longLinkLength`.\n        if (this.options.doubleLinkTools) {\n\n            var tool2;\n            if (this.model.get('doubleToolMarkup') || this.model.doubleToolMarkup) {\n                toolTemplate = template(this.model.get('doubleToolMarkup') || this.model.doubleToolMarkup);\n                tool2 = V(toolTemplate());\n            } else {\n                tool2 = tool.clone();\n            }\n\n            $tools.append(tool2.node);\n            this._tool2Cache = tool2;\n        }\n\n        return this;\n    },\n\n    renderVertexMarkers: function() {\n\n        if (!this._V.markerVertices) return this;\n\n        var $markerVertices = $(this._V.markerVertices.node).empty();\n\n        // A special markup can be given in the `properties.vertexMarkup` property. This might be handy\n        // if default styling (elements) are not desired. This makes it possible to use any\n        // SVG elements for .marker-vertex and .marker-vertex-remove tools.\n        var markupTemplate = template(this.model.get('vertexMarkup') || this.model.vertexMarkup);\n\n        this.model.vertices().forEach(function(vertex, idx) {\n            $markerVertices.append(V(markupTemplate(assign({ idx: idx }, vertex))).node);\n        });\n\n        return this;\n    },\n\n    renderArrowheadMarkers: function() {\n\n        // Custom markups might not have arrowhead markers. Therefore, jump of this function immediately if that's the case.\n        if (!this._V.markerArrowheads) return this;\n\n        var $markerArrowheads = $(this._V.markerArrowheads.node);\n\n        $markerArrowheads.empty();\n\n        // A special markup can be given in the `properties.vertexMarkup` property. This might be handy\n        // if default styling (elements) are not desired. This makes it possible to use any\n        // SVG elements for .marker-vertex and .marker-vertex-remove tools.\n        var markupTemplate = template(this.model.get('arrowheadMarkup') || this.model.arrowheadMarkup);\n\n        this._V.sourceArrowhead = V(markupTemplate({ end: 'source' }));\n        this._V.targetArrowhead = V(markupTemplate({ end: 'target' }));\n\n        $markerArrowheads.append(this._V.sourceArrowhead.node, this._V.targetArrowhead.node);\n\n        return this;\n    },\n\n    // Updating.\n    // ---------\n\n    // Default is to process the `attrs` object and set attributes on subelements based on the selectors.\n    update: function(model, attributes, opt) {\n\n        opt || (opt = {});\n\n        this.cleanNodesCache();\n\n        // update the link path\n        this.updateConnection(opt);\n\n        // update SVG attributes defined by 'attrs/'.\n        this.updateDOMSubtreeAttributes(this.el, this.model.attr(), { selectors: this.selectors });\n\n        this.updateDefaultConnectionPath();\n\n        // update the label position etc.\n        this.updateLabelPositions();\n        this.updateToolsPosition();\n        this.updateArrowheadMarkers();\n\n        // *Deprecated*\n        // Local perpendicular flag (as opposed to one defined on paper).\n        // Could be enabled inside a connector/router. It's valid only\n        // during the update execution.\n        this.options.perpendicular = null;\n\n        return this;\n    },\n\n    // remove vertices that lie on (or nearly on) straight lines within the link\n    // return the number of removed points\n    removeRedundantLinearVertices: function(opt) {\n\n        const SIMPLIFY_THRESHOLD = 0.001;\n\n        const link = this.model;\n        const vertices = link.vertices();\n        const routePoints = [this.sourceAnchor, ...vertices, this.targetAnchor];\n        const numRoutePoints = routePoints.length;\n\n        // put routePoints into a polyline and try to simplify\n        const polyline = new Polyline(routePoints);\n        polyline.simplify({ threshold: SIMPLIFY_THRESHOLD });\n        const polylinePoints = polyline.points.map((point) => (point.toJSON())); // JSON of points after simplification\n        const numPolylinePoints = polylinePoints.length; // number of points after simplification\n\n        // shortcut if simplification did not remove any redundant vertices:\n        if (numRoutePoints === numPolylinePoints) return 0;\n\n        // else: set simplified polyline points as link vertices\n        // remove first and last polyline points again (= source/target anchors)\n        link.vertices(polylinePoints.slice(1, numPolylinePoints - 1), opt);\n        return (numRoutePoints - numPolylinePoints);\n    },\n\n    updateDefaultConnectionPath: function() {\n\n        var cache = this._V;\n\n        if (cache.connection) {\n            cache.connection.attr('d', this.getSerializedConnection());\n        }\n\n        if (cache.connectionWrap) {\n            cache.connectionWrap.attr('d', this.getSerializedConnection());\n        }\n\n        if (cache.markerSource && cache.markerTarget) {\n            this._translateAndAutoOrientArrows(cache.markerSource, cache.markerTarget);\n        }\n    },\n\n    getEndView: function(type) {\n        switch (type) {\n            case 'source':\n                return this.sourceView || null;\n            case 'target':\n                return this.targetView || null;\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndAnchor: function(type) {\n        switch (type) {\n            case 'source':\n                return new Point(this.sourceAnchor);\n            case 'target':\n                return new Point(this.targetAnchor);\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndConnectionPoint: function(type) {\n        switch (type) {\n            case 'source':\n                return new Point(this.sourcePoint);\n            case 'target':\n                return new Point(this.targetPoint);\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndMagnet: function(type) {\n        switch (type) {\n            case 'source':\n                var sourceView = this.sourceView;\n                if (!sourceView) break;\n                return this.sourceMagnet || sourceView.el;\n            case 'target':\n                var targetView = this.targetView;\n                if (!targetView) break;\n                return this.targetMagnet || targetView.el;\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n        return null;\n    },\n\n    updateConnection: function(opt) {\n\n        opt = opt || {};\n\n        var model = this.model;\n        var route, path;\n\n        if (opt.translateBy && model.isRelationshipEmbeddedIn(opt.translateBy)) {\n            // The link is being translated by an ancestor that will\n            // shift source point, target point and all vertices\n            // by an equal distance.\n            var tx = opt.tx || 0;\n            var ty = opt.ty || 0;\n\n            route = (new Polyline(this.route)).translate(tx, ty).points;\n\n            // translate source and target connection and marker points.\n            this._translateConnectionPoints(tx, ty);\n\n            // translate the path itself\n            path = this.path;\n            path.translate(tx, ty);\n\n        } else {\n\n            var vertices = model.vertices();\n            // 1. Find Anchors\n\n            var anchors = this.findAnchors(vertices);\n            var sourceAnchor = this.sourceAnchor = anchors.source;\n            var targetAnchor = this.targetAnchor = anchors.target;\n\n            // 2. Find Route\n            route = this.findRoute(vertices, opt);\n\n            // 3. Find Connection Points\n            var connectionPoints = this.findConnectionPoints(route, sourceAnchor, targetAnchor);\n            var sourcePoint = this.sourcePoint = connectionPoints.source;\n            var targetPoint = this.targetPoint = connectionPoints.target;\n\n            // 3b. Find Marker Connection Point - Backwards Compatibility\n            var markerPoints = this.findMarkerPoints(route, sourcePoint, targetPoint);\n\n            // 4. Find Connection\n            path = this.findPath(route, markerPoints.source || sourcePoint, markerPoints.target || targetPoint);\n        }\n\n        this.route = route;\n        this.path = path;\n        this.metrics = {};\n    },\n\n    findMarkerPoints: function(route, sourcePoint, targetPoint) {\n\n        var firstWaypoint = route[0];\n        var lastWaypoint = route[route.length - 1];\n\n        // Move the source point by the width of the marker taking into account\n        // its scale around x-axis. Note that scale is the only transform that\n        // makes sense to be set in `.marker-source` attributes object\n        // as all other transforms (translate/rotate) will be replaced\n        // by the `translateAndAutoOrient()` function.\n        var cache = this._markerCache;\n        // cache source and target points\n        var sourceMarkerPoint, targetMarkerPoint;\n\n        if (this._V.markerSource) {\n\n            cache.sourceBBox = cache.sourceBBox || this._V.markerSource.getBBox();\n            sourceMarkerPoint = Point(sourcePoint).move(\n                firstWaypoint || targetPoint,\n                cache.sourceBBox.width * this._V.markerSource.scale().sx * -1\n            ).round();\n        }\n\n        if (this._V.markerTarget) {\n\n            cache.targetBBox = cache.targetBBox || this._V.markerTarget.getBBox();\n            targetMarkerPoint = Point(targetPoint).move(\n                lastWaypoint || sourcePoint,\n                cache.targetBBox.width * this._V.markerTarget.scale().sx * -1\n            ).round();\n        }\n\n        // if there was no markup for the marker, use the connection point.\n        cache.sourcePoint = sourceMarkerPoint || sourcePoint.clone();\n        cache.targetPoint = targetMarkerPoint || targetPoint.clone();\n\n        return {\n            source: sourceMarkerPoint,\n            target: targetMarkerPoint\n        };\n    },\n\n    findAnchorsOrdered: function(firstEndType, firstRef, secondEndType, secondRef) {\n\n        var firstAnchor, secondAnchor;\n        var firstAnchorRef, secondAnchorRef;\n        var model = this.model;\n        var firstDef = model.get(firstEndType);\n        var secondDef = model.get(secondEndType);\n        var firstView = this.getEndView(firstEndType);\n        var secondView = this.getEndView(secondEndType);\n        var firstMagnet = this.getEndMagnet(firstEndType);\n        var secondMagnet = this.getEndMagnet(secondEndType);\n\n        // Anchor first\n        if (firstView) {\n            if (firstRef) {\n                firstAnchorRef = new Point(firstRef);\n            } else if (secondView) {\n                firstAnchorRef = secondMagnet;\n            } else {\n                firstAnchorRef = new Point(secondDef);\n            }\n            firstAnchor = this.getAnchor(firstDef.anchor, firstView, firstMagnet, firstAnchorRef, firstEndType);\n        } else {\n            firstAnchor = new Point(firstDef);\n        }\n\n        // Anchor second\n        if (secondView) {\n            secondAnchorRef = new Point(secondRef || firstAnchor);\n            secondAnchor = this.getAnchor(secondDef.anchor, secondView, secondMagnet, secondAnchorRef, secondEndType);\n        } else {\n            secondAnchor = new Point(secondDef);\n        }\n\n        var res = {};\n        res[firstEndType] = firstAnchor;\n        res[secondEndType] = secondAnchor;\n        return res;\n    },\n\n    findAnchors: function(vertices) {\n\n        var model = this.model;\n        var firstVertex = vertices[0];\n        var lastVertex = vertices[vertices.length - 1];\n\n        if (model.target().priority && !model.source().priority) {\n            // Reversed order\n            return this.findAnchorsOrdered('target', lastVertex, 'source', firstVertex);\n        }\n\n        // Usual order\n        return this.findAnchorsOrdered('source', firstVertex, 'target', lastVertex);\n    },\n\n    findConnectionPoints: function(route, sourceAnchor, targetAnchor) {\n\n        var firstWaypoint = route[0];\n        var lastWaypoint = route[route.length - 1];\n        var model = this.model;\n        var sourceDef = model.get('source');\n        var targetDef = model.get('target');\n        var sourceView = this.sourceView;\n        var targetView = this.targetView;\n        var paperOptions = this.paper.options;\n        var sourceMagnet, targetMagnet;\n\n        // Connection Point Source\n        var sourcePoint;\n        if (sourceView && !sourceView.isNodeConnection(this.sourceMagnet)) {\n            sourceMagnet = (this.sourceMagnet || sourceView.el);\n            var sourceConnectionPointDef = sourceDef.connectionPoint || paperOptions.defaultConnectionPoint;\n            var sourcePointRef = firstWaypoint || targetAnchor;\n            var sourceLine = new Line(sourcePointRef, sourceAnchor);\n            sourcePoint = this.getConnectionPoint(\n                sourceConnectionPointDef,\n                sourceView,\n                sourceMagnet,\n                sourceLine,\n                'source'\n            );\n        } else {\n            sourcePoint = sourceAnchor;\n        }\n        // Connection Point Target\n        var targetPoint;\n        if (targetView && !targetView.isNodeConnection(this.targetMagnet)) {\n            targetMagnet = (this.targetMagnet || targetView.el);\n            var targetConnectionPointDef = targetDef.connectionPoint || paperOptions.defaultConnectionPoint;\n            var targetPointRef = lastWaypoint || sourceAnchor;\n            var targetLine = new Line(targetPointRef, targetAnchor);\n            targetPoint = this.getConnectionPoint(\n                targetConnectionPointDef,\n                targetView,\n                targetMagnet,\n                targetLine,\n                'target'\n            );\n        } else {\n            targetPoint = targetAnchor;\n        }\n\n        return {\n            source: sourcePoint,\n            target: targetPoint\n        };\n    },\n\n    getAnchor: function(anchorDef, cellView, magnet, ref, endType) {\n\n        var isConnection = cellView.isNodeConnection(magnet);\n        var paperOptions = this.paper.options;\n        if (!anchorDef) {\n            if (isConnection) {\n                anchorDef = paperOptions.defaultLinkAnchor;\n            } else {\n                if (paperOptions.perpendicularLinks || this.options.perpendicular) {\n                    // Backwards compatibility\n                    // If `perpendicularLinks` flag is set on the paper and there are vertices\n                    // on the link, then try to find a connection point that makes the link perpendicular\n                    // even though the link won't point to the center of the targeted object.\n                    anchorDef = { name: 'perpendicular' };\n                } else {\n                    anchorDef = paperOptions.defaultAnchor;\n                }\n            }\n        }\n\n        if (!anchorDef) throw new Error('Anchor required.');\n        var anchorFn;\n        if (typeof anchorDef === 'function') {\n            anchorFn = anchorDef;\n        } else {\n            var anchorName = anchorDef.name;\n            var anchorNamespace = isConnection ? 'linkAnchorNamespace' : 'anchorNamespace';\n            anchorFn = paperOptions[anchorNamespace][anchorName];\n            if (typeof anchorFn !== 'function') throw new Error('Unknown anchor: ' + anchorName);\n        }\n        var anchor = anchorFn.call(\n            this,\n            cellView,\n            magnet,\n            ref,\n            anchorDef.args || {},\n            endType,\n            this\n        );\n        if (!anchor) return new Point();\n        return anchor.round(this.decimalsRounding);\n    },\n\n\n    getConnectionPoint: function(connectionPointDef, view, magnet, line, endType) {\n\n        var connectionPoint;\n        var anchor = line.end;\n        var paperOptions = this.paper.options;\n\n        // Backwards compatibility\n        if (typeof paperOptions.linkConnectionPoint === 'function') {\n            var linkConnectionMagnet = (magnet === view.el) ? undefined : magnet;\n            connectionPoint = paperOptions.linkConnectionPoint(this, view, linkConnectionMagnet, line.start, endType);\n            if (connectionPoint) return connectionPoint;\n        }\n\n        if (!connectionPointDef) return anchor;\n        var connectionPointFn;\n        if (typeof connectionPointDef === 'function') {\n            connectionPointFn = connectionPointDef;\n        } else {\n            var connectionPointName = connectionPointDef.name;\n            connectionPointFn = paperOptions.connectionPointNamespace[connectionPointName];\n            if (typeof connectionPointFn !== 'function') throw new Error('Unknown connection point: ' + connectionPointName);\n        }\n        connectionPoint = connectionPointFn.call(this, line, view, magnet, connectionPointDef.args || {}, endType, this);\n        if (!connectionPoint) return anchor;\n        return connectionPoint.round(this.decimalsRounding);\n    },\n\n    _translateConnectionPoints: function(tx, ty) {\n\n        var cache = this._markerCache;\n\n        cache.sourcePoint.offset(tx, ty);\n        cache.targetPoint.offset(tx, ty);\n        this.sourcePoint.offset(tx, ty);\n        this.targetPoint.offset(tx, ty);\n        this.sourceAnchor.offset(tx, ty);\n        this.targetAnchor.offset(tx, ty);\n    },\n\n    // if label position is a number, normalize it to a position object\n    // this makes sure that label positions can be merged properly\n    _normalizeLabelPosition: function(labelPosition) {\n\n        if (typeof labelPosition === 'number') return { distance: labelPosition, offset: null, angle: 0, args: null };\n        return labelPosition;\n    },\n\n    updateLabelPositions: function() {\n\n        if (!this._V.labels) return this;\n\n        var path = this.path;\n        if (!path) return this;\n\n        // This method assumes all the label nodes are stored in the `this._labelCache` hash table\n        // by their indices in the `this.get('labels')` array. This is done in the `renderLabels()` method.\n\n        var model = this.model;\n        var labels = model.get('labels') || [];\n        if (!labels.length) return this;\n\n        var builtinDefaultLabel = model._builtins.defaultLabel;\n        var builtinDefaultLabelPosition = builtinDefaultLabel.position;\n\n        var defaultLabel = model._getDefaultLabel();\n        var defaultLabelPosition = this._normalizeLabelPosition(defaultLabel.position);\n\n        var defaultPosition = merge({}, builtinDefaultLabelPosition, defaultLabelPosition);\n\n        for (var idx = 0, n = labels.length; idx < n; idx++) {\n            var labelNode = this._labelCache[idx];\n            if (!labelNode) continue;\n            var label = labels[idx];\n            var labelPosition = this._normalizeLabelPosition(label.position);\n            var position = merge({}, defaultPosition, labelPosition);\n            var transformationMatrix = this._getLabelTransformationMatrix(position);\n            labelNode.setAttribute('transform', V.matrixToTransformString(transformationMatrix));\n            this._cleanLabelMatrices(idx);\n        }\n\n        return this;\n    },\n\n    _cleanLabelMatrices: function(index) {\n        // Clean magnetMatrix for all nodes of the label.\n        // Cached BoundingRect does not need to updated when the position changes\n        // TODO: this doesn't work for labels with XML String markups.\n        const { metrics, _labelSelectors } = this;\n        const selectors = _labelSelectors[index];\n        if (!selectors) return;\n        for (let selector in selectors) {\n            const { id } = selectors[selector];\n            if (id && (id in metrics)) delete metrics[id].magnetMatrix;\n        }\n    },\n\n    updateToolsPosition: function() {\n\n        if (!this._V.linkTools) return this;\n\n        // Move the tools a bit to the target position but don't cover the `sourceArrowhead` marker.\n        // Note that the offset is hardcoded here. The offset should be always\n        // more than the `this.$('.marker-arrowhead[end=\"source\"]')[0].bbox().width` but looking\n        // this up all the time would be slow.\n\n        var scale = '';\n        var offset = this.options.linkToolsOffset;\n        var connectionLength = this.getConnectionLength();\n\n        // Firefox returns connectionLength=NaN in odd cases (for bezier curves).\n        // In that case we won't update tools position at all.\n        if (!Number.isNaN(connectionLength)) {\n\n            // If the link is too short, make the tools half the size and the offset twice as low.\n            if (connectionLength < this.options.shortLinkLength) {\n                scale = 'scale(.5)';\n                offset /= 2;\n            }\n\n            var toolPosition = this.getPointAtLength(offset);\n\n            this._toolCache.attr('transform', 'translate(' + toolPosition.x + ', ' + toolPosition.y + ') ' + scale);\n\n            if (this.options.doubleLinkTools && connectionLength >= this.options.longLinkLength) {\n\n                var doubleLinkToolsOffset = this.options.doubleLinkToolsOffset || offset;\n\n                toolPosition = this.getPointAtLength(connectionLength - doubleLinkToolsOffset);\n                this._tool2Cache.attr('transform', 'translate(' + toolPosition.x + ', ' + toolPosition.y + ') ' + scale);\n                this._tool2Cache.attr('visibility', 'visible');\n\n            } else if (this.options.doubleLinkTools) {\n\n                this._tool2Cache.attr('visibility', 'hidden');\n            }\n        }\n\n        return this;\n    },\n\n    updateArrowheadMarkers: function() {\n\n        if (!this._V.markerArrowheads) return this;\n\n        // getting bbox of an element with `display=\"none\"` in IE9 ends up with access violation\n        if ($.css(this._V.markerArrowheads.node, 'display') === 'none') return this;\n\n        var sx = this.getConnectionLength() < this.options.shortLinkLength ? .5 : 1;\n        this._V.sourceArrowhead.scale(sx);\n        this._V.targetArrowhead.scale(sx);\n\n        this._translateAndAutoOrientArrows(this._V.sourceArrowhead, this._V.targetArrowhead);\n\n        return this;\n    },\n\n    updateEndProperties: function(endType) {\n\n        const { model, paper } = this;\n        const endViewProperty = `${endType}View`;\n        const endDef = model.get(endType);\n        const endId = endDef && endDef.id;\n\n        if (!endId) {\n            // the link end is a point ~ rect 0x0\n            this[endViewProperty] = null;\n            this.updateEndMagnet(endType);\n            return true;\n        }\n\n        const endModel = paper.getModelById(endId);\n        if (!endModel) throw new Error('LinkView: invalid ' + endType + ' cell.');\n\n        const endView = endModel.findView(paper);\n        if (!endView) {\n            // A view for a model should always exist\n            return false;\n        }\n\n        this[endViewProperty] = endView;\n        this.updateEndMagnet(endType);\n        return true;\n    },\n\n    updateEndMagnet: function(endType) {\n\n        const endMagnetProperty = `${endType}Magnet`;\n        const endView = this.getEndView(endType);\n        if (endView) {\n            let connectedMagnet = endView.getMagnetFromLinkEnd(this.model.get(endType));\n            if (connectedMagnet === endView.el) connectedMagnet = null;\n            this[endMagnetProperty] = connectedMagnet;\n        } else {\n            this[endMagnetProperty] = null;\n        }\n    },\n\n    _translateAndAutoOrientArrows: function(sourceArrow, targetArrow) {\n\n        // Make the markers \"point\" to their sticky points being auto-oriented towards\n        // `targetPosition`/`sourcePosition`. And do so only if there is a markup for them.\n        var route = toArray(this.route);\n        if (sourceArrow) {\n            sourceArrow.translateAndAutoOrient(\n                this.sourcePoint,\n                route[0] || this.targetPoint,\n                this.paper.cells\n            );\n        }\n\n        if (targetArrow) {\n            targetArrow.translateAndAutoOrient(\n                this.targetPoint,\n                route[route.length - 1] || this.sourcePoint,\n                this.paper.cells\n            );\n        }\n    },\n\n    _getLabelPositionAngle: function(idx) {\n\n        var labelPosition = this.model.label(idx).position || {};\n        return (labelPosition.angle || 0);\n    },\n\n    _getLabelPositionArgs: function(idx) {\n\n        var labelPosition = this.model.label(idx).position || {};\n        return labelPosition.args;\n    },\n\n    _getDefaultLabelPositionArgs: function() {\n\n        var defaultLabel = this.model._getDefaultLabel();\n        var defaultLabelPosition = defaultLabel.position || {};\n        return defaultLabelPosition.args;\n    },\n\n    // merge default label position args into label position args\n    // keep `undefined` or `null` because `{}` means something else\n    _mergeLabelPositionArgs: function(labelPositionArgs, defaultLabelPositionArgs) {\n\n        if (labelPositionArgs === null) return null;\n        if (labelPositionArgs === undefined) {\n\n            if (defaultLabelPositionArgs === null) return null;\n            return defaultLabelPositionArgs;\n        }\n\n        return merge({}, defaultLabelPositionArgs, labelPositionArgs);\n    },\n\n    // Add default label at given position at end of `labels` array.\n    // Four signatures:\n    // - obj, obj = point, opt\n    // - obj, num, obj = point, angle, opt\n    // - num, num, obj = x, y, opt\n    // - num, num, num, obj = x, y, angle, opt\n    // Assigns relative coordinates by default:\n    // `opt.absoluteDistance` forces absolute coordinates.\n    // `opt.reverseDistance` forces reverse absolute coordinates (if absoluteDistance = true).\n    // `opt.absoluteOffset` forces absolute coordinates for offset.\n    // Additional args:\n    // `opt.keepGradient` auto-adjusts the angle of the label to match path gradient at position.\n    // `opt.ensureLegibility` rotates labels so they are never upside-down.\n    addLabel: function(p1, p2, p3, p4) {\n\n        // normalize data from the four possible signatures\n        var localX;\n        var localY;\n        var localAngle = 0;\n        var localOpt;\n        if (typeof p1 !== 'number') {\n            // {x, y} object provided as first parameter\n            localX = p1.x;\n            localY = p1.y;\n            if (typeof p2 === 'number') {\n                // angle and opt provided as second and third parameters\n                localAngle = p2;\n                localOpt = p3;\n            } else {\n                // opt provided as second parameter\n                localOpt = p2;\n            }\n        } else {\n            // x and y provided as first and second parameters\n            localX = p1;\n            localY = p2;\n            if (typeof p3 === 'number') {\n                // angle and opt provided as third and fourth parameters\n                localAngle = p3;\n                localOpt = p4;\n            } else {\n                // opt provided as third parameter\n                localOpt = p3;\n            }\n        }\n\n        // merge label position arguments\n        var defaultLabelPositionArgs = this._getDefaultLabelPositionArgs();\n        var labelPositionArgs = localOpt;\n        var positionArgs = this._mergeLabelPositionArgs(labelPositionArgs, defaultLabelPositionArgs);\n\n        // append label to labels array\n        var label = { position: this.getLabelPosition(localX, localY, localAngle, positionArgs) };\n        var idx = -1;\n        this.model.insertLabel(idx, label, localOpt);\n        return idx;\n    },\n\n    // Add a new vertex at calculated index to the `vertices` array.\n    addVertex: function(x, y, opt) {\n\n        // accept input in form `{ x, y }, opt` or `x, y, opt`\n        var isPointProvided = (typeof x !== 'number');\n        var localX = isPointProvided ? x.x : x;\n        var localY = isPointProvided ? x.y : y;\n        var localOpt = isPointProvided ? y : opt;\n\n        var vertex = { x: localX, y: localY };\n        var idx = this.getVertexIndex(localX, localY);\n        this.model.insertVertex(idx, vertex, localOpt);\n        return idx;\n    },\n\n    // Send a token (an SVG element, usually a circle) along the connection path.\n    // Example: `link.findView(paper).sendToken(V('circle', { r: 7, fill: 'green' }).node)`\n    // `opt.duration` is optional and is a time in milliseconds that the token travels from the source to the target of the link. Default is `1000`.\n    // `opt.directon` is optional and it determines whether the token goes from source to target or other way round (`reverse`)\n    // `opt.connection` is an optional selector to the connection path.\n    // `callback` is optional and is a function to be called once the token reaches the target.\n    sendToken: function(token, opt, callback) {\n\n        function onAnimationEnd(vToken, callback) {\n            return function() {\n                vToken.remove();\n                if (typeof callback === 'function') {\n                    callback();\n                }\n            };\n        }\n\n        var duration, isReversed, selector;\n        if (isObject(opt)) {\n            duration = opt.duration;\n            isReversed = (opt.direction === 'reverse');\n            selector = opt.connection;\n        } else {\n            // Backwards compatibility\n            duration = opt;\n            isReversed = false;\n            selector = null;\n        }\n\n        duration = duration || 1000;\n\n        var animationAttributes = {\n            dur: duration + 'ms',\n            repeatCount: 1,\n            calcMode: 'linear',\n            fill: 'freeze'\n        };\n\n        if (isReversed) {\n            animationAttributes.keyPoints = '1;0';\n            animationAttributes.keyTimes = '0;1';\n        }\n\n        var vToken = V(token);\n        var connection;\n        if (typeof selector === 'string') {\n            // Use custom connection path.\n            connection = this.findBySelector(selector, this.el, this.selectors)[0];\n        } else {\n            // Select connection path automatically.\n            var cache = this._V;\n            connection = (cache.connection) ? cache.connection.node : this.el.querySelector('path');\n        }\n\n        if (!(connection instanceof SVGPathElement)) {\n            throw new Error('dia.LinkView: token animation requires a valid connection path.');\n        }\n\n        vToken\n            .appendTo(this.paper.cells)\n            .animateAlongPath(animationAttributes, connection);\n\n        setTimeout(onAnimationEnd(vToken, callback), duration);\n    },\n\n    findRoute: function(vertices) {\n\n        vertices || (vertices = []);\n\n        var namespace = routers;\n        var router = this.model.router();\n        var defaultRouter = this.paper.options.defaultRouter;\n\n        if (!router) {\n            if (defaultRouter) router = defaultRouter;\n            else return vertices.map(Point); // no router specified\n        }\n\n        var routerFn = isFunction(router) ? router : namespace[router.name];\n        if (!isFunction(routerFn)) {\n            throw new Error('dia.LinkView: unknown router: \"' + router.name + '\".');\n        }\n\n        var args = router.args || {};\n\n        var route = routerFn.call(\n            this, // context\n            vertices, // vertices\n            args, // options\n            this // linkView\n        );\n\n        if (!route) return vertices.map(Point);\n        return route;\n    },\n\n    // Return the `d` attribute value of the `<path>` element representing the link\n    // between `source` and `target`.\n    findPath: function(route, sourcePoint, targetPoint) {\n\n        var namespace = connectors;\n        var connector = this.model.connector();\n        var defaultConnector = this.paper.options.defaultConnector;\n\n        if (!connector) {\n            connector = defaultConnector || {};\n        }\n\n        var connectorFn = isFunction(connector) ? connector : namespace[connector.name];\n        if (!isFunction(connectorFn)) {\n            throw new Error('dia.LinkView: unknown connector: \"' + connector.name + '\".');\n        }\n\n        var args = clone(connector.args || {});\n        args.raw = true; // Request raw g.Path as the result.\n\n        var path = connectorFn.call(\n            this, // context\n            sourcePoint, // start point\n            targetPoint, // end point\n            route, // vertices\n            args, // options\n            this // linkView\n        );\n\n        if (typeof path === 'string') {\n            // Backwards compatibility for connectors not supporting `raw` option.\n            path = new Path(V.normalizePathData(path));\n        }\n\n        return path;\n    },\n\n    // Public API.\n    // -----------\n\n    getConnection: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.clone();\n    },\n\n    getSerializedConnection: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('data')) return metrics.data;\n        var data = path.serialize();\n        metrics.data = data;\n        return data;\n    },\n\n    getConnectionSubdivisions: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('segmentSubdivisions')) return metrics.segmentSubdivisions;\n        var subdivisions = path.getSegmentSubdivisions();\n        metrics.segmentSubdivisions = subdivisions;\n        return subdivisions;\n    },\n\n    getConnectionLength: function() {\n\n        var path = this.path;\n        if (!path) return 0;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('length')) return metrics.length;\n        var length = path.length({ segmentSubdivisions: this.getConnectionSubdivisions() });\n        metrics.length = length;\n        return length;\n    },\n\n    getPointAtLength: function(length) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.pointAtLength(length, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getPointAtRatio: function(ratio) {\n\n        var path = this.path;\n        if (!path) return null;\n        if (isPercentage(ratio)) ratio = parseFloat(ratio) / 100;\n        return path.pointAt(ratio, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getTangentAtLength: function(length) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.tangentAtLength(length, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getTangentAtRatio: function(ratio) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.tangentAt(ratio, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPoint: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPoint(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPointLength: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPointLength(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPointRatio: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPointNormalizedLength(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    // Get label position object based on two provided coordinates, x and y.\n    // (Used behind the scenes when user moves labels around.)\n    // Two signatures:\n    // - num, num, obj = x, y, options\n    // - num, num, num, obj = x, y, angle, options\n    // Accepts distance/offset options = `absoluteDistance: boolean`, `reverseDistance: boolean`, `absoluteOffset: boolean`\n    // - `absoluteOffset` is necessary in order to move beyond connection endpoints\n    // Additional options = `keepGradient: boolean`, `ensureLegibility: boolean`\n    getLabelPosition: function(x, y, p3, p4) {\n\n        var position = {};\n\n        // normalize data from the two possible signatures\n        var localAngle = 0;\n        var localOpt;\n        if (typeof p3 === 'number') {\n            // angle and opt provided as third and fourth argument\n            localAngle = p3;\n            localOpt = p4;\n        } else {\n            // opt provided as third argument\n            localOpt = p3;\n        }\n\n        // save localOpt as `args` of the position object that is passed along\n        if (localOpt) position.args = localOpt;\n\n        // identify distance/offset settings\n        var isDistanceRelative = !(localOpt && localOpt.absoluteDistance); // relative by default\n        var isDistanceAbsoluteReverse = (localOpt && localOpt.absoluteDistance && localOpt.reverseDistance); // non-reverse by default\n        var isOffsetAbsolute = localOpt && localOpt.absoluteOffset; // offset is non-absolute by default\n\n        // find closest point t\n        var path = this.path;\n        var pathOpt = { segmentSubdivisions: this.getConnectionSubdivisions() };\n        var labelPoint = new Point(x, y);\n        var t = path.closestPointT(labelPoint, pathOpt);\n\n        // DISTANCE:\n        var labelDistance = path.lengthAtT(t, pathOpt);\n        if (isDistanceRelative) labelDistance = (labelDistance / this.getConnectionLength()) || 0; // fix to prevent NaN for 0 length\n        if (isDistanceAbsoluteReverse) labelDistance = (-1 * (this.getConnectionLength() - labelDistance)) || 1; // fix for end point (-0 => 1)\n        position.distance = labelDistance;\n\n        // OFFSET:\n        // use absolute offset if:\n        // - opt.absoluteOffset is true,\n        // - opt.absoluteOffset is not true but there is no tangent\n        var tangent;\n        if (!isOffsetAbsolute) tangent = path.tangentAtT(t);\n        var labelOffset;\n        if (tangent) {\n            labelOffset = tangent.pointOffset(labelPoint);\n        } else {\n            var closestPoint = path.pointAtT(t);\n            var labelOffsetDiff = labelPoint.difference(closestPoint);\n            labelOffset = { x: labelOffsetDiff.x, y: labelOffsetDiff.y };\n        }\n        position.offset = labelOffset;\n\n        // ANGLE:\n        position.angle = localAngle;\n\n        return position;\n    },\n\n    _getLabelTransformationMatrix: function(labelPosition) {\n\n        var labelDistance;\n        var labelAngle = 0;\n        var args = {};\n        if (typeof labelPosition === 'number') {\n            labelDistance = labelPosition;\n        } else if (typeof labelPosition.distance === 'number') {\n            args = labelPosition.args || {};\n            labelDistance = labelPosition.distance;\n            labelAngle = labelPosition.angle || 0;\n        } else {\n            throw new Error('dia.LinkView: invalid label position distance.');\n        }\n\n        var isDistanceRelative = ((labelDistance > 0) && (labelDistance <= 1));\n\n        var labelOffset = 0;\n        var labelOffsetCoordinates = { x: 0, y: 0 };\n        if (labelPosition.offset) {\n            var positionOffset = labelPosition.offset;\n            if (typeof positionOffset === 'number') labelOffset = positionOffset;\n            if (positionOffset.x) labelOffsetCoordinates.x = positionOffset.x;\n            if (positionOffset.y) labelOffsetCoordinates.y = positionOffset.y;\n        }\n\n        var isOffsetAbsolute = ((labelOffsetCoordinates.x !== 0) || (labelOffsetCoordinates.y !== 0) || labelOffset === 0);\n\n        var isKeepGradient = args.keepGradient;\n        var isEnsureLegibility = args.ensureLegibility;\n\n        var path = this.path;\n        var pathOpt = { segmentSubdivisions: this.getConnectionSubdivisions() };\n\n        var distance = isDistanceRelative ? (labelDistance * this.getConnectionLength()) : labelDistance;\n        var tangent = path.tangentAtLength(distance, pathOpt);\n\n        var translation;\n        var angle = labelAngle;\n        if (tangent) {\n            if (isOffsetAbsolute) {\n                translation = tangent.start;\n                translation.offset(labelOffsetCoordinates);\n            } else {\n                var normal = tangent.clone();\n                normal.rotate(tangent.start, -90);\n                normal.setLength(labelOffset);\n                translation = normal.end;\n            }\n            if (isKeepGradient) {\n                angle = (tangent.angle() + labelAngle);\n                if (isEnsureLegibility) {\n                    angle = normalizeAngle(((angle + 90) % 180) - 90);\n                }\n            }\n        } else {\n            // fallback - the connection has zero length\n            translation = path.start;\n            if (isOffsetAbsolute) translation.offset(labelOffsetCoordinates);\n        }\n\n        return V.createSVGMatrix()\n            .translate(translation.x, translation.y)\n            .rotate(angle);\n    },\n\n    getLabelCoordinates: function(labelPosition) {\n\n        var transformationMatrix = this._getLabelTransformationMatrix(labelPosition);\n        return new Point(transformationMatrix.e, transformationMatrix.f);\n    },\n\n    getVertexIndex: function(x, y) {\n\n        var model = this.model;\n        var vertices = model.vertices();\n\n        var vertexLength = this.getClosestPointLength(new Point(x, y));\n\n        var idx = 0;\n        for (var n = vertices.length; idx < n; idx++) {\n            var currentVertex = vertices[idx];\n            var currentVertexLength = this.getClosestPointLength(currentVertex);\n            if (vertexLength < currentVertexLength) break;\n        }\n\n        return idx;\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    notifyPointerdown(evt, x, y) {\n        CellView.prototype.pointerdown.call(this, evt, x, y);\n        this.notify('link:pointerdown', evt, x, y);\n    },\n\n    notifyPointermove(evt, x, y) {\n        CellView.prototype.pointermove.call(this, evt, x, y);\n        this.notify('link:pointermove', evt, x, y);\n    },\n\n    notifyPointerup(evt, x, y) {\n        this.notify('link:pointerup', evt, x, y);\n        CellView.prototype.pointerup.call(this, evt, x, y);\n    },\n\n    pointerdblclick: function(evt, x, y) {\n\n        CellView.prototype.pointerdblclick.apply(this, arguments);\n        this.notify('link:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        CellView.prototype.pointerclick.apply(this, arguments);\n        this.notify('link:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        CellView.prototype.contextmenu.apply(this, arguments);\n        this.notify('link:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        this.notifyPointerdown(evt, x, y);\n\n        // Backwards compatibility for the default markup\n        var className = evt.target.getAttribute('class');\n        switch (className) {\n\n            case 'marker-vertex':\n                this.dragVertexStart(evt, x, y);\n                return;\n\n            case 'marker-vertex-remove':\n            case 'marker-vertex-remove-area':\n                this.dragVertexRemoveStart(evt, x, y);\n                return;\n\n            case 'marker-arrowhead':\n                this.dragArrowheadStart(evt, x, y);\n                return;\n\n            case 'connection':\n            case 'connection-wrap':\n                this.dragConnectionStart(evt, x, y);\n                return;\n\n            case 'marker-source':\n            case 'marker-target':\n                return;\n        }\n\n        this.dragStart(evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        // Backwards compatibility\n        var dragData = this._dragData;\n        if (dragData) this.eventData(evt, dragData);\n\n        var data = this.eventData(evt);\n        switch (data.action) {\n\n            case 'vertex-move':\n                this.dragVertex(evt, x, y);\n                break;\n\n            case 'label-move':\n                this.dragLabel(evt, x, y);\n                break;\n\n            case 'arrowhead-move':\n                this.dragArrowhead(evt, x, y);\n                break;\n\n            case 'move':\n                this.drag(evt, x, y);\n                break;\n        }\n\n        // Backwards compatibility\n        if (dragData) assign(dragData, this.eventData(evt));\n\n        this.notifyPointermove(evt, x, y);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        // Backwards compatibility\n        var dragData = this._dragData;\n        if (dragData) {\n            this.eventData(evt, dragData);\n            this._dragData = null;\n        }\n\n        var data = this.eventData(evt);\n        switch (data.action) {\n\n            case 'vertex-move':\n                this.dragVertexEnd(evt, x, y);\n                break;\n\n            case 'label-move':\n                this.dragLabelEnd(evt, x, y);\n                break;\n\n            case 'arrowhead-move':\n                this.dragArrowheadEnd(evt, x, y);\n                break;\n\n            case 'move':\n                this.dragEnd(evt, x, y);\n        }\n\n        this.notifyPointerup(evt, x, y);\n        this.checkMouseleave(evt);\n    },\n\n    mouseover: function(evt) {\n\n        CellView.prototype.mouseover.apply(this, arguments);\n        this.notify('link:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        CellView.prototype.mouseout.apply(this, arguments);\n        this.notify('link:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        CellView.prototype.mouseenter.apply(this, arguments);\n        this.notify('link:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        CellView.prototype.mouseleave.apply(this, arguments);\n        this.notify('link:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        CellView.prototype.mousewheel.apply(this, arguments);\n        this.notify('link:mousewheel', evt, x, y, delta);\n    },\n\n    onevent: function(evt, eventName, x, y) {\n\n        // Backwards compatibility\n        var linkTool = V(evt.target).findParentByClass('link-tool', this.el);\n        if (linkTool) {\n            // No further action to be executed\n            evt.stopPropagation();\n\n            // Allow `interactive.useLinkTools=false`\n            if (this.can('useLinkTools')) {\n                if (eventName === 'remove') {\n                    // Built-in remove event\n                    this.model.remove({ ui: true });\n                    // Do not trigger link pointerdown\n                    return;\n\n                } else {\n                    // link:options and other custom events inside the link tools\n                    this.notify(eventName, evt, x, y);\n                }\n            }\n\n            this.notifyPointerdown(evt, x, y);\n            this.paper.delegateDragEvents(this, evt.data);\n\n        } else {\n            CellView.prototype.onevent.apply(this, arguments);\n        }\n    },\n\n    onlabel: function(evt, x, y) {\n\n        this.notifyPointerdown(evt, x, y);\n\n        this.dragLabelStart(evt, x, y);\n\n        var stopPropagation = this.eventData(evt).stopPropagation;\n        if (stopPropagation) evt.stopPropagation();\n    },\n\n    // Drag Start Handlers\n\n    dragConnectionStart: function(evt, x, y) {\n\n        if (!this.can('vertexAdd')) return;\n\n        // Store the index at which the new vertex has just been placed.\n        // We'll be update the very same vertex position in `pointermove()`.\n        var vertexIdx = this.addVertex({ x: x, y: y }, { ui: true });\n        this.eventData(evt, {\n            action: 'vertex-move',\n            vertexIdx: vertexIdx\n        });\n    },\n\n    dragLabelStart: function(evt, _x, _y) {\n\n        if (this.can('labelMove')) {\n\n            var labelNode = evt.currentTarget;\n            var labelIdx = parseInt(labelNode.getAttribute('label-idx'), 10);\n\n            var positionAngle = this._getLabelPositionAngle(labelIdx);\n            var labelPositionArgs = this._getLabelPositionArgs(labelIdx);\n            var defaultLabelPositionArgs = this._getDefaultLabelPositionArgs();\n            var positionArgs = this._mergeLabelPositionArgs(labelPositionArgs, defaultLabelPositionArgs);\n\n            this.eventData(evt, {\n                action: 'label-move',\n                labelIdx: labelIdx,\n                positionAngle: positionAngle,\n                positionArgs: positionArgs,\n                stopPropagation: true\n            });\n\n        } else {\n\n            // Backwards compatibility:\n            // If labels can't be dragged no default action is triggered.\n            this.eventData(evt, { stopPropagation: true });\n        }\n\n        this.paper.delegateDragEvents(this, evt.data);\n    },\n\n    dragVertexStart: function(evt, x, y) {\n\n        if (!this.can('vertexMove')) return;\n\n        var vertexNode = evt.target;\n        var vertexIdx = parseInt(vertexNode.getAttribute('idx'), 10);\n        this.eventData(evt, {\n            action: 'vertex-move',\n            vertexIdx: vertexIdx\n        });\n    },\n\n    dragVertexRemoveStart: function(evt, x, y) {\n\n        if (!this.can('vertexRemove')) return;\n\n        var removeNode = evt.target;\n        var vertexIdx = parseInt(removeNode.getAttribute('idx'), 10);\n        this.model.removeVertex(vertexIdx);\n    },\n\n    dragArrowheadStart: function(evt, x, y) {\n\n        if (!this.can('arrowheadMove')) return;\n\n        var arrowheadNode = evt.target;\n        var arrowheadType = arrowheadNode.getAttribute('end');\n        var data = this.startArrowheadMove(arrowheadType, { ignoreBackwardsCompatibility: true });\n\n        this.eventData(evt, data);\n    },\n\n    dragStart: function(evt, x, y) {\n\n        if (!this.can('linkMove')) return;\n\n        this.eventData(evt, {\n            action: 'move',\n            dx: x,\n            dy: y\n        });\n    },\n\n    // Drag Handlers\n    dragLabel: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var label = { position: this.getLabelPosition(x, y, data.positionAngle, data.positionArgs) };\n        if (this.paper.options.snapLabels) delete label.position.offset;\n        this.model.label(data.labelIdx, label);\n    },\n\n    dragVertex: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        this.model.vertex(data.vertexIdx, { x: x, y: y }, { ui: true });\n    },\n\n    dragArrowhead: function(evt, x, y) {\n\n        if (this.paper.options.snapLinks) {\n\n            this._snapArrowhead(evt, x, y);\n\n        } else {\n\n            this._connectArrowhead(this.getEventTarget(evt), x, y, this.eventData(evt));\n        }\n    },\n\n    drag: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        this.model.translate(x - data.dx, y - data.dy, { ui: true });\n        this.eventData(evt, {\n            dx: x,\n            dy: y\n        });\n    },\n\n    // Drag End Handlers\n\n    dragLabelEnd: function() {\n        // noop\n    },\n\n    dragVertexEnd: function() {\n        // noop\n    },\n\n    dragArrowheadEnd: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var paper = this.paper;\n\n        if (paper.options.snapLinks) {\n            this._snapArrowheadEnd(data);\n        } else {\n            this._connectArrowheadEnd(data, x, y);\n        }\n\n        if (!paper.linkAllowed(this)) {\n            // If the changed link is not allowed, revert to its previous state.\n            this._disallow(data);\n        } else {\n            this._finishEmbedding(data);\n            this._notifyConnectEvent(data, evt);\n        }\n\n        this._afterArrowheadMove(data);\n    },\n\n    dragEnd: function() {\n        // noop\n    },\n\n    _disallow: function(data) {\n\n        switch (data.whenNotAllowed) {\n\n            case 'remove':\n                this.model.remove({ ui: true });\n                break;\n\n            case 'revert':\n            default:\n                this.model.set(data.arrowhead, data.initialEnd, { ui: true });\n                break;\n        }\n    },\n\n    _finishEmbedding: function(data) {\n\n        // Reparent the link if embedding is enabled\n        if (this.paper.options.embeddingMode && this.model.reparent()) {\n            // Make sure we don't reverse to the original 'z' index (see afterArrowheadMove()).\n            data.z = null;\n        }\n    },\n\n    _notifyConnectEvent: function(data, evt) {\n\n        var arrowhead = data.arrowhead;\n        var initialEnd = data.initialEnd;\n        var currentEnd = this.model.prop(arrowhead);\n        var endChanged = currentEnd && !Link.endsEqual(initialEnd, currentEnd);\n        if (endChanged) {\n            var paper = this.paper;\n            if (initialEnd.id) {\n                this.notify('link:disconnect', evt, paper.findViewByModel(initialEnd.id), data.initialMagnet, arrowhead);\n            }\n            if (currentEnd.id) {\n                this.notify('link:connect', evt, paper.findViewByModel(currentEnd.id), data.magnetUnderPointer, arrowhead);\n            }\n        }\n    },\n\n    _snapArrowhead: function(evt, x, y) {\n\n        const data = this.eventData(evt);\n        // checking view in close area of the pointer\n\n        var r = this.paper.options.snapLinks.radius || 50;\n        var viewsInArea = this.paper.findViewsInArea({ x: x - r, y: y - r, width: 2 * r, height: 2 * r });\n\n        var prevClosestView = data.closestView || null;\n        var prevClosestMagnet = data.closestMagnet || null;\n        var prevMagnetProxy = data.magnetProxy || null;\n\n        data.closestView = data.closestMagnet = data.magnetProxy = null;\n\n        var minDistance = Number.MAX_VALUE;\n        var pointer = new Point(x, y);\n        var paper = this.paper;\n\n        viewsInArea.forEach(function(view) {\n            const candidates = [];\n            // skip connecting to the element in case '.': { magnet: false } attribute present\n            if (view.el.getAttribute('magnet') !== 'false') {\n                candidates.push({\n                    bbox: view.model.getBBox(),\n                    magnet: view.el\n                });\n            }\n\n            view.$('[magnet]').toArray().forEach(magnet => {\n                candidates.push({\n                    bbox: view.getNodeBBox(magnet),\n                    magnet\n                });\n            });\n\n            candidates.forEach(candidate => {\n                const { magnet, bbox } = candidate;\n                // find distance from the center of the model to pointer coordinates\n                const distance = bbox.center().squaredDistance(pointer);\n                // the connection is looked up in a circle area by `distance < r`\n                if (distance < minDistance) {\n                    const isAlreadyValidated = prevClosestMagnet === magnet;\n                    if (isAlreadyValidated || paper.options.validateConnection.apply(\n                        paper, data.validateConnectionArgs(view, (view.el === magnet) ? null : magnet)\n                    )) {\n                        minDistance = distance;\n                        data.closestView = view;\n                        data.closestMagnet = magnet;\n                    }\n                }\n            });\n\n        }, this);\n\n        var end;\n        var magnetProxy = null;\n        var closestView = data.closestView;\n        var closestMagnet = data.closestMagnet;\n        if (closestMagnet) {\n            magnetProxy = data.magnetProxy = closestView.findProxyNode(closestMagnet, 'highlighter');\n        }\n        var endType = data.arrowhead;\n        var newClosestMagnet = (prevClosestMagnet !== closestMagnet);\n        if (prevClosestView && newClosestMagnet) {\n            prevClosestView.unhighlight(prevMagnetProxy, {\n                connecting: true,\n                snapping: true\n            });\n        }\n\n        if (closestView) {\n\n            if (!newClosestMagnet) return;\n\n            closestView.highlight(magnetProxy, {\n                connecting: true,\n                snapping: true\n            });\n            end = closestView.getLinkEnd(closestMagnet, x, y, this.model, endType);\n\n        } else {\n\n            end = { x: x, y: y };\n        }\n\n        this.model.set(endType, end || { x: x, y: y }, { ui: true });\n\n        if (prevClosestView) {\n            this.notify('link:snap:disconnect', evt, prevClosestView, prevClosestMagnet, endType);\n        }\n        if (closestView) {\n            this.notify('link:snap:connect', evt, closestView, closestMagnet, endType);\n        }\n    },\n\n    _snapArrowheadEnd: function(data) {\n\n        // Finish off link snapping.\n        // Everything except view unhighlighting was already done on pointermove.\n        var closestView = data.closestView;\n        var closestMagnet = data.closestMagnet;\n        if (closestView && closestMagnet) {\n\n            closestView.unhighlight(data.magnetProxy, { connecting: true, snapping: true });\n            data.magnetUnderPointer = closestView.findMagnet(closestMagnet);\n        }\n\n        data.closestView = data.closestMagnet = null;\n    },\n\n    _connectArrowhead: function(target, x, y, data) {\n\n        // checking views right under the pointer\n        const { paper, model } = this;\n\n        if (data.eventTarget !== target) {\n            // Unhighlight the previous view under pointer if there was one.\n            if (data.magnetProxy) {\n                data.viewUnderPointer.unhighlight(data.magnetProxy, {\n                    connecting: true\n                });\n            }\n\n            const viewUnderPointer = data.viewUnderPointer = paper.findView(target);\n            if (viewUnderPointer) {\n                // If we found a view that is under the pointer, we need to find the closest\n                // magnet based on the real target element of the event.\n                const magnetUnderPointer = data.magnetUnderPointer = viewUnderPointer.findMagnet(target);\n                const magnetProxy = data.magnetProxy = viewUnderPointer.findProxyNode(magnetUnderPointer, 'highlighter');\n\n                if (magnetUnderPointer && this.paper.options.validateConnection.apply(\n                    paper,\n                    data.validateConnectionArgs(viewUnderPointer, magnetUnderPointer)\n                )) {\n                    // If there was no magnet found, do not highlight anything and assume there\n                    // is no view under pointer we're interested in reconnecting to.\n                    // This can only happen if the overall element has the attribute `'.': { magnet: false }`.\n                    if (magnetProxy) {\n                        viewUnderPointer.highlight(magnetProxy, {\n                            connecting: true\n                        });\n                    }\n                } else {\n                    // This type of connection is not valid. Disregard this magnet.\n                    data.magnetUnderPointer = null;\n                    data.magnetProxy = null;\n                }\n            } else {\n                // Make sure we'll unset previous magnet.\n                data.magnetUnderPointer = null;\n                data.magnetProxy = null;\n            }\n        }\n\n        data.eventTarget = target;\n\n        model.set(data.arrowhead, { x: x, y: y }, { ui: true });\n    },\n\n    _connectArrowheadEnd: function(data = {}, x, y) {\n\n        const { model } = this;\n        const { viewUnderPointer, magnetUnderPointer, magnetProxy, arrowhead } = data;\n\n        if (!magnetUnderPointer || !magnetProxy || !viewUnderPointer) return;\n\n        viewUnderPointer.unhighlight(magnetProxy, { connecting: true });\n\n        // The link end is taken from the magnet under the pointer, not the proxy.\n        const end = viewUnderPointer.getLinkEnd(magnetUnderPointer, x, y, model, arrowhead);\n        model.set(arrowhead, end, { ui: true });\n    },\n\n    _beforeArrowheadMove: function(data) {\n\n        data.z = this.model.get('z');\n        this.model.toFront();\n\n        // Let the pointer propagate through the link view elements so that\n        // the `evt.target` is another element under the pointer, not the link itself.\n        var style = this.el.style;\n        data.pointerEvents = style.pointerEvents;\n        style.pointerEvents = 'none';\n\n        if (this.paper.options.markAvailable) {\n            this._markAvailableMagnets(data);\n        }\n    },\n\n    _afterArrowheadMove: function(data) {\n\n        if (data.z !== null) {\n            this.model.set('z', data.z, { ui: true });\n            data.z = null;\n        }\n\n        // Put `pointer-events` back to its original value. See `_beforeArrowheadMove()` for explanation.\n        this.el.style.pointerEvents = data.pointerEvents;\n\n        if (this.paper.options.markAvailable) {\n            this._unmarkAvailableMagnets(data);\n        }\n    },\n\n    _createValidateConnectionArgs: function(arrowhead) {\n        // It makes sure the arguments for validateConnection have the following form:\n        // (source view, source magnet, target view, target magnet and link view)\n        var args = [];\n\n        args[4] = arrowhead;\n        args[5] = this;\n\n        var oppositeArrowhead;\n        var i = 0;\n        var j = 0;\n\n        if (arrowhead === 'source') {\n            i = 2;\n            oppositeArrowhead = 'target';\n        } else {\n            j = 2;\n            oppositeArrowhead = 'source';\n        }\n\n        var end = this.model.get(oppositeArrowhead);\n\n        if (end.id) {\n            var view = args[i] = this.paper.findViewByModel(end.id);\n            var magnet = view.getMagnetFromLinkEnd(end);\n            if (magnet === view.el) magnet = undefined;\n            args[i + 1] = magnet;\n        }\n\n        function validateConnectionArgs(cellView, magnet) {\n            args[j] = cellView;\n            args[j + 1] = cellView.el === magnet ? undefined : magnet;\n            return args;\n        }\n\n        return validateConnectionArgs;\n    },\n\n    _markAvailableMagnets: function(data) {\n\n        function isMagnetAvailable(view, magnet) {\n            var paper = view.paper;\n            var validate = paper.options.validateConnection;\n            return validate.apply(paper, this.validateConnectionArgs(view, magnet));\n        }\n\n        var paper = this.paper;\n        var elements = paper.model.getCells();\n        data.marked = {};\n\n        for (var i = 0, n = elements.length; i < n; i++) {\n            var view = elements[i].findView(paper);\n\n            if (!view) {\n                continue;\n            }\n\n            var magnets = Array.prototype.slice.call(view.el.querySelectorAll('[magnet]'));\n            if (view.el.getAttribute('magnet') !== 'false') {\n                // Element wrapping group is also a magnet\n                magnets.push(view.el);\n            }\n\n            var availableMagnets = magnets.filter(isMagnetAvailable.bind(data, view));\n\n            if (availableMagnets.length > 0) {\n                // highlight all available magnets\n                for (var j = 0, m = availableMagnets.length; j < m; j++) {\n                    view.highlight(availableMagnets[j], { magnetAvailability: true });\n                }\n                // highlight the entire view\n                view.highlight(null, { elementAvailability: true });\n\n                data.marked[view.model.id] = availableMagnets;\n            }\n        }\n    },\n\n    _unmarkAvailableMagnets: function(data) {\n\n        var markedKeys = Object.keys(data.marked);\n        var id;\n        var markedMagnets;\n\n        for (var i = 0, n = markedKeys.length; i < n; i++) {\n            id = markedKeys[i];\n            markedMagnets = data.marked[id];\n\n            var view = this.paper.findViewByModel(id);\n            if (view) {\n                for (var j = 0, m = markedMagnets.length; j < m; j++) {\n                    view.unhighlight(markedMagnets[j], { magnetAvailability: true });\n                }\n                view.unhighlight(null, { elementAvailability: true });\n            }\n        }\n\n        data.marked = null;\n    },\n\n    startArrowheadMove: function(end, opt) {\n\n        opt || (opt = {});\n\n        // Allow to delegate events from an another view to this linkView in order to trigger arrowhead\n        // move without need to click on the actual arrowhead dom element.\n        var data = {\n            action: 'arrowhead-move',\n            arrowhead: end,\n            whenNotAllowed: opt.whenNotAllowed || 'revert',\n            initialMagnet: this[end + 'Magnet'] || (this[end + 'View'] ? this[end + 'View'].el : null),\n            initialEnd: clone(this.model.get(end)),\n            validateConnectionArgs: this._createValidateConnectionArgs(end)\n        };\n\n        this._beforeArrowheadMove(data);\n\n        if (opt.ignoreBackwardsCompatibility !== true) {\n            this._dragData = data;\n        }\n\n        return data;\n    }\n});\n\nObject.defineProperty(LinkView.prototype, 'sourceBBox', {\n\n    enumerable: true,\n\n    get: function() {\n        var sourceView = this.sourceView;\n        if (!sourceView) {\n            var sourceDef = this.model.source();\n            return new Rect(sourceDef.x, sourceDef.y);\n        }\n        var sourceMagnet = this.sourceMagnet;\n        if (sourceView.isNodeConnection(sourceMagnet)) {\n            return new Rect(this.sourceAnchor);\n        }\n        return sourceView.getNodeBBox(sourceMagnet || sourceView.el);\n    }\n\n});\n\nObject.defineProperty(LinkView.prototype, 'targetBBox', {\n\n    enumerable: true,\n\n    get: function() {\n        var targetView = this.targetView;\n        if (!targetView) {\n            var targetDef = this.model.target();\n            return new Rect(targetDef.x, targetDef.y);\n        }\n        var targetMagnet = this.targetMagnet;\n        if (targetView.isNodeConnection(targetMagnet)) {\n            return new Rect(this.targetAnchor);\n        }\n        return targetView.getNodeBBox(targetMagnet || targetView.el);\n    }\n});\n\n","import { assign } from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nexport const stroke = HighlighterView.extend({\n\n    tagName: 'path',\n    className: 'highlight-stroke',\n    attributes: {\n        'pointer-events': 'none',\n        'vector-effect': 'non-scaling-stroke',\n        'fill': 'none'\n    },\n\n    options: {\n        padding: 3,\n        rx: 0,\n        ry: 0,\n        useFirstSubpath: false,\n        attrs: {\n            'stroke-width': 3,\n            'stroke': '#FEB663'\n        }\n    },\n\n    getPathData(cellView, node) {\n        const { options } = this;\n        const { useFirstSubpath } = options;\n        let d;\n        try {\n            const vNode = V(node);\n            d = vNode.convertToPathData().trim();\n            if (vNode.tagName() === 'PATH' && useFirstSubpath) {\n                const secondSubpathIndex = d.search(/.M/i) + 1;\n                if (secondSubpathIndex > 0) {\n                    d = d.substr(0, secondSubpathIndex);\n                }\n            }\n        } catch (error) {\n            // Failed to get path data from magnet element.\n            // Draw a rectangle around the node instead.\n            const nodeBBox = cellView.getNodeBoundingRect(node);\n            d = V.rectToPath(assign({}, options, nodeBBox.toJSON()));\n        }\n        return d;\n    },\n\n    highlightConnection(cellView) {\n        this.vel.attr('d', cellView.getSerializedConnection());\n    },\n\n    highlightNode(cellView, node) {\n        const { vel, options } = this;\n        const { padding, layer } = options;\n        let highlightMatrix = cellView.getNodeMatrix(node);\n        // Add padding to the highlight element.\n        if (padding) {\n            if (!layer && node === cellView.el) {\n                // If the highlighter is appended to the cellView\n                // and we measure the size of the cellView wrapping group\n                // it's necessary to remove the highlighter first\n                vel.remove();\n            }\n            let nodeBBox = cellView.getNodeBoundingRect(node);\n            const cx = nodeBBox.x + (nodeBBox.width / 2);\n            const cy = nodeBBox.y + (nodeBBox.height / 2);\n            nodeBBox = V.transformRect(nodeBBox, highlightMatrix);\n            const width = Math.max(nodeBBox.width, 1);\n            const height = Math.max(nodeBBox.height, 1);\n            const sx = (width + padding) / width;\n            const sy = (height + padding) / height;\n            const paddingMatrix = V.createSVGMatrix({\n                a: sx,\n                b: 0,\n                c: 0,\n                d: sy,\n                e: cx - sx * cx,\n                f: cy - sy * cy\n            });\n            highlightMatrix = highlightMatrix.multiply(paddingMatrix);\n        }\n        vel.attr({\n            'd': this.getPathData(cellView, node),\n            'transform': V.matrixToTransformString(highlightMatrix)\n        });\n    },\n\n    highlight(cellView, node) {\n        const { vel, options } = this;\n        vel.attr(options.attrs);\n        if (cellView.isNodeConnection(node)) {\n            this.highlightConnection(cellView);\n        } else {\n            this.highlightNode(cellView, node);\n        }\n    }\n\n});\n","import V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nconst MASK_CLIP = 20;\n\nfunction forEachDescendant(vel, fn) {\n    const descendants = vel.children();\n    while (descendants.length > 0) {\n        const descendant = descendants.shift();\n        if (fn(descendant)) {\n            descendants.push(...descendant.children());\n        }\n    }\n}\n\nexport const mask = HighlighterView.extend({\n\n    tagName: 'rect',\n    className: 'highlight-mask',\n    attributes: {\n        'pointer-events': 'none'\n    },\n\n    options: {\n        padding: 3,\n        maskClip: MASK_CLIP,\n        deep: false,\n        attrs: {\n            'stroke': '#FEB663',\n            'stroke-width': 3,\n            'stroke-linecap': 'butt',\n            'stroke-linejoin': 'miter',\n        }\n    },\n\n    VISIBLE: 'white',\n    INVISIBLE: 'black',\n\n    MASK_ROOT_ATTRIBUTE_BLACKLIST: [\n        'marker-start',\n        'marker-end',\n        'marker-mid',\n        'transform',\n        'stroke-dasharray'\n    ],\n\n    MASK_CHILD_ATTRIBUTE_BLACKLIST: [\n        'stroke',\n        'fill',\n        'stroke-width',\n        'stroke-opacity',\n        'stroke-dasharray',\n        'fill-opacity',\n        'marker-start',\n        'marker-end',\n        'marker-mid'\n    ],\n\n    // TODO: change the list to a function callback\n    MASK_REPLACE_TAGS: [\n        'FOREIGNOBJECT',\n        'IMAGE',\n        'USE',\n        'TEXT',\n        'TSPAN',\n        'TEXTPATH'\n    ],\n\n    // TODO: change the list to a function callback\n    MASK_REMOVE_TAGS: [\n        'TEXT',\n        'TSPAN',\n        'TEXTPATH'\n    ],\n\n    transformMaskChild(cellView, childEl) {\n        const {\n            MASK_CHILD_ATTRIBUTE_BLACKLIST,\n            MASK_REPLACE_TAGS,\n            MASK_REMOVE_TAGS\n        } = this;\n        const childTagName = childEl.tagName();\n        // Do not include the element in the mask's image\n        if (!V.isSVGGraphicsElement(childEl) || MASK_REMOVE_TAGS.includes(childTagName)) {\n            childEl.remove();\n            return false;\n        }\n        // Replace the element with a rectangle\n        if (MASK_REPLACE_TAGS.includes(childTagName)) {\n            // Note: clone() method does not change the children ids\n            const originalChild = cellView.vel.findOne(`#${childEl.id}`);\n            if (originalChild) {\n                const { node: originalNode } = originalChild;\n                let childBBox = cellView.getNodeBoundingRect(originalNode);\n                if (cellView.model.isElement()) {\n                    childBBox = V.transformRect(childBBox, cellView.getNodeMatrix(originalNode));\n                }\n                const replacement = V('rect', childBBox.toJSON());\n                const { x: ox, y: oy } = childBBox.center();\n                const { angle, cx = ox, cy = oy } = originalChild.rotate();\n                if (angle) replacement.rotate(angle, cx, cy);\n                // Note: it's not important to keep the same sibling index since all subnodes are filled\n                childEl.parent().append(replacement);\n            }\n            childEl.remove();\n            return false;\n        }\n        // Keep the element, but clean it from certain attributes\n        MASK_CHILD_ATTRIBUTE_BLACKLIST.forEach(attrName => {\n            if (attrName === 'fill' && childEl.attr('fill') === 'none') return;\n            childEl.removeAttr(attrName);\n        });\n        return true;\n    },\n\n    transformMaskRoot(_cellView, rootEl) {\n        const { MASK_ROOT_ATTRIBUTE_BLACKLIST } = this;\n        MASK_ROOT_ATTRIBUTE_BLACKLIST.forEach(attrName => {\n            rootEl.removeAttr(attrName);\n        });\n    },\n\n    getMaskShape(cellView, vel) {\n        const { options, MASK_REPLACE_TAGS } = this;\n        const { deep } = options;\n        const tagName = vel.tagName();\n        let maskRoot;\n        if (tagName === 'G') {\n            if (!deep) return null;\n            maskRoot = vel.clone();\n            forEachDescendant(maskRoot, maskChild => this.transformMaskChild(cellView, maskChild));\n        } else {\n            if (MASK_REPLACE_TAGS.includes(tagName)) return null;\n            maskRoot = vel.clone();\n        }\n        this.transformMaskRoot(cellView, maskRoot);\n        return maskRoot;\n    },\n\n    getMaskId() {\n        return `highlight-mask-${this.cid}`;\n    },\n\n    getMask(cellView, vNode) {\n\n        const { VISIBLE, INVISIBLE, options } = this;\n        const { padding, attrs } = options;\n\n        const strokeWidth = ('stroke-width' in attrs) ? attrs['stroke-width'] : 1;\n        const hasNodeFill = vNode.attr('fill') !== 'none';\n        let magnetStrokeWidth = parseFloat(vNode.attr('stroke-width'));\n        if (isNaN(magnetStrokeWidth)) magnetStrokeWidth = 1;\n        // stroke of the invisible shape\n        const minStrokeWidth = magnetStrokeWidth + padding * 2;\n        // stroke of the visible shape\n        const maxStrokeWidth = minStrokeWidth + strokeWidth * 2;\n        let maskEl = this.getMaskShape(cellView, vNode);\n        if (!maskEl) {\n            const nodeBBox = cellView.getNodeBoundingRect(vNode.node);\n            // Make sure the rect is visible\n            nodeBBox.inflate(nodeBBox.width ? 0 : 0.5, nodeBBox.height ? 0 : 0.5);\n            maskEl =  V('rect', nodeBBox.toJSON());\n        }\n        maskEl.attr(attrs);\n        return V('mask', {\n            'id': this.getMaskId()\n        }).append([\n            maskEl.clone().attr({\n                'fill': hasNodeFill ? VISIBLE : 'none',\n                'stroke': VISIBLE,\n                'stroke-width': maxStrokeWidth\n            }),\n            maskEl.clone().attr({\n                'fill': hasNodeFill ? INVISIBLE : 'none',\n                'stroke': INVISIBLE,\n                'stroke-width': minStrokeWidth\n            })\n        ]);\n    },\n\n    removeMask(paper) {\n        const maskNode = paper.svg.getElementById(this.getMaskId());\n        if (maskNode) {\n            paper.defs.removeChild(maskNode);\n        }\n    },\n\n    addMask(paper, maskEl) {\n        paper.defs.appendChild(maskEl.node);\n    },\n\n    highlight(cellView, node) {\n        const { options, vel } = this;\n        const { padding, attrs, maskClip = MASK_CLIP, layer } = options;\n        const color = ('stroke' in attrs) ? attrs['stroke'] : '#000000';\n        if (!layer && node === cellView.el) {\n            // If the highlighter is appended to the cellView\n            // and we measure the size of the cellView wrapping group\n            // it's necessary to remove the highlighter first\n            vel.remove();\n        }\n        const highlighterBBox = cellView.getNodeBoundingRect(node).inflate(padding + maskClip);\n        const maskEl = this.getMask(cellView, V(node));\n        this.addMask(cellView.paper, maskEl);\n        vel.attr(highlighterBBox.toJSON());\n        vel.attr({\n            'transform': V.matrixToTransformString(cellView.getNodeMatrix(node)),\n            'mask': `url(#${maskEl.id})`,\n            'fill': color\n        });\n    },\n\n    unhighlight(cellView) {\n        this.removeMask(cellView.paper);\n    }\n\n});\n","import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nexport const opacity = HighlighterView.extend({\n\n    UPDATABLE: false,\n    MOUNTABLE: false,\n\n    opacityClassName: util.addClassNamePrefix('highlight-opacity'),\n\n    highlight: function(_cellView, node) {\n        V(node).addClass(this.opacityClassName);\n    },\n\n    unhighlight: function(_cellView, node) {\n        V(node).removeClass(this.opacityClassName);\n    }\n\n});\n","import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nconst className = util.addClassNamePrefix('highlighted');\n\nexport const addClass = HighlighterView.extend({\n\n    UPDATABLE: false,\n    MOUNTABLE: false,\n\n    options: {\n        className\n    },\n\n    highlight: function(_cellView, node) {\n        V(node).addClass(this.options.className);\n    },\n\n    unhighlight: function(_cellView, node) {\n        V(node).removeClass(this.options.className);\n    }\n\n}, {\n    // Backwards Compatibility\n    className\n});\n","import { Line, Point } from '../g/index.mjs';\nimport { isPercentage } from '../util/index.mjs';\n\nfunction connectionRatio(view, _magnet, _refPoint, opt) {\n\n    var ratio = ('ratio' in opt) ? opt.ratio : 0.5;\n    return view.getPointAtRatio(ratio);\n}\n\nfunction connectionLength(view, _magnet, _refPoint, opt) {\n\n    var length = ('length' in opt) ? opt.length : 20;\n    return view.getPointAtLength(length);\n}\n\nfunction _connectionPerpendicular(view, _magnet, refPoint, opt) {\n\n    var OFFSET = 1e6;\n    var path = view.getConnection();\n    var segmentSubdivisions = view.getConnectionSubdivisions();\n    var verticalLine = new Line(refPoint.clone().offset(0, OFFSET), refPoint.clone().offset(0, -OFFSET));\n    var horizontalLine = new Line(refPoint.clone().offset(OFFSET, 0), refPoint.clone().offset(-OFFSET, 0));\n    var verticalIntersections = verticalLine.intersect(path, { segmentSubdivisions: segmentSubdivisions });\n    var horizontalIntersections = horizontalLine.intersect(path, { segmentSubdivisions: segmentSubdivisions });\n    var intersections = [];\n    if (verticalIntersections) Array.prototype.push.apply(intersections, verticalIntersections);\n    if (horizontalIntersections) Array.prototype.push.apply(intersections, horizontalIntersections);\n    if (intersections.length > 0) return refPoint.chooseClosest(intersections);\n    if ('fallbackAt' in opt) {\n        return getPointAtLink(view, opt.fallbackAt);\n    }\n    return connectionClosest(view, _magnet, refPoint, opt);\n}\n\nfunction _connectionClosest(view, _magnet, refPoint, _opt) {\n\n    var closestPoint = view.getClosestPoint(refPoint);\n    if (!closestPoint) return new Point();\n    return closestPoint;\n}\n\nexport function resolveRef(fn) {\n    return function(view, magnet, ref, opt) {\n        if (ref instanceof Element) {\n            var refView = this.paper.findView(ref);\n            var refPoint;\n            if (refView) {\n                if (refView.isNodeConnection(ref)) {\n                    var distance = ('fixedAt' in opt) ? opt.fixedAt : '50%';\n                    refPoint = getPointAtLink(refView, distance);\n                } else {\n                    refPoint = refView.getNodeBBox(ref).center();\n                }\n            } else {\n                // Something went wrong\n                refPoint = new Point();\n            }\n            return fn.call(this, view, magnet, refPoint, opt);\n        }\n        return fn.apply(this, arguments);\n    };\n}\n\nfunction getPointAtLink(view, value) {\n    var parsedValue = parseFloat(value);\n    if (isPercentage(value)) {\n        return view.getPointAtRatio(parsedValue / 100);\n    } else {\n        return view.getPointAtLength(parsedValue);\n    }\n}\n\n// joint.linkAnchors\nexport { connectionRatio, connectionLength };\nexport const connectionPerpendicular = resolveRef(_connectionPerpendicular);\nexport const connectionClosest = resolveRef(_connectionClosest);\n","import * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport * as util from '../util/index.mjs';\n\nfunction offsetPoint(p1, p2, offset) {\n    if (util.isPlainObject(offset)) {\n        const { x, y } = offset;\n        if (isFinite(y)) {\n            const line =  new g.Line(p2, p1);\n            const { start, end } = line.parallel(y);\n            p2 = start;\n            p1 = end;\n        }\n        offset = x;\n    }\n    if (!isFinite(offset)) return p1;\n    var length = p1.distance(p2);\n    if (offset === 0 && length > 0) return p1;\n    return p1.move(p2, -Math.min(offset, length - 1));\n}\n\nfunction stroke(magnet) {\n\n    var stroke = magnet.getAttribute('stroke-width');\n    if (stroke === null) return 0;\n    return parseFloat(stroke) || 0;\n}\n\nfunction alignLine(line, type, offset = 0) {\n    let coordinate, a, b, direction;\n    const { start, end } = line;\n    switch (type) {\n        case 'left':\n            coordinate = 'x';\n            a = end;\n            b = start;\n            direction = -1;\n            break;\n        case 'right':\n            coordinate = 'x';\n            a = start;\n            b = end;\n            direction = 1;\n            break;\n        case 'top':\n            coordinate = 'y';\n            a = end;\n            b = start;\n            direction = -1;\n            break;\n        case 'bottom':\n            coordinate = 'y';\n            a = start;\n            b = end;\n            direction = 1;\n            break;\n        default:\n            return;\n    }\n    if (start[coordinate] < end[coordinate]) {\n        a[coordinate] = b[coordinate];\n    } else {\n        b[coordinate] = a[coordinate];\n    }\n    if (isFinite(offset)) {\n        a[coordinate] += direction * offset;\n        b[coordinate] += direction * offset;\n    }\n}\n\n// Connection Points\n\nfunction anchorConnectionPoint(line, _view, _magnet, opt) {\n    let { offset, alignOffset, align } = opt;\n    if (align) alignLine(line, align, alignOffset);\n    return offsetPoint(line.end, line.start, offset);\n}\n\nfunction bboxIntersection(line, view, magnet, opt) {\n\n    var bbox = view.getNodeBBox(magnet);\n    if (opt.stroke) bbox.inflate(stroke(magnet) / 2);\n    var intersections = line.intersect(bbox);\n    var cp = (intersections)\n        ? line.start.chooseClosest(intersections)\n        : line.end;\n    return offsetPoint(cp, line.start, opt.offset);\n}\n\nfunction rectangleIntersection(line, view, magnet, opt) {\n\n    var angle = view.model.angle();\n    if (angle === 0) {\n        return bboxIntersection(line, view, magnet, opt);\n    }\n\n    var bboxWORotation = view.getNodeUnrotatedBBox(magnet);\n    if (opt.stroke) bboxWORotation.inflate(stroke(magnet) / 2);\n    var center = bboxWORotation.center();\n    var lineWORotation = line.clone().rotate(center, angle);\n    var intersections = lineWORotation.setLength(1e6).intersect(bboxWORotation);\n    var cp = (intersections)\n        ? lineWORotation.start.chooseClosest(intersections).rotate(center, -angle)\n        : line.end;\n    return offsetPoint(cp, line.start, opt.offset);\n}\n\nfunction findShapeNode(magnet) {\n    if (!magnet) return null;\n    var node = magnet;\n    do {\n        var tagName = node.tagName;\n        if (typeof tagName !== 'string') return null;\n        tagName = tagName.toUpperCase();\n        if (tagName === 'G') {\n            node = node.firstElementChild;\n        } else if (tagName === 'TITLE') {\n            node = node.nextElementSibling;\n        } else break;\n    } while (node);\n    return node;\n}\n\nvar BNDR_SUBDIVISIONS = 'segmentSubdivisons';\nvar BNDR_SHAPE_BBOX = 'shapeBBox';\n\nfunction boundaryIntersection(line, view, magnet, opt) {\n\n    var node, intersection;\n    var selector = opt.selector;\n    var anchor = line.end;\n\n    if (typeof selector === 'string') {\n        node = view.findBySelector(selector)[0];\n    } else if (Array.isArray(selector)) {\n        node = util.getByPath(magnet, selector);\n    } else {\n        node = findShapeNode(magnet);\n    }\n\n    if (!V.isSVGGraphicsElement(node)) {\n        if (node === magnet || !V.isSVGGraphicsElement(magnet)) return anchor;\n        node = magnet;\n    }\n\n    var localShape = view.getNodeShape(node);\n    var magnetMatrix = view.getNodeMatrix(node);\n    var translateMatrix = view.getRootTranslateMatrix();\n    var rotateMatrix = view.getRootRotateMatrix();\n    var targetMatrix = translateMatrix.multiply(rotateMatrix).multiply(magnetMatrix);\n    var localMatrix = targetMatrix.inverse();\n    var localLine = V.transformLine(line, localMatrix);\n    var localRef = localLine.start.clone();\n    var data = view.getNodeData(node);\n\n    if (opt.insideout === false) {\n        if (!data[BNDR_SHAPE_BBOX]) data[BNDR_SHAPE_BBOX] = localShape.bbox();\n        var localBBox = data[BNDR_SHAPE_BBOX];\n        if (localBBox.containsPoint(localRef)) return anchor;\n    }\n\n    // Caching segment subdivisions for paths\n    var pathOpt;\n    if (localShape instanceof g.Path) {\n        var precision = opt.precision || 2;\n        if (!data[BNDR_SUBDIVISIONS]) data[BNDR_SUBDIVISIONS] = localShape.getSegmentSubdivisions({ precision: precision });\n        pathOpt = {\n            precision: precision,\n            segmentSubdivisions: data[BNDR_SUBDIVISIONS]\n        };\n    }\n\n    if (opt.extrapolate === true) localLine.setLength(1e6);\n\n    intersection = localLine.intersect(localShape, pathOpt);\n    if (intersection) {\n        // More than one intersection\n        if (V.isArray(intersection)) intersection = localRef.chooseClosest(intersection);\n    } else if (opt.sticky === true) {\n        // No intersection, find the closest point instead\n        if (localShape instanceof g.Rect) {\n            intersection = localShape.pointNearestToPoint(localRef);\n        } else if (localShape instanceof g.Ellipse) {\n            intersection = localShape.intersectionWithLineFromCenterToPoint(localRef);\n        } else {\n            intersection = localShape.closestPoint(localRef, pathOpt);\n        }\n    }\n\n    var cp = (intersection) ? V.transformPoint(intersection, targetMatrix) : anchor;\n    var cpOffset = opt.offset || 0;\n    if (opt.stroke) cpOffset += stroke(node) / 2;\n\n    return offsetPoint(cp, line.start, cpOffset);\n}\n\nexport const anchor = anchorConnectionPoint;\nexport const bbox = bboxIntersection;\nexport const rectangle = rectangleIntersection;\nexport const boundary = boundaryIntersection;\n","import * as util from '../util/index.mjs';\nimport { toRad } from '../g/index.mjs';\nimport { resolveRef } from '../linkAnchors/index.mjs';\n\nfunction bboxWrapper(method) {\n\n    return function(view, magnet, ref, opt) {\n\n        var rotate = !!opt.rotate;\n        var bbox = (rotate) ? view.getNodeUnrotatedBBox(magnet) : view.getNodeBBox(magnet);\n        var anchor = bbox[method]();\n\n        var dx = opt.dx;\n        if (dx) {\n            var dxPercentage = util.isPercentage(dx);\n            dx = parseFloat(dx);\n            if (isFinite(dx)) {\n                if (dxPercentage) {\n                    dx /= 100;\n                    dx *= bbox.width;\n                }\n                anchor.x += dx;\n            }\n        }\n\n        var dy = opt.dy;\n        if (dy) {\n            var dyPercentage = util.isPercentage(dy);\n            dy = parseFloat(dy);\n            if (isFinite(dy)) {\n                if (dyPercentage) {\n                    dy /= 100;\n                    dy *= bbox.height;\n                }\n                anchor.y += dy;\n            }\n        }\n\n        return (rotate) ? anchor.rotate(view.model.getBBox().center(), -view.model.angle()) : anchor;\n    };\n}\n\nfunction _perpendicular(view, magnet, refPoint, opt) {\n\n    var angle = view.model.angle();\n    var bbox = view.getNodeBBox(magnet);\n    var anchor = bbox.center();\n    var topLeft = bbox.origin();\n    var bottomRight = bbox.corner();\n\n    var padding = opt.padding;\n    if (!isFinite(padding)) padding = 0;\n\n    if ((topLeft.y + padding) <= refPoint.y && refPoint.y <= (bottomRight.y - padding)) {\n        var dy = (refPoint.y - anchor.y);\n        anchor.x += (angle === 0 || angle === 180) ? 0 : dy * 1 / Math.tan(toRad(angle));\n        anchor.y += dy;\n    } else if ((topLeft.x + padding) <= refPoint.x && refPoint.x <= (bottomRight.x - padding)) {\n        var dx = (refPoint.x - anchor.x);\n        anchor.y += (angle === 90 || angle === 270) ? 0 : dx * Math.tan(toRad(angle));\n        anchor.x += dx;\n    }\n\n    return anchor;\n}\n\nfunction _midSide(view, magnet, refPoint, opt) {\n\n    var rotate = !!opt.rotate;\n    var bbox, angle, center;\n    if (rotate) {\n        bbox = view.getNodeUnrotatedBBox(magnet);\n        center = view.model.getBBox().center();\n        angle = view.model.angle();\n    } else {\n        bbox = view.getNodeBBox(magnet);\n    }\n\n    var padding = opt.padding;\n    if (isFinite(padding)) bbox.inflate(padding);\n\n    if (rotate) refPoint.rotate(center, angle);\n\n    var side = bbox.sideNearestToPoint(refPoint);\n    var anchor;\n    switch (side) {\n        case 'left':\n            anchor = bbox.leftMiddle();\n            break;\n        case 'right':\n            anchor = bbox.rightMiddle();\n            break;\n        case 'top':\n            anchor = bbox.topMiddle();\n            break;\n        case 'bottom':\n            anchor = bbox.bottomMiddle();\n            break;\n    }\n\n    return (rotate) ? anchor.rotate(center, -angle) : anchor;\n}\n\n// Can find anchor from model, when there is no selector or the link end\n// is connected to a port\nfunction _modelCenter(view, _magnet, _refPoint, opt, endType) {\n    return view.model.getPointFromConnectedLink(this.model, endType).offset(opt.dx, opt.dy);\n}\n\n//joint.anchors\nexport const center = bboxWrapper('center');\nexport const top = bboxWrapper('topMiddle');\nexport const bottom = bboxWrapper('bottomMiddle');\nexport const left = bboxWrapper('leftMiddle');\nexport const right = bboxWrapper('rightMiddle');\nexport const topLeft = bboxWrapper('origin');\nexport const topRight = bboxWrapper('topRight');\nexport const bottomLeft = bboxWrapper('bottomLeft');\nexport const bottomRight = bboxWrapper('corner');\nexport const perpendicular = resolveRef(_perpendicular);\nexport const midSide = resolveRef(_midSide);\nexport const modelCenter = _modelCenter;\n\n","import V from '../V/index.mjs';\nimport {\n    isNumber,\n    assign,\n    nextFrame,\n    isObject,\n    cancelFrame,\n    defaults,\n    defaultsDeep,\n    addClassNamePrefix,\n    normalizeSides,\n    isFunction,\n    isPlainObject,\n    getByPath,\n    sortElements,\n    isString,\n    normalizeEvent,\n    omit,\n    merge,\n    camelCase,\n    cloneDeep,\n    invoke,\n    hashCode,\n    filter as _filter,\n    template,\n    toArray,\n    has\n} from '../util/index.mjs';\nimport { Rect, Point, toRad } from '../g/index.mjs';\nimport { View, views } from '../mvc/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { ElementView } from './ElementView.mjs';\nimport { LinkView } from './LinkView.mjs';\nimport { Link } from './Link.mjs';\nimport { Cell } from './Cell.mjs';\nimport { Graph } from './Graph.mjs';\nimport * as highlighters from '../highlighters/index.mjs';\nimport * as linkAnchors from '../linkAnchors/index.mjs';\nimport * as connectionPoints from '../connectionPoints/index.mjs';\nimport * as anchors from '../anchors/index.mjs';\n\nimport $ from 'jquery';\nimport Backbone from 'backbone';\n\nconst sortingTypes = {\n    NONE: 'sorting-none',\n    APPROX: 'sorting-approximate',\n    EXACT: 'sorting-exact'\n};\n\nconst LayersNames = {\n    CELLS: 'cells',\n    BACK: 'back',\n    FRONT: 'front',\n    TOOLS: 'tools'\n};\n\nconst MOUNT_BATCH_SIZE = 1000;\nconst UPDATE_BATCH_SIZE = Infinity;\nconst MIN_PRIORITY = 9007199254740991; // Number.MAX_SAFE_INTEGER\n\nconst HighlightingTypes = CellView.Highlighting;\n\nconst defaultHighlighting = {\n    [HighlightingTypes.DEFAULT]: {\n        name: 'stroke',\n        options: {\n            padding: 3\n        }\n    },\n    [HighlightingTypes.MAGNET_AVAILABILITY]: {\n        name: 'addClass',\n        options: {\n            className: 'available-magnet'\n        }\n    },\n    [HighlightingTypes.ELEMENT_AVAILABILITY]: {\n        name: 'addClass',\n        options: {\n            className: 'available-cell'\n        }\n    }\n};\n\nexport const Paper = View.extend({\n\n    className: 'paper',\n\n    options: {\n\n        width: 800,\n        height: 600,\n        origin: { x: 0, y: 0 }, // x,y coordinates in top-left corner\n        gridSize: 1,\n\n        // Whether or not to draw the grid lines on the paper's DOM element.\n        // e.g drawGrid: true, drawGrid: { color: 'red', thickness: 2 }\n        drawGrid: false,\n\n        // Whether or not to draw the background on the paper's DOM element.\n        // e.g. background: { color: 'lightblue', image: '/paper-background.png', repeat: 'flip-xy' }\n        background: false,\n\n        perpendicularLinks: false,\n        elementView: ElementView,\n        linkView: LinkView,\n        snapLabels: false, // false, true\n        snapLinks: false, // false, true, { radius: value }\n\n        // When set to FALSE, an element may not have more than 1 link with the same source and target element.\n        multiLinks: true,\n\n        // For adding custom guard logic.\n        guard: function(evt, view) {\n\n            // FALSE means the event isn't guarded.\n            return false;\n        },\n\n        highlighting: defaultHighlighting,\n\n        // Prevent the default context menu from being displayed.\n        preventContextMenu: true,\n\n        // Prevent the default action for blank:pointer<action>.\n        preventDefaultBlankAction: true,\n\n        // Restrict the translation of elements by given bounding box.\n        // Option accepts a boolean:\n        //  true - the translation is restricted to the paper area\n        //  false - no restrictions\n        // A method:\n        // restrictTranslate: function(elementView) {\n        //     var parentId = elementView.model.get('parent');\n        //     return parentId && this.model.getCell(parentId).getBBox();\n        // },\n        // Or a bounding box:\n        // restrictTranslate: { x: 10, y: 10, width: 790, height: 590 }\n        restrictTranslate: false,\n\n        // Marks all available magnets with 'available-magnet' class name and all available cells with\n        // 'available-cell' class name. Marks them when dragging a link is started and unmark\n        // when the dragging is stopped.\n        markAvailable: false,\n\n        // Defines what link model is added to the graph after an user clicks on an active magnet.\n        // Value could be the Backbone.model or a function returning the Backbone.model\n        // defaultLink: function(elementView, magnet) { return condition ? new customLink1() : new customLink2() }\n        defaultLink: new Link,\n\n        // A connector that is used by links with no connector defined on the model.\n        // e.g. { name: 'rounded', args: { radius: 5 }} or a function\n        defaultConnector: { name: 'normal' },\n\n        // A router that is used by links with no router defined on the model.\n        // e.g. { name: 'oneSide', args: { padding: 10 }} or a function\n        defaultRouter: { name: 'normal' },\n\n        defaultAnchor: { name: 'center' },\n\n        defaultLinkAnchor: { name: 'connectionRatio' },\n\n        defaultConnectionPoint: { name: 'bbox' },\n\n        /* CONNECTING */\n\n        connectionStrategy: null,\n\n        // Check whether to add a new link to the graph when user clicks on an a magnet.\n        validateMagnet: function(_cellView, magnet, _evt) {\n            return magnet.getAttribute('magnet') !== 'passive';\n        },\n\n        // Check whether to allow or disallow the link connection while an arrowhead end (source/target)\n        // being changed.\n        validateConnection: function(cellViewS, _magnetS, cellViewT, _magnetT, end, _linkView) {\n            return (end === 'target' ? cellViewT : cellViewS) instanceof ElementView;\n        },\n\n        /* EMBEDDING */\n\n        // Enables embedding. Re-parent the dragged element with elements under it and makes sure that\n        // all links and elements are visible taken the level of embedding into account.\n        embeddingMode: false,\n\n        // Check whether to allow or disallow the element embedding while an element being translated.\n        validateEmbedding: function(childView, parentView) {\n            // by default all elements can be in relation child-parent\n            return true;\n        },\n\n        // Determines the way how a cell finds a suitable parent when it's dragged over the paper.\n        // The cell with the highest z-index (visually on the top) will be chosen.\n        findParentBy: 'bbox', // 'bbox'|'center'|'origin'|'corner'|'topRight'|'bottomLeft'\n\n        // If enabled only the element on the very front is taken into account for the embedding.\n        // If disabled the elements under the dragged view are tested one by one\n        // (from front to back) until a valid parent found.\n        frontParentOnly: true,\n\n        // Interactive flags. See online docs for the complete list of interactive flags.\n        interactive: {\n            labelMove: false\n        },\n\n        // When set to true the links can be pinned to the paper.\n        // i.e. link source/target can be a point e.g. link.get('source') ==> { x: 100, y: 100 };\n        linkPinning: true,\n\n        // Custom validation after an interaction with a link ends.\n        // Recognizes a function. If `false` is returned, the link is disallowed (removed or reverted)\n        // (linkView, paper) => boolean\n        allowLink: null,\n\n        // Allowed number of mousemove events after which the pointerclick event will be still triggered.\n        clickThreshold: 0,\n\n        // Number of required mousemove events before the first pointermove event will be triggered.\n        moveThreshold: 0,\n\n        // Number of required mousemove events before the a link is created out of the magnet.\n        // Or string `onleave` so the link is created when the pointer leaves the magnet\n        magnetThreshold: 0,\n\n        // Rendering Options\n\n        sorting: sortingTypes.EXACT,\n\n        frozen: false,\n\n        // no docs yet\n        onViewUpdate: function(view, flag, priority, opt, paper) {\n            if ((flag & view.FLAG_INSERT) || opt.mounting) return;\n            paper.requestConnectedLinksUpdate(view, priority, opt);\n        },\n\n        // no docs yet\n        onViewPostponed: function(view, flag, paper) {\n            return paper.forcePostponedViewUpdate(view, flag);\n        },\n\n        beforeRender: null, // function(opt, paper) { },\n\n        afterRender: null, // function(stats, opt, paper) {\n\n        viewport: null,\n\n        // Default namespaces\n\n        cellViewNamespace: null,\n\n        highlighterNamespace: highlighters,\n\n        anchorNamespace: anchors,\n\n        linkAnchorNamespace: linkAnchors,\n\n        connectionPointNamespace: connectionPoints\n    },\n\n    events: {\n        'dblclick': 'pointerdblclick',\n        'contextmenu': 'contextmenu',\n        'mousedown': 'pointerdown',\n        'touchstart': 'pointerdown',\n        'mouseover': 'mouseover',\n        'mouseout': 'mouseout',\n        'mouseenter': 'mouseenter',\n        'mouseleave': 'mouseleave',\n        'mousewheel': 'mousewheel',\n        'DOMMouseScroll': 'mousewheel',\n        'mouseenter .joint-cell': 'mouseenter',\n        'mouseleave .joint-cell': 'mouseleave',\n        'mouseenter .joint-tools': 'mouseenter',\n        'mouseleave .joint-tools': 'mouseleave',\n        'mousedown .joint-cell [event]': 'onevent', // interaction with cell with `event` attribute set\n        'touchstart .joint-cell [event]': 'onevent',\n        'mousedown .joint-cell [magnet]': 'onmagnet', // interaction with cell with `magnet` attribute set\n        'touchstart .joint-cell [magnet]': 'onmagnet',\n        'dblclick .joint-cell [magnet]': 'magnetpointerdblclick',\n        'contextmenu .joint-cell [magnet]': 'magnetcontextmenu',\n        'mousedown .joint-link .label': 'onlabel', // interaction with link label\n        'touchstart .joint-link .label': 'onlabel',\n        'dragstart .joint-cell image': 'onImageDragStart' // firefox fix\n    },\n\n    documentEvents: {\n        'mousemove': 'pointermove',\n        'touchmove': 'pointermove',\n        'mouseup': 'pointerup',\n        'touchend': 'pointerup',\n        'touchcancel': 'pointerup'\n    },\n\n    svg: null,\n    viewport: null,\n    defs: null,\n    tools: null,\n    $background: null,\n    layers: null,\n    $grid: null,\n    $document: null,\n\n    _zPivots: null,\n    // For storing the current transformation matrix (CTM) of the paper's viewport.\n    _viewportMatrix: null,\n    // For verifying whether the CTM is up-to-date. The viewport transform attribute\n    // could have been manipulated directly.\n    _viewportTransformString: null,\n    // Updates data (priorities, unmounted views etc.)\n    _updates: null,\n    // Paper Layers\n    _layers: null,\n\n    SORT_DELAYING_BATCHES: ['add', 'to-front', 'to-back'],\n    UPDATE_DELAYING_BATCHES: ['translate'],\n    MIN_SCALE: 1e-6,\n\n    init: function() {\n\n        const { options, el } = this;\n        if (!options.cellViewNamespace) {\n            /* global joint: true */\n            options.cellViewNamespace = typeof joint !== 'undefined' && has(joint, 'shapes') ? joint.shapes : null;\n            /* global joint: false */\n        }\n\n        const model = this.model = options.model || new Graph;\n\n        // Layers (SVGGroups)\n        // TODO: layer classes\n        this._layers = {};\n\n        this.setGrid(options.drawGrid);\n        this.cloneOptions();\n        this.render();\n        this.setDimensions();\n        this.startListening();\n\n        // Hash of all cell views.\n        this._views = {};\n        // z-index pivots\n        this._zPivots = {};\n        // Reference to the paper owner document\n        this.$document = $(el.ownerDocument);\n        // Render existing cells in the graph\n        this.resetViews(model.attributes.cells.models);\n        // Start the Rendering Loop\n        if (!this.isFrozen() && this.isAsync()) this.updateViewsAsync();\n    },\n\n    _resetUpdates: function() {\n        return this._updates = {\n            id: null,\n            priorities: [{}, {}, {}],\n            unmountedCids: [],\n            mountedCids: [],\n            unmounted: {},\n            mounted: {},\n            count: 0,\n            keyFrozen: false,\n            freezeKey: null,\n            sort: false\n        };\n    },\n\n    startListening: function() {\n        var model = this.model;\n        this.listenTo(model, 'add', this.onCellAdded)\n            .listenTo(model, 'remove', this.onCellRemoved)\n            .listenTo(model, 'change', this.onCellChange)\n            .listenTo(model, 'reset', this.onGraphReset)\n            .listenTo(model, 'sort', this.onGraphSort)\n            .listenTo(model, 'batch:stop', this.onGraphBatchStop);\n        this.on('cell:highlight', this.onCellHighlight)\n            .on('cell:unhighlight', this.onCellUnhighlight)\n            .on('scale translate', this.update);\n    },\n\n    onCellAdded: function(cell, _, opt) {\n        var position = opt.position;\n        if (this.isAsync() || !isNumber(position)) {\n            this.renderView(cell, opt);\n        } else {\n            if (opt.maxPosition === position) this.freeze({ key: 'addCells' });\n            this.renderView(cell, opt);\n            if (position === 0) this.unfreeze({ key: 'addCells' });\n        }\n    },\n\n    onCellRemoved: function(cell, _, opt) {\n        const view = this.findViewByModel(cell);\n        if (view) this.requestViewUpdate(view, view.FLAG_REMOVE, view.UPDATE_PRIORITY, opt);\n    },\n\n    onCellChange: function(cell, opt) {\n        if (cell === this.model.attributes.cells) return;\n        if (cell.hasChanged('z') && this.options.sorting === sortingTypes.APPROX) {\n            const view = this.findViewByModel(cell);\n            if (view) this.requestViewUpdate(view, view.FLAG_INSERT, view.UPDATE_PRIORITY, opt);\n        }\n    },\n\n    onGraphReset: function(collection, opt) {\n        this.removeZPivots();\n        this.resetViews(collection.models, opt);\n    },\n\n    onGraphSort: function() {\n        if (this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)) return;\n        this.sortViews();\n    },\n\n    onGraphBatchStop: function(data) {\n        if (this.isFrozen()) return;\n        var name = data && data.batchName;\n        var graph = this.model;\n        if (!this.isAsync()) {\n            var updateDelayingBatches = this.UPDATE_DELAYING_BATCHES;\n            if (updateDelayingBatches.includes(name) && !graph.hasActiveBatch(updateDelayingBatches)) {\n                this.updateViews(data);\n            }\n        }\n        var sortDelayingBatches = this.SORT_DELAYING_BATCHES;\n        if (sortDelayingBatches.includes(name) && !graph.hasActiveBatch(sortDelayingBatches)) {\n            this.sortViews();\n        }\n    },\n\n    cloneOptions: function() {\n\n        const { options } = this;\n        const {\n            defaultConnector,\n            defaultRouter,\n            defaultConnectionPoint,\n            defaultAnchor,\n            defaultLinkAnchor,\n            origin,\n            highlighting,\n            cellViewNamespace,\n            interactive\n        } = options;\n\n        // Default cellView namespace for ES5\n        /* global joint: true */\n        if (!cellViewNamespace && typeof joint !== 'undefined' && has(joint, 'shapes')) {\n            options.cellViewNamespace = joint.shapes;\n        }\n        /* global joint: false */\n\n        // Here if a function was provided, we can not clone it, as this would result in loosing the function.\n        // If the default is used, the cloning is necessary in order to prevent modifying the options on prototype.\n        if (!isFunction(defaultConnector)) {\n            options.defaultConnector = cloneDeep(defaultConnector);\n        }\n        if (!isFunction(defaultRouter)) {\n            options.defaultRouter = cloneDeep(defaultRouter);\n        }\n        if (!isFunction(defaultConnectionPoint)) {\n            options.defaultConnectionPoint = cloneDeep(defaultConnectionPoint);\n        }\n        if (!isFunction(defaultAnchor)) {\n            options.defaultAnchor = cloneDeep(defaultAnchor);\n        }\n        if (!isFunction(defaultLinkAnchor)) {\n            options.defaultLinkAnchor = cloneDeep(defaultLinkAnchor);\n        }\n        if (isPlainObject(interactive)) {\n            options.interactive = assign({}, interactive);\n        }\n        if (isPlainObject(highlighting)) {\n            // Return the default highlighting options into the user specified options.\n            options.highlighting = defaultsDeep({}, highlighting, defaultHighlighting);\n        }\n        options.origin = assign({}, origin);\n    },\n\n    children: function() {\n        var ns = V.namespace;\n        return [{\n            namespaceURI: ns.xhtml,\n            tagName: 'div',\n            className: addClassNamePrefix('paper-background'),\n            selector: 'background'\n        }, {\n            namespaceURI: ns.xhtml,\n            tagName: 'div',\n            className: addClassNamePrefix('paper-grid'),\n            selector: 'grid'\n        }, {\n            namespaceURI: ns.svg,\n            tagName: 'svg',\n            attributes: {\n                'width': '100%',\n                'height': '100%',\n                'xmlns:xlink': ns.xlink\n            },\n            selector: 'svg',\n            children: [{\n                // Append `<defs>` element to the SVG document. This is useful for filters and gradients.\n                // It's desired to have the defs defined before the viewport (e.g. to make a PDF document pick up defs properly).\n                tagName: 'defs',\n                selector: 'defs'\n            }, {\n                tagName: 'g',\n                className: addClassNamePrefix('layers'),\n                selector: 'layers',\n                children: [{\n                    tagName: 'g',\n                    className: addClassNamePrefix('back-layer'),\n                    selector: 'back',\n                }, {\n                    tagName: 'g',\n                    className: addClassNamePrefix('cells-layer viewport'),\n                    selector: 'cells',\n                }, {\n                    tagName: 'g',\n                    className: addClassNamePrefix('front-layer'),\n                    selector: 'front',\n                }, {\n                    tagName: 'g',\n                    className: addClassNamePrefix('tools-layer'),\n                    selector: 'tools'\n                }]\n            }]\n        }];\n    },\n\n    getLayerNode(layerName) {\n        const { _layers } = this;\n        if (layerName in _layers) return _layers[layerName];\n        throw new Error(`dia.Paper: Unknown layer \"${layerName}\"`);\n    },\n\n    render: function() {\n\n        this.renderChildren();\n        const { childNodes, options } = this;\n        const { svg, cells, defs, tools, layers, back, front, background, grid } = childNodes;\n\n        this.svg = svg;\n        this.defs = defs;\n        this.tools = tools;\n        this.cells = cells;\n        this.layers = layers;\n        this.$background = $(background);\n        this.$grid = $(grid);\n\n        assign(this._layers, {\n            [LayersNames.BACK]: back,\n            [LayersNames.CELLS]: cells,\n            [LayersNames.FRONT]: front,\n            [LayersNames.TOOLS]: tools\n        });\n\n        V.ensureId(svg);\n\n        // backwards compatibility\n        this.viewport = cells;\n\n        if (options.background) {\n            this.drawBackground(options.background);\n        }\n\n        if (options.drawGrid) {\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    update: function() {\n\n        if (this.options.drawGrid) {\n            this.drawGrid();\n        }\n\n        if (this._background) {\n            this.updateBackgroundImage(this._background);\n        }\n\n        return this;\n    },\n\n    matrix: function(ctm) {\n\n        var viewport = this.layers;\n\n        // Getter:\n        if (ctm === undefined) {\n\n            var transformString = viewport.getAttribute('transform');\n\n            if ((this._viewportTransformString || null) === transformString) {\n                // It's ok to return the cached matrix. The transform attribute has not changed since\n                // the matrix was stored.\n                ctm = this._viewportMatrix;\n            } else {\n                // The viewport transform attribute has changed. Measure the matrix and cache again.\n                ctm = viewport.getCTM();\n                this._viewportMatrix = ctm;\n                this._viewportTransformString = transformString;\n            }\n\n            // Clone the cached current transformation matrix.\n            // If no matrix previously stored the identity matrix is returned.\n            return V.createSVGMatrix(ctm);\n        }\n\n        // Setter:\n        ctm = V.createSVGMatrix(ctm);\n        var ctmString = V.matrixToTransformString(ctm);\n        viewport.setAttribute('transform', ctmString);\n\n        this._viewportMatrix = ctm;\n        this._viewportTransformString = viewport.getAttribute('transform');\n\n        return this;\n    },\n\n    clientMatrix: function() {\n\n        return V.createSVGMatrix(this.cells.getScreenCTM());\n    },\n\n    requestConnectedLinksUpdate: function(view, priority, opt) {\n        if (view instanceof CellView) {\n            var model = view.model;\n            var links = this.model.getConnectedLinks(model);\n            for (var j = 0, n = links.length; j < n; j++) {\n                var link = links[j];\n                var linkView = this.findViewByModel(link);\n                if (!linkView) continue;\n                var flagLabels = ['UPDATE'];\n                if (link.getTargetCell() === model) flagLabels.push('TARGET');\n                if (link.getSourceCell() === model) flagLabels.push('SOURCE');\n                var nextPriority = Math.max(priority + 1, linkView.UPDATE_PRIORITY);\n                this.scheduleViewUpdate(linkView, linkView.getFlag(flagLabels), nextPriority, opt);\n            }\n        }\n    },\n\n    forcePostponedViewUpdate: function(view, flag) {\n        if (!view || !(view instanceof CellView)) return false;\n        var model = view.model;\n        if (model.isElement()) return false;\n        if ((flag & view.getFlag(['SOURCE', 'TARGET'])) === 0) {\n            // LinkView is waiting for the target or the source cellView to be rendered\n            // This can happen when the cells are not in the viewport.\n            var sourceFlag = 0;\n            var sourceView = this.findViewByModel(model.getSourceCell());\n            if (sourceView && !this.isViewMounted(sourceView)) {\n                sourceFlag = this.dumpView(sourceView);\n                view.updateEndMagnet('source');\n            }\n            var targetFlag = 0;\n            var targetView = this.findViewByModel(model.getTargetCell());\n            if (targetView && !this.isViewMounted(targetView)) {\n                targetFlag = this.dumpView(targetView);\n                view.updateEndMagnet('target');\n            }\n            if (sourceFlag === 0 && targetFlag === 0) {\n                // If leftover flag is 0, all view updates were done.\n                return !this.dumpView(view);\n            }\n        }\n        return false;\n    },\n\n    requestViewUpdate: function(view, flag, priority, opt) {\n        opt || (opt = {});\n        this.scheduleViewUpdate(view, flag, priority, opt);\n        var isAsync = this.isAsync();\n        if (this.isFrozen() || (isAsync && opt.async !== false)) return;\n        if (this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)) return;\n        var stats = this.updateViews(opt);\n        if (isAsync) this.notifyAfterRender(stats, opt);\n    },\n\n    scheduleViewUpdate: function(view, type, priority, opt) {\n        const { _updates: updates, options } = this;\n        const { FLAG_REMOVE, FLAG_INSERT, UPDATE_PRIORITY, cid } = view;\n        let priorityUpdates = updates.priorities[priority];\n        if (!priorityUpdates) priorityUpdates = updates.priorities[priority] = {};\n        // Move higher priority updates to this priority\n        if (priority > UPDATE_PRIORITY) {\n            // Not the default priority for this view. It's most likely a link view\n            // connected to another link view, which triggered the update.\n            // TODO: If there is an update scheduled with a lower priority already, we should\n            // change the requested priority to the lowest one. Does not seem to be critical\n            // right now, as it \"only\" results in multiple updates on the same view.\n            for (let i = priority - 1; i >= UPDATE_PRIORITY; i--) {\n                const prevPriorityUpdates = updates.priorities[i];\n                if (!prevPriorityUpdates || !(cid in prevPriorityUpdates)) continue;\n                priorityUpdates[cid] |= prevPriorityUpdates[cid];\n                delete prevPriorityUpdates[cid];\n            }\n        }\n        let currentType = priorityUpdates[cid] || 0;\n        // Prevent cycling\n        if ((currentType & type) === type) return;\n        if (!currentType) updates.count++;\n        if (type & FLAG_REMOVE && currentType & FLAG_INSERT) {\n            // When a view is removed we need to remove the insert flag as this is a reinsert\n            priorityUpdates[cid] ^= FLAG_INSERT;\n        } else if (type & FLAG_INSERT && currentType & FLAG_REMOVE) {\n            // When a view is added we need to remove the remove flag as this is view was previously removed\n            priorityUpdates[cid] ^= FLAG_REMOVE;\n        }\n        priorityUpdates[cid] |= type;\n        const viewUpdateFn = options.onViewUpdate;\n        if (typeof viewUpdateFn === 'function') viewUpdateFn.call(this, view, type, priority, opt || {}, this);\n    },\n\n    dumpViewUpdate: function(view) {\n        if (!view) return 0;\n        var updates = this._updates;\n        var cid = view.cid;\n        var priorityUpdates = updates.priorities[view.UPDATE_PRIORITY];\n        var flag = this.registerMountedView(view) | priorityUpdates[cid];\n        delete priorityUpdates[cid];\n        return flag;\n    },\n\n    dumpView: function(view, opt) {\n        var flag = this.dumpViewUpdate(view);\n        if (!flag) return 0;\n        return this.updateView(view, flag, opt);\n    },\n\n    updateView: function(view, flag, opt) {\n        if (!view) return 0;\n        const { FLAG_REMOVE, FLAG_INSERT, model } = view;\n        if (view instanceof CellView) {\n            if (flag & FLAG_REMOVE) {\n                this.removeView(model);\n                return 0;\n            }\n            if (flag & FLAG_INSERT) {\n                this.insertView(view);\n                flag ^= FLAG_INSERT;\n            }\n        }\n        if (!flag) return 0;\n        return view.confirmUpdate(flag, opt || {});\n    },\n\n    requireView: function(model, opt) {\n        var view = this.findViewByModel(model);\n        if (!view) return null;\n        this.dumpView(view, opt);\n        return view;\n    },\n\n    registerUnmountedView: function(view) {\n        var cid = view.cid;\n        var updates = this._updates;\n        if (cid in updates.unmounted) return 0;\n        var flag = updates.unmounted[cid] |= view.FLAG_INSERT;\n        updates.unmountedCids.push(cid);\n        delete updates.mounted[cid];\n        return flag;\n    },\n\n    registerMountedView: function(view) {\n        var cid = view.cid;\n        var updates = this._updates;\n        if (cid in updates.mounted) return 0;\n        updates.mounted[cid] = true;\n        updates.mountedCids.push(cid);\n        var flag = updates.unmounted[cid] || 0;\n        delete updates.unmounted[cid];\n        return flag;\n    },\n\n    isViewMounted: function(view) {\n        if (!view) return false;\n        var cid = view.cid;\n        var updates = this._updates;\n        return (cid in updates.mounted);\n    },\n\n    dumpViews: function(opt) {\n        var passingOpt = defaults({}, opt, { viewport: null });\n        this.checkViewport(passingOpt);\n        this.updateViews(passingOpt);\n    },\n\n    // Synchronous views update\n    updateViews: function(opt) {\n        this.notifyBeforeRender(opt);\n        let batchStats;\n        let updateCount = 0;\n        let batchCount = 0;\n        let priority = MIN_PRIORITY;\n        do {\n            batchCount++;\n            batchStats = this.updateViewsBatch(opt);\n            updateCount += batchStats.updated;\n            priority = Math.min(batchStats.priority, priority);\n        } while (!batchStats.empty);\n        const stats = { updated: updateCount, batches: batchCount, priority };\n        this.notifyAfterRender(stats, opt);\n        return stats;\n    },\n\n    hasScheduledUpdates: function() {\n        const priorities = this._updates.priorities;\n        const priorityIndexes = Object.keys(priorities); // convert priorities to a dense array\n        let i = priorityIndexes.length;\n        while (i > 0 && i--) {\n            // a faster way how to check if an object is empty\n            for (let _key in priorities[priorityIndexes[i]]) return true;\n        }\n        return false;\n    },\n\n    updateViewsAsync: function(opt, data) {\n        opt || (opt = {});\n        data || (data = { processed: 0, priority: MIN_PRIORITY });\n        var updates = this._updates;\n        var id = updates.id;\n        if (id) {\n            cancelFrame(id);\n            if (data.processed === 0 && this.hasScheduledUpdates()) {\n                this.notifyBeforeRender(opt);\n            }\n            var stats = this.updateViewsBatch(opt);\n            var passingOpt = defaults({}, opt, {\n                mountBatchSize: MOUNT_BATCH_SIZE - stats.mounted,\n                unmountBatchSize: MOUNT_BATCH_SIZE - stats.unmounted\n            });\n            var checkStats = this.checkViewport(passingOpt);\n            var unmountCount = checkStats.unmounted;\n            var mountCount = checkStats.mounted;\n            var processed = data.processed;\n            var total = updates.count;\n            if (stats.updated > 0) {\n                // Some updates have been just processed\n                processed += stats.updated + stats.unmounted;\n                stats.processed = processed;\n                data.priority = Math.min(stats.priority, data.priority);\n                if (stats.empty && mountCount === 0) {\n                    stats.unmounted += unmountCount;\n                    stats.mounted += mountCount;\n                    stats.priority = data.priority;\n                    this.notifyAfterRender(stats, opt);\n                    data.processed = 0;\n                    updates.count = 0;\n                } else {\n                    data.processed = processed;\n                }\n            }\n            // Progress callback\n            var progressFn = opt.progress;\n            if (total && typeof progressFn === 'function') {\n                progressFn.call(this, stats.empty, processed, total, stats, this);\n            }\n            // The current frame could have been canceled in a callback\n            if (updates.id !== id) return;\n        }\n        updates.id = nextFrame(this.updateViewsAsync, this, opt, data);\n    },\n\n    notifyBeforeRender: function(opt = {}) {\n        let beforeFn = opt.beforeRender;\n        if (typeof beforeFn !== 'function') {\n            beforeFn = this.options.beforeRender;\n            if (typeof beforeFn !== 'function') return;\n        }\n        beforeFn.call(this, opt, this);\n    },\n\n    notifyAfterRender: function(stats, opt = {}) {\n        let afterFn = opt.afterRender;\n        if (typeof afterFn !== 'function') {\n            afterFn = this.options.afterRender;\n        }\n        if (typeof afterFn === 'function') {\n            afterFn.call(this, stats, opt, this);\n        }\n        this.trigger('render:done', stats, opt);\n    },\n\n    updateViewsBatch: function(opt) {\n        opt || (opt = {});\n        var batchSize = opt.batchSize || UPDATE_BATCH_SIZE;\n        var updates = this._updates;\n        var updateCount = 0;\n        var postponeCount = 0;\n        var unmountCount = 0;\n        var mountCount = 0;\n        var maxPriority = MIN_PRIORITY;\n        var empty = true;\n        var options = this.options;\n        var priorities = updates.priorities;\n        var viewportFn = 'viewport' in opt ? opt.viewport : options.viewport;\n        if (typeof viewportFn !== 'function') viewportFn = null;\n        var postponeViewFn = options.onViewPostponed;\n        if (typeof postponeViewFn !== 'function') postponeViewFn = null;\n        var priorityIndexes = Object.keys(priorities); // convert priorities to a dense array\n        main: for (var i = 0, n = priorityIndexes.length; i < n; i++) {\n            var priority = priorityIndexes[i];\n            var priorityUpdates = priorities[priority];\n            for (var cid in priorityUpdates) {\n                if (updateCount >= batchSize) {\n                    empty = false;\n                    break main;\n                }\n                var view = views[cid];\n                if (!view) {\n                    // This should not occur\n                    delete priorityUpdates[cid];\n                    continue;\n                }\n                var currentFlag = priorityUpdates[cid];\n                if ((currentFlag & view.FLAG_REMOVE) === 0) {\n                    // We should never check a view for viewport if we are about to remove the view\n                    var isDetached = cid in updates.unmounted;\n                    if (view.DETACHABLE && viewportFn && !viewportFn.call(this, view, !isDetached, this)) {\n                        // Unmount View\n                        if (!isDetached) {\n                            this.registerUnmountedView(view);\n                            view.unmount();\n                        }\n                        updates.unmounted[cid] |= currentFlag;\n                        delete priorityUpdates[cid];\n                        unmountCount++;\n                        continue;\n                    }\n                    // Mount View\n                    if (isDetached) {\n                        currentFlag |= view.FLAG_INSERT;\n                        mountCount++;\n                    }\n                    currentFlag |= this.registerMountedView(view);\n                }\n                var leftoverFlag = this.updateView(view, currentFlag, opt);\n                if (leftoverFlag > 0) {\n                    // View update has not finished completely\n                    priorityUpdates[cid] = leftoverFlag;\n                    if (!postponeViewFn || !postponeViewFn.call(this, view, leftoverFlag, this) || priorityUpdates[cid]) {\n                        postponeCount++;\n                        empty = false;\n                        continue;\n                    }\n                }\n                if (maxPriority > priority) maxPriority = priority;\n                updateCount++;\n                delete priorityUpdates[cid];\n            }\n        }\n        return {\n            priority: maxPriority,\n            updated: updateCount,\n            postponed: postponeCount,\n            unmounted: unmountCount,\n            mounted: mountCount,\n            empty: empty\n        };\n    },\n\n    getUnmountedViews: function() {\n        const updates = this._updates;\n        const unmountedCids = Object.keys(updates.unmounted);\n        const n = unmountedCids.length;\n        const unmountedViews = new Array(n);\n        for (var i = 0; i < n; i++) {\n            unmountedViews[i] = views[unmountedCids[i]];\n        }\n        return unmountedViews;\n    },\n\n    getMountedViews: function() {\n        const updates = this._updates;\n        const mountedCids = Object.keys(updates.mounted);\n        const n = mountedCids.length;\n        const mountedViews = new Array(n);\n        for (var i = 0; i < n; i++) {\n            mountedViews[i] = views[mountedCids[i]];\n        }\n        return mountedViews;\n    },\n\n    checkUnmountedViews: function(viewportFn, opt) {\n        opt || (opt  = {});\n        var mountCount = 0;\n        if (typeof viewportFn !== 'function') viewportFn = null;\n        var batchSize = 'mountBatchSize' in opt ? opt.mountBatchSize : Infinity;\n        var updates = this._updates;\n        var unmountedCids = updates.unmountedCids;\n        var unmounted = updates.unmounted;\n        for (var i = 0, n = Math.min(unmountedCids.length, batchSize); i < n; i++) {\n            var cid = unmountedCids[i];\n            if (!(cid in unmounted)) continue;\n            var view = views[cid];\n            if (!view) continue;\n            if (view.DETACHABLE && viewportFn && !viewportFn.call(this, view, false, this)) {\n                // Push at the end of all unmounted ids, so this can be check later again\n                unmountedCids.push(cid);\n                continue;\n            }\n            mountCount++;\n            var flag = this.registerMountedView(view);\n            if (flag) this.scheduleViewUpdate(view, flag, view.UPDATE_PRIORITY, { mounting: true });\n        }\n        // Get rid of views, that have been mounted\n        unmountedCids.splice(0, i);\n        return mountCount;\n    },\n\n    checkMountedViews: function(viewportFn, opt) {\n        opt || (opt = {});\n        var unmountCount = 0;\n        if (typeof viewportFn !== 'function') return unmountCount;\n        var batchSize = 'unmountBatchSize' in opt ? opt.unmountBatchSize : Infinity;\n        var updates = this._updates;\n        var mountedCids = updates.mountedCids;\n        var mounted = updates.mounted;\n        for (var i = 0, n = Math.min(mountedCids.length, batchSize); i < n; i++) {\n            var cid = mountedCids[i];\n            if (!(cid in mounted)) continue;\n            var view = views[cid];\n            if (!view) continue;\n            if (!view.DETACHABLE || viewportFn.call(this, view, true, this)) {\n                // Push at the end of all mounted ids, so this can be check later again\n                mountedCids.push(cid);\n                continue;\n            }\n            unmountCount++;\n            var flag = this.registerUnmountedView(view);\n            if (flag) view.unmount();\n        }\n        // Get rid of views, that have been unmounted\n        mountedCids.splice(0, i);\n        return unmountCount;\n    },\n\n    checkViewport: function(opt) {\n        var passingOpt = defaults({}, opt, {\n            mountBatchSize: Infinity,\n            unmountBatchSize: Infinity\n        });\n        var viewportFn = 'viewport' in passingOpt ? passingOpt.viewport : this.options.viewport;\n        var unmountedCount = this.checkMountedViews(viewportFn, passingOpt);\n        if (unmountedCount > 0) {\n            // Do not check views, that have been just unmounted and pushed at the end of the cids array\n            var unmountedCids = this._updates.unmountedCids;\n            passingOpt.mountBatchSize = Math.min(unmountedCids.length - unmountedCount, passingOpt.mountBatchSize);\n        }\n        var mountedCount = this.checkUnmountedViews(viewportFn, passingOpt);\n        return {\n            mounted: mountedCount,\n            unmounted: unmountedCount\n        };\n    },\n\n    freeze: function(opt) {\n        opt || (opt = {});\n        var updates = this._updates;\n        var key = opt.key;\n        var isFrozen = this.options.frozen;\n        var freezeKey = updates.freezeKey;\n        if (key && key !== freezeKey)  {\n            // key passed, but the paper is already freezed with another key\n            if (isFrozen && freezeKey) return;\n            updates.freezeKey = key;\n            updates.keyFrozen = isFrozen;\n        }\n        this.options.frozen = true;\n        var id = updates.id;\n        updates.id = null;\n        if (this.isAsync() && id) cancelFrame(id);\n    },\n\n    unfreeze: function(opt) {\n        opt || (opt = {});\n        var updates = this._updates;\n        var key = opt.key;\n        var freezeKey = updates.freezeKey;\n        // key passed, but the paper is already freezed with another key\n        if (key && freezeKey && key !== freezeKey) return;\n        updates.freezeKey = null;\n        // key passed, but the paper is already freezed\n        if (key && key === freezeKey && updates.keyFrozen) return;\n        if (this.isAsync()) {\n            this.freeze();\n            this.updateViewsAsync(opt);\n        } else {\n            this.updateViews(opt);\n        }\n        this.options.frozen = updates.keyFrozen = false;\n        if (updates.sort) {\n            this.sortViews();\n            updates.sort = false;\n        }\n    },\n\n    isAsync: function() {\n        return !!this.options.async;\n    },\n\n    isFrozen: function() {\n        return !!this.options.frozen;\n    },\n\n    isExactSorting: function() {\n        return this.options.sorting === sortingTypes.EXACT;\n    },\n\n    onRemove: function() {\n\n        this.freeze();\n        //clean up all DOM elements/views to prevent memory leaks\n        this.removeViews();\n    },\n\n    getComputedSize: function() {\n\n        var options = this.options;\n        var w = options.width;\n        var h = options.height;\n        if (!isNumber(w)) w = this.el.clientWidth;\n        if (!isNumber(h)) h = this.el.clientHeight;\n        return { width: w, height: h };\n    },\n\n    setDimensions: function(width, height) {\n\n        var options = this.options;\n        var w = (width === undefined) ? options.width : width;\n        var h = (height === undefined) ? options.height : height;\n        this.options.width = w;\n        this.options.height = h;\n        if (isNumber(w)) w = Math.round(w);\n        if (isNumber(h)) h = Math.round(h);\n        this.$el.css({\n            width: (w === null) ? '' : w,\n            height: (h === null) ? '' : h\n        });\n        var computedSize = this.getComputedSize();\n        this.trigger('resize', computedSize.width, computedSize.height);\n    },\n\n    setOrigin: function(ox, oy) {\n\n        return this.translate(ox || 0, oy || 0, { absolute: true });\n    },\n\n    // Expand/shrink the paper to fit the content. Snap the width/height to the grid\n    // defined in `gridWidth`, `gridHeight`. `padding` adds to the resulting width/height of the paper.\n    // When options { fitNegative: true } it also translates the viewport in order to make all\n    // the content visible.\n    fitToContent: function(gridWidth, gridHeight, padding, opt) { // alternatively function(opt)\n\n        if (isObject(gridWidth)) {\n            // first parameter is an option object\n            opt = gridWidth;\n            gridWidth = opt.gridWidth || 1;\n            gridHeight = opt.gridHeight || 1;\n            padding = opt.padding || 0;\n\n        } else {\n\n            opt || (opt = {});\n            gridWidth = gridWidth || 1;\n            gridHeight = gridHeight || 1;\n            padding = padding || 0;\n        }\n\n        // Calculate the paper size to accomodate all the graph's elements.\n\n        padding = normalizeSides(padding);\n\n        var area = ('contentArea' in opt) ? new Rect(opt.contentArea) : this.getContentArea(opt);\n\n        var currentScale = this.scale();\n        var currentTranslate = this.translate();\n        var sx = currentScale.sx;\n        var sy = currentScale.sy;\n\n        area.x *= sx;\n        area.y *= sy;\n        area.width *= sx;\n        area.height *= sy;\n\n        var calcWidth = Math.max(Math.ceil((area.width + area.x) / gridWidth), 1) * gridWidth;\n        var calcHeight = Math.max(Math.ceil((area.height + area.y) / gridHeight), 1) * gridHeight;\n\n        var tx = 0;\n        var ty = 0;\n\n        if ((opt.allowNewOrigin == 'negative' && area.x < 0) || (opt.allowNewOrigin == 'positive' && area.x >= 0) || opt.allowNewOrigin == 'any') {\n            tx = Math.ceil(-area.x / gridWidth) * gridWidth;\n            tx += padding.left;\n            calcWidth += tx;\n        }\n\n        if ((opt.allowNewOrigin == 'negative' && area.y < 0) || (opt.allowNewOrigin == 'positive' && area.y >= 0) || opt.allowNewOrigin == 'any') {\n            ty = Math.ceil(-area.y / gridHeight) * gridHeight;\n            ty += padding.top;\n            calcHeight += ty;\n        }\n\n        calcWidth += padding.right;\n        calcHeight += padding.bottom;\n\n        // Make sure the resulting width and height are greater than minimum.\n        calcWidth = Math.max(calcWidth, opt.minWidth || 0);\n        calcHeight = Math.max(calcHeight, opt.minHeight || 0);\n\n        // Make sure the resulting width and height are lesser than maximum.\n        calcWidth = Math.min(calcWidth, opt.maxWidth || Number.MAX_VALUE);\n        calcHeight = Math.min(calcHeight, opt.maxHeight || Number.MAX_VALUE);\n\n        var computedSize = this.getComputedSize();\n        var dimensionChange = calcWidth != computedSize.width || calcHeight != computedSize.height;\n        var originChange = tx != currentTranslate.tx || ty != currentTranslate.ty;\n\n        // Change the dimensions only if there is a size discrepency or an origin change\n        if (originChange) {\n            this.translate(tx, ty);\n        }\n        if (dimensionChange) {\n            this.setDimensions(calcWidth, calcHeight);\n        }\n\n        return new Rect(-tx / sx, -ty / sy, calcWidth / sx, calcHeight / sy);\n    },\n\n    scaleContentToFit: function(opt) {\n\n        opt || (opt = {});\n\n        var contentBBox, contentLocalOrigin;\n        if ('contentArea' in opt) {\n            var contentArea = opt.contentArea;\n            contentBBox = this.localToPaperRect(contentArea);\n            contentLocalOrigin = new Point(contentArea);\n        } else {\n            contentBBox = this.getContentBBox(opt);\n            contentLocalOrigin = this.paperToLocalPoint(contentBBox);\n        }\n\n        if (!contentBBox.width || !contentBBox.height) return;\n\n        defaults(opt, {\n            padding: 0,\n            preserveAspectRatio: true,\n            scaleGrid: null,\n            minScale: 0,\n            maxScale: Number.MAX_VALUE\n            //minScaleX\n            //minScaleY\n            //maxScaleX\n            //maxScaleY\n            //fittingBBox\n        });\n\n        var padding = normalizeSides(opt.padding);\n\n        var minScaleX = opt.minScaleX || opt.minScale;\n        var maxScaleX = opt.maxScaleX || opt.maxScale;\n        var minScaleY = opt.minScaleY || opt.minScale;\n        var maxScaleY = opt.maxScaleY || opt.maxScale;\n\n        var fittingBBox;\n        if (opt.fittingBBox) {\n            fittingBBox = opt.fittingBBox;\n        } else {\n            var currentTranslate = this.translate();\n            var computedSize = this.getComputedSize();\n            fittingBBox = {\n                x: currentTranslate.tx,\n                y: currentTranslate.ty,\n                width: computedSize.width,\n                height: computedSize.height\n            };\n        }\n\n        fittingBBox = new Rect(fittingBBox).moveAndExpand({\n            x: padding.left,\n            y: padding.top,\n            width: -padding.left - padding.right,\n            height: -padding.top - padding.bottom\n        });\n\n        var currentScale = this.scale();\n\n        var newSx = fittingBBox.width / contentBBox.width * currentScale.sx;\n        var newSy = fittingBBox.height / contentBBox.height * currentScale.sy;\n\n        if (opt.preserveAspectRatio) {\n            newSx = newSy = Math.min(newSx, newSy);\n        }\n\n        // snap scale to a grid\n        if (opt.scaleGrid) {\n\n            var gridSize = opt.scaleGrid;\n\n            newSx = gridSize * Math.floor(newSx / gridSize);\n            newSy = gridSize * Math.floor(newSy / gridSize);\n        }\n\n        // scale min/max boundaries\n        newSx = Math.min(maxScaleX, Math.max(minScaleX, newSx));\n        newSy = Math.min(maxScaleY, Math.max(minScaleY, newSy));\n\n        var origin = this.options.origin;\n        var newOx = fittingBBox.x - contentLocalOrigin.x * newSx - origin.x;\n        var newOy = fittingBBox.y - contentLocalOrigin.y * newSy - origin.y;\n\n        this.scale(newSx, newSy);\n        this.translate(newOx, newOy);\n    },\n\n    // Return the dimensions of the content area in local units (without transformations).\n    getContentArea: function(opt) {\n\n        if (opt && opt.useModelGeometry) {\n            return this.model.getBBox() || new Rect();\n        }\n\n        return V(this.cells).getBBox();\n    },\n\n    // Return the dimensions of the content bbox in the paper units (as it appears on screen).\n    getContentBBox: function(opt) {\n\n        return this.localToPaperRect(this.getContentArea(opt));\n    },\n\n    // Returns a geometry rectangle representing the entire\n    // paper area (coordinates from the left paper border to the right one\n    // and the top border to the bottom one).\n    getArea: function() {\n\n        return this.paperToLocalRect(this.getComputedSize());\n    },\n\n    getRestrictedArea: function(...args) {\n\n        const { restrictTranslate } = this.options;\n\n        let restrictedArea;\n        if (isFunction(restrictTranslate)) {\n            // A method returning a bounding box\n            restrictedArea = restrictTranslate.apply(this, args);\n        } else if (restrictTranslate === true) {\n            // The paper area\n            restrictedArea = this.getArea();\n        } else if (!restrictTranslate) {\n            // falsy value\n            restrictedArea = null;\n        } else {\n            // any other value\n            restrictedArea = new Rect(restrictTranslate);\n        }\n\n        return restrictedArea;\n    },\n\n    createViewForModel: function(cell) {\n\n        // A class taken from the paper options.\n        var optionalViewClass;\n\n        // A default basic class (either dia.ElementView or dia.LinkView)\n        var defaultViewClass;\n\n        // A special class defined for this model in the corresponding namespace.\n        // e.g. joint.shapes.basic.Rect searches for joint.shapes.basic.RectView\n        var namespace = this.options.cellViewNamespace;\n        var type = cell.get('type') + 'View';\n        var namespaceViewClass = getByPath(namespace, type, '.');\n\n        if (cell.isLink()) {\n            optionalViewClass = this.options.linkView;\n            defaultViewClass = LinkView;\n        } else {\n            optionalViewClass = this.options.elementView;\n            defaultViewClass = ElementView;\n        }\n\n        // a) the paper options view is a class (deprecated)\n        //  1. search the namespace for a view\n        //  2. if no view was found, use view from the paper options\n        // b) the paper options view is a function\n        //  1. call the function from the paper options\n        //  2. if no view was return, search the namespace for a view\n        //  3. if no view was found, use the default\n        var ViewClass = (optionalViewClass.prototype instanceof Backbone.View)\n            ? namespaceViewClass || optionalViewClass\n            : optionalViewClass.call(this, cell) || namespaceViewClass || defaultViewClass;\n\n        return new ViewClass({\n            model: cell,\n            interactive: this.options.interactive\n        });\n    },\n\n    removeView: function(cell) {\n\n        const { id } = cell;\n        const { _views, _updates } = this;\n        const view = _views[id];\n        if (view) {\n            var { cid } = view;\n            const { mounted, unmounted } = _updates;\n            view.remove();\n            delete _views[id];\n            delete mounted[cid];\n            delete unmounted[cid];\n        }\n        return view;\n    },\n\n    renderView: function(cell, opt) {\n\n        var id = cell.id;\n        var views = this._views;\n        var view, flag;\n        if (id in views) {\n            view = views[id];\n            flag = view.FLAG_INSERT;\n        } else {\n            view = views[cell.id] = this.createViewForModel(cell);\n            view.paper = this;\n            flag = this.registerUnmountedView(view) | view.getFlag(view.initFlag);\n        }\n        this.requestViewUpdate(view, flag, view.UPDATE_PRIORITY, opt);\n        return view;\n    },\n\n    onImageDragStart: function() {\n        // This is the only way to prevent image dragging in Firefox that works.\n        // Setting -moz-user-select: none, draggable=\"false\" attribute or user-drag: none didn't help.\n\n        return false;\n    },\n\n    resetViews: function(cells, opt) {\n        opt || (opt = {});\n        cells || (cells = []);\n        this._resetUpdates();\n        // clearing views removes any event listeners\n        this.removeViews();\n        this.freeze({ key: 'reset' });\n        for (var i = 0, n = cells.length; i < n; i++) {\n            this.renderView(cells[i], opt);\n        }\n        this.unfreeze({ key: 'reset' });\n        this.sortViews();\n    },\n\n    removeViews: function() {\n\n        invoke(this._views, 'remove');\n\n        this._views = {};\n    },\n\n    sortViews: function() {\n\n        if (!this.isExactSorting()) {\n            // noop\n            return;\n        }\n        if (this.isFrozen()) {\n            // sort views once unfrozen\n            this._updates.sort = true;\n            return;\n        }\n        this.sortViewsExact();\n    },\n\n    sortViewsExact: function() {\n\n        // Run insertion sort algorithm in order to efficiently sort DOM elements according to their\n        // associated model `z` attribute.\n\n        var $cells = $(this.cells).children('[model-id]');\n        var cells = this.model.get('cells');\n\n        sortElements($cells, function(a, b) {\n            var cellA = cells.get(a.getAttribute('model-id'));\n            var cellB = cells.get(b.getAttribute('model-id'));\n            var zA = cellA.attributes.z || 0;\n            var zB = cellB.attributes.z || 0;\n            return (zA === zB) ? 0 : (zA < zB) ? -1 : 1;\n        });\n    },\n\n\n    insertView: function(view) {\n        var layer = this.cells;\n        switch (this.options.sorting) {\n            case sortingTypes.APPROX:\n                var z = view.model.get('z');\n                var pivot = this.addZPivot(z);\n                layer.insertBefore(view.el, pivot);\n                break;\n            case sortingTypes.EXACT:\n            default:\n                layer.appendChild(view.el);\n                break;\n        }\n    },\n\n    addZPivot: function(z) {\n        z = +z;\n        z || (z = 0);\n        var pivots = this._zPivots;\n        var pivot = pivots[z];\n        if (pivot) return pivot;\n        pivot = pivots[z] = document.createComment('z-index:' + (z + 1));\n        var neighborZ = -Infinity;\n        for (var currentZ in pivots) {\n            currentZ = +currentZ;\n            if (currentZ < z && currentZ > neighborZ) {\n                neighborZ = currentZ;\n                if (neighborZ === z - 1) continue;\n            }\n        }\n        var layer = this.cells;\n        if (neighborZ !== -Infinity) {\n            var neighborPivot = pivots[neighborZ];\n            // Insert After\n            layer.insertBefore(pivot, neighborPivot.nextSibling);\n        } else {\n            // First Child\n            layer.insertBefore(pivot, layer.firstChild);\n        }\n        return pivot;\n    },\n\n    removeZPivots: function() {\n        var { _zPivots: pivots, viewport } = this;\n        for (var z in pivots) viewport.removeChild(pivots[z]);\n        this._zPivots = {};\n    },\n\n    scale: function(sx, sy, ox, oy) {\n\n        // getter\n        if (sx === undefined) {\n            return V.matrixToScale(this.matrix());\n        }\n\n        // setter\n        if (sy === undefined) {\n            sy = sx;\n        }\n        if (ox === undefined) {\n            ox = 0;\n            oy = 0;\n        }\n\n        var translate = this.translate();\n\n        if (ox || oy || translate.tx || translate.ty) {\n            var newTx = translate.tx - ox * (sx - 1);\n            var newTy = translate.ty - oy * (sy - 1);\n            this.translate(newTx, newTy);\n        }\n\n        sx = Math.max(sx || 0, this.MIN_SCALE);\n        sy = Math.max(sy || 0, this.MIN_SCALE);\n\n        var ctm = this.matrix();\n        ctm.a = sx;\n        ctm.d = sy;\n\n        this.matrix(ctm);\n\n        this.trigger('scale', sx, sy, ox, oy);\n\n        return this;\n    },\n\n    // Experimental - do not use in production.\n    rotate: function(angle, cx, cy) {\n\n        // getter\n        if (angle === undefined) {\n            return V.matrixToRotate(this.matrix());\n        }\n\n        // setter\n\n        // If the origin is not set explicitely, rotate around the center. Note that\n        // we must use the plain bounding box (`this.el.getBBox()` instead of the one that gives us\n        // the real bounding box (`bbox()`) including transformations).\n        if (cx === undefined) {\n            var bbox = this.cells.getBBox();\n            cx = bbox.width / 2;\n            cy = bbox.height / 2;\n        }\n\n        var ctm = this.matrix().translate(cx, cy).rotate(angle).translate(-cx, -cy);\n        this.matrix(ctm);\n\n        return this;\n    },\n\n    translate: function(tx, ty) {\n\n        // getter\n        if (tx === undefined) {\n            return V.matrixToTranslate(this.matrix());\n        }\n\n        // setter\n\n        var ctm = this.matrix();\n        ctm.e = tx || 0;\n        ctm.f = ty || 0;\n\n        this.matrix(ctm);\n\n        var newTranslate = this.translate();\n        var origin = this.options.origin;\n        origin.x = newTranslate.tx;\n        origin.y = newTranslate.ty;\n\n        this.trigger('translate', newTranslate.tx, newTranslate.ty);\n\n        if (this.options.drawGrid) {\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    // Find the first view climbing up the DOM tree starting at element `el`. Note that `el` can also\n    // be a selector or a jQuery object.\n    findView: function($el) {\n\n        var el = isString($el)\n            ? this.cells.querySelector($el)\n            : $el instanceof $ ? $el[0] : $el;\n\n        var id = this.findAttribute('model-id', el);\n        if (id) return this._views[id];\n\n        return undefined;\n    },\n\n    // Find a view for a model `cell`. `cell` can also be a string or number representing a model `id`.\n    findViewByModel: function(cell) {\n\n        var id = (isString(cell) || isNumber(cell)) ? cell : (cell && cell.id);\n\n        return this._views[id];\n    },\n\n    // Find all views at given point\n    findViewsFromPoint: function(p) {\n\n        p = new Point(p);\n\n        var views = this.model.getElements().map(this.findViewByModel, this);\n\n        return views.filter(function(view) {\n            return view && view.vel.getBBox({ target: this.cells }).containsPoint(p);\n        }, this);\n    },\n\n    // Find all views in given area\n    findViewsInArea: function(rect, opt) {\n\n        opt = defaults(opt || {}, { strict: false });\n        rect = new Rect(rect);\n\n        var views = this.model.getElements().map(this.findViewByModel, this);\n        var method = opt.strict ? 'containsRect' : 'intersect';\n\n        return views.filter(function(view) {\n            return view && rect[method](view.vel.getBBox({ target: this.cells }));\n        }, this);\n    },\n\n    removeTools: function() {\n        this.dispatchToolsEvent('remove');\n        return this;\n    },\n\n    hideTools: function() {\n        this.dispatchToolsEvent('hide');\n        return this;\n    },\n\n    showTools: function() {\n        this.dispatchToolsEvent('show');\n        return this;\n    },\n\n    dispatchToolsEvent: function(event, ...args) {\n        if (typeof event !== 'string') return;\n        this.trigger('tools:event', event, ...args);\n    },\n\n\n    getModelById: function(id) {\n\n        return this.model.getCell(id);\n    },\n\n    snapToGrid: function(x, y) {\n\n        // Convert global coordinates to the local ones of the `viewport`. Otherwise,\n        // improper transformation would be applied when the viewport gets transformed (scaled/rotated).\n        return this.clientToLocalPoint(x, y).snapToGrid(this.options.gridSize);\n    },\n\n    localToPaperPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var localPoint = new Point(x, y);\n        var paperPoint = V.transformPoint(localPoint, this.matrix());\n        return paperPoint;\n    },\n\n    localToPaperRect: function(x, y, width, height) {\n        // allow `x` to be a rectangle and rest arguments undefined\n        var localRect = new Rect(x, y, width, height);\n        var paperRect = V.transformRect(localRect, this.matrix());\n        return paperRect;\n    },\n\n    paperToLocalPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var paperPoint = new Point(x, y);\n        var localPoint = V.transformPoint(paperPoint, this.matrix().inverse());\n        return localPoint;\n    },\n\n    paperToLocalRect: function(x, y, width, height) {\n        // allow `x` to be a rectangle and rest arguments undefined\n        var paperRect = new Rect(x, y, width, height);\n        var localRect = V.transformRect(paperRect, this.matrix().inverse());\n        return localRect;\n    },\n\n    localToClientPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var localPoint = new Point(x, y);\n        var clientPoint = V.transformPoint(localPoint, this.clientMatrix());\n        return clientPoint;\n    },\n\n    localToClientRect: function(x, y, width, height) {\n        // allow `x` to be a point and `y` undefined\n        var localRect = new Rect(x, y, width, height);\n        var clientRect = V.transformRect(localRect, this.clientMatrix());\n        return clientRect;\n    },\n\n    // Transform client coordinates to the paper local coordinates.\n    // Useful when you have a mouse event object and you'd like to get coordinates\n    // inside the paper that correspond to `evt.clientX` and `evt.clientY` point.\n    // Example: var localPoint = paper.clientToLocalPoint({ x: evt.clientX, y: evt.clientY });\n    clientToLocalPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var clientPoint = new Point(x, y);\n        var localPoint = V.transformPoint(clientPoint, this.clientMatrix().inverse());\n        return localPoint;\n    },\n\n    clientToLocalRect: function(x, y, width, height) {\n        // allow `x` to be a point and `y` undefined\n        var clientRect = new Rect(x, y, width, height);\n        var localRect = V.transformRect(clientRect, this.clientMatrix().inverse());\n        return localRect;\n    },\n\n    localToPagePoint: function(x, y) {\n\n        return this.localToPaperPoint(x, y).offset(this.pageOffset());\n    },\n\n    localToPageRect: function(x, y, width, height) {\n\n        return this.localToPaperRect(x, y, width, height).offset(this.pageOffset());\n    },\n\n    pageToLocalPoint: function(x, y) {\n\n        var pagePoint = new Point(x, y);\n        var paperPoint = pagePoint.difference(this.pageOffset());\n        return this.paperToLocalPoint(paperPoint);\n    },\n\n    pageToLocalRect: function(x, y, width, height) {\n\n        var pageOffset = this.pageOffset();\n        var paperRect = new Rect(x, y, width, height);\n        paperRect.x -= pageOffset.x;\n        paperRect.y -= pageOffset.y;\n        return this.paperToLocalRect(paperRect);\n    },\n\n    clientOffset: function() {\n\n        var clientRect = this.svg.getBoundingClientRect();\n        return new Point(clientRect.left, clientRect.top);\n    },\n\n    pageOffset: function() {\n\n        return this.clientOffset().offset(window.scrollX, window.scrollY);\n    },\n\n    linkAllowed: function(linkView) {\n\n        if (!(linkView instanceof LinkView)) {\n            throw new Error('Must provide a linkView.');\n        }\n\n        var link = linkView.model;\n        var paperOptions = this.options;\n        var graph = this.model;\n        var ns = graph.constructor.validations;\n\n        if (!paperOptions.multiLinks) {\n            if (!ns.multiLinks.call(this, graph, link)) return false;\n        }\n\n        if (!paperOptions.linkPinning) {\n            // Link pinning is not allowed and the link is not connected to the target.\n            if (!ns.linkPinning.call(this, graph, link)) return false;\n        }\n\n        if (typeof paperOptions.allowLink === 'function') {\n            if (!paperOptions.allowLink.call(this, linkView, this)) return false;\n        }\n\n        return true;\n    },\n\n    getDefaultLink: function(cellView, magnet) {\n\n        return isFunction(this.options.defaultLink)\n        // default link is a function producing link model\n            ? this.options.defaultLink.call(this, cellView, magnet)\n        // default link is the Backbone model\n            : this.options.defaultLink.clone();\n    },\n\n    // Cell highlighting.\n    // ------------------\n\n    resolveHighlighter: function(opt = {}) {\n\n        let { highlighter: highlighterDef, type } = opt;\n        const { highlighting,highlighterNamespace  } = this.options;\n\n        /*\n            Expecting opt.highlighter to have the following structure:\n            {\n                name: 'highlighter-name',\n                options: {\n                    some: 'value'\n                }\n            }\n        */\n        if (highlighterDef === undefined) {\n\n            // Is highlighting disabled?\n            if (!highlighting) return false;\n            // check for built-in types\n            if (type) {\n                highlighterDef = highlighting[type];\n                // Is a specific type highlight disabled?\n                if (highlighterDef === false) return false;\n            }\n            if (!highlighterDef) {\n                // Type not defined use default highlight\n                highlighterDef = highlighting['default'];\n            }\n        }\n\n        // Do nothing if opt.highlighter is falsy.\n        // This allows the case to not highlight cell(s) in certain cases.\n        // For example, if you want to NOT highlight when embedding elements\n        // or use a custom highlighter.\n        if (!highlighterDef) return false;\n\n        // Allow specifying a highlighter by name.\n        if (isString(highlighterDef)) {\n            highlighterDef = {\n                name: highlighterDef\n            };\n        }\n\n        const name = highlighterDef.name;\n        const highlighter = highlighterNamespace[name];\n\n        // Highlighter validation\n        if (!highlighter) {\n            throw new Error('Unknown highlighter (\"' + name + '\")');\n        }\n        if (typeof highlighter.highlight !== 'function') {\n            throw new Error('Highlighter (\"' + name + '\") is missing required highlight() method');\n        }\n        if (typeof highlighter.unhighlight !== 'function') {\n            throw new Error('Highlighter (\"' + name + '\") is missing required unhighlight() method');\n        }\n\n        return {\n            highlighter,\n            options: highlighterDef.options || {},\n            name\n        };\n    },\n\n    onCellHighlight: function(cellView, magnetEl, opt) {\n        const highlighterDescriptor = this.resolveHighlighter(opt);\n        if (!highlighterDescriptor) return;\n        const { highlighter, options } = highlighterDescriptor;\n        highlighter.highlight(cellView, magnetEl, options);\n    },\n\n    onCellUnhighlight: function(cellView, magnetEl, opt) {\n        const highlighterDescriptor = this.resolveHighlighter(opt);\n        if (!highlighterDescriptor) return;\n        const { highlighter, options } = highlighterDescriptor;\n        highlighter.unhighlight(cellView, magnetEl, options);\n    },\n\n    // Interaction.\n    // ------------\n\n    pointerdblclick: function(evt) {\n\n        evt.preventDefault();\n\n        // magnetpointerdblclick can stop propagation\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        if (view) {\n            view.pointerdblclick(evt, localPoint.x, localPoint.y);\n\n        } else {\n            this.trigger('blank:pointerdblclick', evt, localPoint.x, localPoint.y);\n        }\n    },\n\n    pointerclick: function(evt) {\n\n        // magnetpointerclick can stop propagation\n\n        var data = this.eventData(evt);\n        // Trigger event only if mouse has not moved.\n        if (data.mousemoved <= this.options.clickThreshold) {\n\n            evt = normalizeEvent(evt);\n\n            var view = this.findView(evt.target);\n            if (this.guard(evt, view)) return;\n\n            var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n            if (view) {\n                view.pointerclick(evt, localPoint.x, localPoint.y);\n\n            } else {\n                this.trigger('blank:pointerclick', evt, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    contextmenu: function(evt) {\n\n        if (this.options.preventContextMenu) evt.preventDefault();\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        if (view) {\n            view.contextmenu(evt, localPoint.x, localPoint.y);\n\n        } else {\n            this.trigger('blank:contextmenu', evt, localPoint.x, localPoint.y);\n        }\n    },\n\n    pointerdown: function(evt) {\n\n        // onmagnet stops propagation when `addLinkFromMagnet` is allowed\n        // onevent can stop propagation\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        if (view) {\n\n            evt.preventDefault();\n            view.pointerdown(evt, localPoint.x, localPoint.y);\n\n        } else {\n\n            if (this.options.preventDefaultBlankAction) evt.preventDefault();\n\n            this.trigger('blank:pointerdown', evt, localPoint.x, localPoint.y);\n        }\n\n        this.delegateDragEvents(view, evt.data);\n    },\n\n    pointermove: function(evt) {\n\n        // mouse moved counter\n        var data = this.eventData(evt);\n        data.mousemoved || (data.mousemoved = 0);\n        var mousemoved = ++data.mousemoved;\n\n        if (mousemoved <= this.options.moveThreshold) return;\n\n        evt = normalizeEvent(evt);\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        var view = data.sourceView;\n        if (view) {\n            view.pointermove(evt, localPoint.x, localPoint.y);\n        } else {\n            this.trigger('blank:pointermove', evt, localPoint.x, localPoint.y);\n        }\n\n        this.eventData(evt, data);\n    },\n\n    pointerup: function(evt) {\n\n        this.undelegateDocumentEvents();\n\n        var normalizedEvt = normalizeEvent(evt);\n\n        var localPoint = this.snapToGrid(normalizedEvt.clientX, normalizedEvt.clientY);\n\n        var view = this.eventData(evt).sourceView;\n        if (view) {\n            view.pointerup(normalizedEvt, localPoint.x, localPoint.y);\n        } else {\n            this.trigger('blank:pointerup', normalizedEvt, localPoint.x, localPoint.y);\n        }\n\n        if (!normalizedEvt.isPropagationStopped()) {\n            this.pointerclick($.Event(evt, { type: 'click', data: evt.data }));\n        }\n\n        evt.stopImmediatePropagation();\n        this.delegateEvents();\n    },\n\n    mouseover: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        if (view) {\n            view.mouseover(evt);\n\n        } else {\n            if (this.el === evt.target) return; // prevent border of paper from triggering this\n            this.trigger('blank:mouseover', evt);\n        }\n    },\n\n    mouseout: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        if (view) {\n            view.mouseout(evt);\n\n        } else {\n            if (this.el === evt.target) return; // prevent border of paper from triggering this\n            this.trigger('blank:mouseout', evt);\n        }\n    },\n\n    mouseenter: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n        var relatedView = this.findView(evt.relatedTarget);\n        if (view) {\n            // mouse moved from tool over view?\n            if (relatedView === view) return;\n            view.mouseenter(evt);\n        } else {\n            if (relatedView) return;\n            // `paper` (more descriptive), not `blank`\n            this.trigger('paper:mouseenter', evt);\n        }\n    },\n\n    mouseleave: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n        var relatedView = this.findView(evt.relatedTarget);\n        if (view) {\n            // mouse moved from view over tool?\n            if (relatedView === view) return;\n            view.mouseleave(evt);\n        } else {\n            if (relatedView) return;\n            // `paper` (more descriptive), not `blank`\n            this.trigger('paper:mouseleave', evt);\n        }\n    },\n\n    mousewheel: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var originalEvent = evt.originalEvent;\n        var localPoint = this.snapToGrid(originalEvent.clientX, originalEvent.clientY);\n        var delta = Math.max(-1, Math.min(1, (originalEvent.wheelDelta || -originalEvent.detail)));\n\n        if (view) {\n            view.mousewheel(evt, localPoint.x, localPoint.y, delta);\n\n        } else {\n            this.trigger('blank:mousewheel', evt, localPoint.x, localPoint.y, delta);\n        }\n    },\n\n    onevent: function(evt) {\n\n        var eventNode = evt.currentTarget;\n        var eventName = eventNode.getAttribute('event');\n        if (eventName) {\n            var view = this.findView(eventNode);\n            if (view) {\n\n                evt = normalizeEvent(evt);\n                if (this.guard(evt, view)) return;\n\n                var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n                view.onevent(evt, eventName, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    magnetEvent: function(evt, handler) {\n\n        var magnetNode = evt.currentTarget;\n        var magnetValue = magnetNode.getAttribute('magnet');\n        if (magnetValue) {\n            var view = this.findView(magnetNode);\n            if (view) {\n                evt = normalizeEvent(evt);\n                if (this.guard(evt, view)) return;\n                var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n                handler.call(this, view, evt, magnetNode, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    onmagnet: function(evt) {\n\n        this.magnetEvent(evt, function(view, evt, _, x, y) {\n            view.onmagnet(evt, x, y);\n        });\n    },\n\n\n    magnetpointerdblclick: function(evt) {\n\n        this.magnetEvent(evt, function(view, evt, magnet, x, y) {\n            view.magnetpointerdblclick(evt, magnet, x, y);\n        });\n    },\n\n    magnetcontextmenu: function(evt) {\n\n        if (this.options.preventContextMenu) evt.preventDefault();\n        this.magnetEvent(evt, function(view, evt, magnet, x, y) {\n            view.magnetcontextmenu(evt, magnet, x, y);\n        });\n    },\n\n    onlabel: function(evt) {\n\n        var labelNode = evt.currentTarget;\n        var view = this.findView(labelNode);\n        if (view) {\n\n            evt = normalizeEvent(evt);\n            if (this.guard(evt, view)) return;\n\n            var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n            view.onlabel(evt, localPoint.x, localPoint.y);\n        }\n    },\n\n    getPointerArgs(evt) {\n        const normalizedEvt = normalizeEvent(evt);\n        const { x, y } = this.snapToGrid(normalizedEvt.clientX, normalizedEvt.clientY);\n        return [normalizedEvt, x, y];\n    },\n\n    delegateDragEvents: function(view, data) {\n\n        data || (data = {});\n        this.eventData({ data: data }, { sourceView: view || null, mousemoved: 0 });\n        this.delegateDocumentEvents(null, data);\n        this.undelegateEvents();\n    },\n\n    // Guard the specified event. If the event is not interesting, guard returns `true`.\n    // Otherwise, it returns `false`.\n    guard: function(evt, view) {\n\n        if (evt.type === 'mousedown' && evt.button === 2) {\n            // handled as `contextmenu` type\n            return true;\n        }\n\n        if (this.options.guard && this.options.guard(evt, view)) {\n            return true;\n        }\n\n        if (evt.data && evt.data.guarded !== undefined) {\n            return evt.data.guarded;\n        }\n\n        if (view && view.model && (view.model instanceof Cell)) {\n            return false;\n        }\n\n        if (this.svg === evt.target || this.el === evt.target || $.contains(this.svg, evt.target)) {\n            return false;\n        }\n\n        return true;    // Event guarded. Paper should not react on it in any way.\n    },\n\n    setGridSize: function(gridSize) {\n\n        this.options.gridSize = gridSize;\n\n        if (this.options.drawGrid) {\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    clearGrid: function() {\n\n        if (this.$grid) {\n            this.$grid.css('backgroundImage', 'none');\n        }\n        return this;\n    },\n\n    _getGridRefs: function() {\n\n        if (!this._gridCache) {\n\n            this._gridCache = {\n                root: V('svg', { width: '100%', height: '100%' }, V('defs')),\n                patterns: {},\n                add: function(id, vel) {\n                    V(this.root.node.childNodes[0]).append(vel);\n                    this.patterns[id] = vel;\n                    this.root.append(V('rect', { width: '100%', height: '100%', fill: 'url(#' + id + ')' }));\n                },\n                get: function(id) {\n                    return this.patterns[id];\n                },\n                exist: function(id) {\n                    return this.patterns[id] !== undefined;\n                }\n            };\n        }\n\n        return this._gridCache;\n    },\n\n    setGrid: function(drawGrid) {\n\n        this.clearGrid();\n\n        this._gridCache = null;\n        this._gridSettings = [];\n\n        var optionsList = Array.isArray(drawGrid) ? drawGrid : [drawGrid || {}];\n        optionsList.forEach(function(item) {\n            this._gridSettings.push.apply(this._gridSettings, this._resolveDrawGridOption(item));\n        }, this);\n        return this;\n    },\n\n    _resolveDrawGridOption: function(opt) {\n\n        var namespace = this.constructor.gridPatterns;\n        if (isString(opt) && Array.isArray(namespace[opt])) {\n            return namespace[opt].map(function(item) {\n                return assign({}, item);\n            });\n        }\n\n        var options = opt || { args: [{}] };\n        var isArray = Array.isArray(options);\n        var name = options.name;\n\n        if (!isArray && !name && !options.markup) {\n            name = 'dot';\n        }\n\n        if (name && Array.isArray(namespace[name])) {\n            var pattern = namespace[name].map(function(item) {\n                return assign({}, item);\n            });\n\n            var args = Array.isArray(options.args) ? options.args : [options.args || {}];\n\n            defaults(args[0], omit(opt, 'args'));\n            for (var i = 0; i < args.length; i++) {\n                if (pattern[i]) {\n                    assign(pattern[i], args[i]);\n                }\n            }\n            return pattern;\n        }\n\n        return isArray ? options : [options];\n    },\n\n    drawGrid: function(opt) {\n\n        var gridSize = this.options.gridSize;\n        if (gridSize <= 1) {\n            return this.clearGrid();\n        }\n\n        var localOptions = Array.isArray(opt) ? opt : [opt];\n\n        var ctm = this.matrix();\n        var refs = this._getGridRefs();\n\n        this._gridSettings.forEach(function(gridLayerSetting, index) {\n\n            var id = 'pattern_' + index;\n            var options = merge(gridLayerSetting, localOptions[index], {\n                sx: ctm.a || 1,\n                sy: ctm.d || 1,\n                ox: ctm.e || 0,\n                oy: ctm.f || 0\n            });\n\n            options.width = gridSize * (ctm.a || 1) * (options.scaleFactor || 1);\n            options.height = gridSize * (ctm.d || 1) * (options.scaleFactor || 1);\n\n            if (!refs.exist(id)) {\n                refs.add(id, V('pattern', { id: id, patternUnits: 'userSpaceOnUse' }, V(options.markup)));\n            }\n\n            var patternDefVel = refs.get(id);\n\n            if (isFunction(options.update)) {\n                options.update(patternDefVel.node.childNodes[0], options);\n            }\n\n            var x = options.ox % options.width;\n            if (x < 0) x += options.width;\n\n            var y = options.oy % options.height;\n            if (y < 0) y += options.height;\n\n            patternDefVel.attr({\n                x: x,\n                y: y,\n                width: options.width,\n                height: options.height\n            });\n        });\n\n        var patternUri = new XMLSerializer().serializeToString(refs.root.node);\n        patternUri = 'url(data:image/svg+xml;base64,' + btoa(patternUri) + ')';\n\n        this.$grid.css('backgroundImage', patternUri);\n\n        return this;\n    },\n\n    updateBackgroundImage: function(opt) {\n\n        opt = opt || {};\n\n        var backgroundPosition = opt.position || 'center';\n        var backgroundSize = opt.size || 'auto auto';\n\n        var currentScale = this.scale();\n        var currentTranslate = this.translate();\n\n        // backgroundPosition\n        if (isObject(backgroundPosition)) {\n            var x = currentTranslate.tx + (currentScale.sx * (backgroundPosition.x || 0));\n            var y = currentTranslate.ty + (currentScale.sy * (backgroundPosition.y || 0));\n            backgroundPosition = x + 'px ' + y + 'px';\n        }\n\n        // backgroundSize\n        if (isObject(backgroundSize)) {\n            backgroundSize = new Rect(backgroundSize).scale(currentScale.sx, currentScale.sy);\n            backgroundSize = backgroundSize.width + 'px ' + backgroundSize.height + 'px';\n        }\n\n        this.$background.css({\n            backgroundSize: backgroundSize,\n            backgroundPosition: backgroundPosition\n        });\n    },\n\n    drawBackgroundImage: function(img, opt) {\n\n        // Clear the background image if no image provided\n        if (!(img instanceof HTMLImageElement)) {\n            this.$background.css('backgroundImage', '');\n            return;\n        }\n\n        opt = opt || {};\n\n        var backgroundImage;\n        var backgroundSize = opt.size;\n        var backgroundRepeat = opt.repeat || 'no-repeat';\n        var backgroundOpacity = opt.opacity || 1;\n        var backgroundQuality = Math.abs(opt.quality) || 1;\n        var backgroundPattern = this.constructor.backgroundPatterns[camelCase(backgroundRepeat)];\n\n        if (isFunction(backgroundPattern)) {\n            // 'flip-x', 'flip-y', 'flip-xy', 'watermark' and custom\n            img.width *= backgroundQuality;\n            img.height *= backgroundQuality;\n            var canvas = backgroundPattern(img, opt);\n            if (!(canvas instanceof HTMLCanvasElement)) {\n                throw new Error('dia.Paper: background pattern must return an HTML Canvas instance');\n            }\n\n            backgroundImage = canvas.toDataURL('image/png');\n            backgroundRepeat = 'repeat';\n            if (isObject(backgroundSize)) {\n                // recalculate the tile size if an object passed in\n                backgroundSize.width *= canvas.width / img.width;\n                backgroundSize.height *= canvas.height / img.height;\n            } else if (backgroundSize === undefined) {\n                // calculate the tile size if no provided\n                opt.size = {\n                    width: canvas.width / backgroundQuality,\n                    height: canvas.height / backgroundQuality\n                };\n            }\n        } else {\n            // backgroundRepeat:\n            // no-repeat', 'round', 'space', 'repeat', 'repeat-x', 'repeat-y'\n            backgroundImage = img.src;\n            if (backgroundSize === undefined) {\n                // pass the image size for  the backgroundSize if no size provided\n                opt.size = {\n                    width: img.width,\n                    height: img.height\n                };\n            }\n        }\n\n        this.$background.css({\n            opacity: backgroundOpacity,\n            backgroundRepeat: backgroundRepeat,\n            backgroundImage: 'url(' + backgroundImage + ')'\n        });\n\n        this.updateBackgroundImage(opt);\n    },\n\n    updateBackgroundColor: function(color) {\n\n        this.$el.css('backgroundColor', color || '');\n    },\n\n    drawBackground: function(opt) {\n\n        opt = opt || {};\n\n        this.updateBackgroundColor(opt.color);\n\n        if (opt.image) {\n            opt = this._background = cloneDeep(opt);\n            var img = document.createElement('img');\n            img.onload = this.drawBackgroundImage.bind(this, img, opt);\n            img.src = opt.image;\n        } else {\n            this.drawBackgroundImage(null);\n            this._background = null;\n        }\n\n        return this;\n    },\n\n    setInteractivity: function(value) {\n\n        this.options.interactive = value;\n\n        invoke(this._views, 'setInteractivity', value);\n    },\n\n    // Paper definitions.\n    // ------------------\n\n    isDefined: function(defId) {\n\n        return !!this.svg.getElementById(defId);\n    },\n\n    defineFilter: function(filter) {\n\n        if (!isObject(filter)) {\n            throw new TypeError('dia.Paper: defineFilter() requires 1. argument to be an object.');\n        }\n\n        var filterId = filter.id;\n        var name = filter.name;\n        // Generate a hash code from the stringified filter definition. This gives us\n        // a unique filter ID for different definitions.\n        if (!filterId) {\n            filterId = name + this.svg.id + hashCode(JSON.stringify(filter));\n        }\n        // If the filter already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        // If not, create one.\n        if (!this.isDefined(filterId)) {\n\n            var namespace = _filter;\n            var filterSVGString = namespace[name] && namespace[name](filter.args || {});\n            if (!filterSVGString) {\n                throw new Error('Non-existing filter ' + name);\n            }\n\n            // Set the filter area to be 3x the bounding box of the cell\n            // and center the filter around the cell.\n            var filterAttrs = assign({\n                filterUnits: 'objectBoundingBox',\n                x: -1,\n                y: -1,\n                width: 3,\n                height: 3\n            }, filter.attrs, {\n                id: filterId\n            });\n\n            V(filterSVGString, filterAttrs).appendTo(this.defs);\n        }\n\n        return filterId;\n    },\n\n    defineGradient: function(gradient) {\n\n        if (!isObject(gradient)) {\n            throw new TypeError('dia.Paper: defineGradient() requires 1. argument to be an object.');\n        }\n\n        var gradientId = gradient.id;\n        var type = gradient.type;\n        var stops = gradient.stops;\n        // Generate a hash code from the stringified filter definition. This gives us\n        // a unique filter ID for different definitions.\n        if (!gradientId) {\n            gradientId = type + this.svg.id + hashCode(JSON.stringify(gradient));\n        }\n        // If the gradient already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        // If not, create one.\n        if (!this.isDefined(gradientId)) {\n\n            var stopTemplate = template('<stop offset=\"${offset}\" stop-color=\"${color}\" stop-opacity=\"${opacity}\"/>');\n            var gradientStopsStrings = toArray(stops).map(function(stop) {\n                return stopTemplate({\n                    offset: stop.offset,\n                    color: stop.color,\n                    opacity: Number.isFinite(stop.opacity) ? stop.opacity : 1\n                });\n            });\n\n            var gradientSVGString = [\n                '<' + type + '>',\n                gradientStopsStrings.join(''),\n                '</' + type + '>'\n            ].join('');\n\n            var gradientAttrs = assign({ id: gradientId }, gradient.attrs);\n\n            V(gradientSVGString, gradientAttrs).appendTo(this.defs);\n        }\n\n        return gradientId;\n    },\n\n    defineMarker: function(marker) {\n\n        if (!isObject(marker)) {\n            throw new TypeError('dia.Paper: defineMarker() requires 1. argument to be an object.');\n        }\n\n        var markerId = marker.id;\n\n        // Generate a hash code from the stringified filter definition. This gives us\n        // a unique filter ID for different definitions.\n        if (!markerId) {\n            markerId = this.svg.id + hashCode(JSON.stringify(marker));\n        }\n\n        if (!this.isDefined(markerId)) {\n\n            var attrs = omit(marker, 'type', 'userSpaceOnUse');\n            var pathMarker = V('marker', {\n                id: markerId,\n                orient: 'auto',\n                overflow: 'visible',\n                markerUnits: marker.markerUnits || 'userSpaceOnUse'\n            }, [\n                V(marker.type || 'path', attrs)\n            ]);\n\n            pathMarker.appendTo(this.defs);\n        }\n\n        return markerId;\n    }\n\n}, {\n\n    sorting: sortingTypes,\n\n    Layers: LayersNames,\n\n    backgroundPatterns: {\n\n        flipXy: function(img) {\n            // d b\n            // q p\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = 2 * imgWidth;\n            canvas.height = 2 * imgHeight;\n\n            var ctx = canvas.getContext('2d');\n            // top-left image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // xy-flipped bottom-right image\n            ctx.setTransform(-1, 0, 0, -1, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // x-flipped top-right image\n            ctx.setTransform(-1, 0, 0, 1, canvas.width, 0);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // y-flipped bottom-left image\n            ctx.setTransform(1, 0, 0, -1, 0, canvas.height);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        flipX: function(img) {\n            // d b\n            // d b\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = imgWidth * 2;\n            canvas.height = imgHeight;\n\n            var ctx = canvas.getContext('2d');\n            // left image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // flipped right image\n            ctx.translate(2 * imgWidth, 0);\n            ctx.scale(-1, 1);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        flipY: function(img) {\n            // d d\n            // q q\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = imgWidth;\n            canvas.height = imgHeight * 2;\n\n            var ctx = canvas.getContext('2d');\n            // top image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // flipped bottom image\n            ctx.translate(0, 2 * imgHeight);\n            ctx.scale(1, -1);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        watermark: function(img, opt) {\n            //   d\n            // d\n\n            opt = opt || {};\n\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            var canvas = document.createElement('canvas');\n            canvas.width = imgWidth * 3;\n            canvas.height = imgHeight * 3;\n\n            var ctx = canvas.getContext('2d');\n            var angle = isNumber(opt.watermarkAngle) ? -opt.watermarkAngle : -20;\n            var radians = toRad(angle);\n            var stepX = canvas.width / 4;\n            var stepY = canvas.height / 4;\n\n            for (var i = 0; i < 4; i++) {\n                for (var j = 0; j < 4; j++) {\n                    if ((i + j) % 2 > 0) {\n                        // reset the current transformations\n                        ctx.setTransform(1, 0, 0, 1, (2 * i - 1) * stepX, (2 * j - 1) * stepY);\n                        ctx.rotate(radians);\n                        ctx.drawImage(img, -imgWidth / 2, -imgHeight / 2, imgWidth, imgHeight);\n                    }\n                }\n            }\n\n            return canvas;\n        }\n    },\n\n    gridPatterns: {\n        dot: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'rect',\n            update: function(el, opt) {\n                V(el).attr({\n                    width: opt.thickness * opt.sx,\n                    height: opt.thickness * opt.sy,\n                    fill: opt.color\n                });\n            }\n        }],\n        fixedDot: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'rect',\n            update: function(el, opt) {\n                var size = opt.sx <= 1 ? opt.thickness * opt.sx : opt.thickness;\n                V(el).attr({ width: size, height: size, fill: opt.color });\n            }\n        }],\n        mesh: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }],\n        doubleMesh: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }, {\n            color: '#000000',\n            thickness: 3,\n            scaleFactor: 4,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }]\n    }\n});\n\n","import * as mvc from '../mvc/index.mjs';\n\nexport const ToolView = mvc.View.extend({\n    name: null,\n    tagName: 'g',\n    className: 'tool',\n    svgElement: true,\n    _visible: true,\n\n    init: function() {\n        var name = this.name;\n        if (name) this.vel.attr('data-tool-name', name);\n    },\n\n    configure: function(view, toolsView) {\n        this.relatedView = view;\n        this.paper = view.paper;\n        this.parentView = toolsView;\n        this.simulateRelatedView(this.el);\n        // Delegate events in case the ToolView was removed from the DOM and reused.\n        this.delegateEvents();\n        return this;\n    },\n\n    simulateRelatedView: function(el) {\n        if (el) el.setAttribute('model-id', this.relatedView.model.id);\n    },\n\n    getName: function() {\n        return this.name;\n    },\n\n    show: function() {\n        this.el.style.display = '';\n        this._visible = true;\n    },\n\n    hide: function() {\n        this.el.style.display = 'none';\n        this._visible = false;\n    },\n\n    isVisible: function() {\n        return !!this._visible;\n    },\n\n    focus: function() {\n        var opacity = this.options.focusOpacity;\n        if (isFinite(opacity)) this.el.style.opacity = opacity;\n        this.parentView.focusTool(this);\n    },\n\n    blur: function() {\n        this.el.style.opacity = '';\n        this.parentView.blurTool(this);\n    },\n\n    update: function() {\n        // to be overridden\n    },\n\n    guard: function(evt) {\n        // Let the context-menu event bubble up to the relatedView\n        const { paper, relatedView } = this;\n        if (!paper || !relatedView) return true;\n        return paper.guard(evt, relatedView);\n    }\n});\n\n","import * as mvc from '../mvc/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { ToolView } from './ToolView.mjs';\n\nexport const ToolsView = mvc.View.extend({\n    tagName: 'g',\n    className: 'tools',\n    svgElement: true,\n    tools: null,\n    isRendered: false,\n    options: {\n        tools: null,\n        relatedView: null,\n        name: null,\n        component: false\n    },\n\n    configure: function(options) {\n        options = util.assign(this.options, options);\n        var tools = options.tools;\n        if (!Array.isArray(tools)) return this;\n        var relatedView = options.relatedView;\n        if (!(relatedView instanceof CellView)) return this;\n        var views = this.tools = [];\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (!(tool instanceof ToolView)) continue;\n            tool.configure(relatedView, this);\n            this.vel.append(tool.el);\n            views.push(tool);\n        }\n        this.isRendered = false;\n        relatedView.requestUpdate(relatedView.getFlag('TOOLS'));\n        return this;\n    },\n\n    getName: function() {\n        return this.options.name;\n    },\n\n    update: function(opt) {\n\n        opt || (opt = {});\n        var tools = this.tools;\n        if (!tools) return this;\n        var isRendered = this.isRendered;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (!isRendered) {\n                // First update executes render()\n                tool.render();\n            } else if (opt.tool !== tool.cid && tool.isVisible()) {\n                tool.update();\n            }\n        }\n        if (!isRendered) {\n            this.mount();\n            // Make sure tools are visible (if they were hidden and the tool removed)\n            this.blurTool();\n            this.isRendered = true;\n        }\n        return this;\n    },\n\n    focusTool: function(focusedTool) {\n\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (focusedTool === tool) {\n                tool.show();\n            } else {\n                tool.hide();\n            }\n        }\n        return this;\n    },\n\n    blurTool: function(blurredTool) {\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (tool !== blurredTool && !tool.isVisible()) {\n                tool.show();\n                tool.update();\n            }\n        }\n        return this;\n    },\n\n    hide: function() {\n        return this.focusTool(null);\n    },\n\n    show: function() {\n        return this.blurTool(null);\n    },\n\n    onRemove: function() {\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            tools[i].remove();\n        }\n        this.tools = null;\n    },\n\n    mount: function() {\n        var options = this.options;\n        var relatedView = options.relatedView;\n        if (relatedView) {\n            var container = (options.component) ? relatedView.el : relatedView.paper.tools;\n            container.appendChild(this.el);\n        }\n        return this;\n    }\n\n});\n","import * as util from '../../util/index.mjs';\nimport { Graph } from '../../dia/index.mjs';\nimport * as g from '../../g/index.mjs';\n\nexport const DirectedGraph = {\n\n    exportElement: function(element) {\n\n        // The width and height of the element.\n        return element.size();\n    },\n\n    exportLink: function(link) {\n\n        var labelSize = link.get('labelSize') || {};\n        var edge = {\n            // The number of ranks to keep between the source and target of the edge.\n            minLen: link.get('minLen') || 1,\n            // The weight to assign edges. Higher weight edges are generally\n            // made shorter and straighter than lower weight edges.\n            weight: link.get('weight') || 1,\n            // Where to place the label relative to the edge.\n            // l = left, c = center r = right.\n            labelpos: link.get('labelPosition') || 'c',\n            // How many pixels to move the label away from the edge.\n            // Applies only when labelpos is l or r.\n            labeloffset: link.get('labelOffset') || 0,\n            // The width of the edge label in pixels.\n            width: labelSize.width || 0,\n            // The height of the edge label in pixels.\n            height: labelSize.height || 0\n        };\n\n        return edge;\n    },\n\n    importElement: function(opt, v, gl) {\n\n        var element = this.getCell(v);\n        var glNode = gl.node(v);\n\n        if (opt.setPosition) {\n            opt.setPosition(element, glNode);\n        } else {\n            element.set('position', {\n                x: glNode.x - glNode.width / 2,\n                y: glNode.y - glNode.height / 2\n            });\n        }\n    },\n\n    importLink: function(opt, edgeObj, gl) {\n\n        const SIMPLIFY_THRESHOLD = 0.001;\n\n        const link = this.getCell(edgeObj.name);\n        const glEdge = gl.edge(edgeObj);\n        const points = glEdge.points || [];\n        const polyline = new g.Polyline(points);\n\n        // check the `setLinkVertices` here for backwards compatibility\n        if (opt.setVertices || opt.setLinkVertices) {\n            if (util.isFunction(opt.setVertices)) {\n                opt.setVertices(link, points);\n            } else {\n                // simplify the `points` polyline\n                polyline.simplify({ threshold: SIMPLIFY_THRESHOLD });\n                const polylinePoints = polyline.points.map((point) => (point.toJSON())); // JSON of points after simplification\n                const numPolylinePoints = polylinePoints.length; // number of points after simplification\n                // set simplified polyline points as link vertices\n                // remove first and last polyline points (= source/target sonnectionPoints)\n                link.set('vertices', polylinePoints.slice(1, numPolylinePoints - 1));\n            }\n        }\n\n        if (opt.setLabels && ('x' in glEdge) && ('y' in glEdge)) {\n            const labelPosition = { x: glEdge.x, y: glEdge.y };\n            if (util.isFunction(opt.setLabels)) {\n                opt.setLabels(link, labelPosition, points);\n            } else {\n                // convert the absolute label position to a relative position\n                // towards the closest point on the edge\n                const length = polyline.closestPointLength(labelPosition);\n                const closestPoint = polyline.pointAtLength(length);\n                const distance = (length / polyline.length());\n                const offset = new g.Point(labelPosition).difference(closestPoint).toJSON();\n                link.label(0, {\n                    position: {\n                        distance: distance,\n                        offset: offset\n                    }\n                });\n            }\n        }\n    },\n\n    layout: function(graphOrCells, opt) {\n\n        var graph;\n\n        if (graphOrCells instanceof Graph) {\n            graph = graphOrCells;\n        } else {\n            // Reset cells in dry mode so the graph reference is not stored on the cells.\n            // `sort: false` to prevent elements to change their order based on the z-index\n            graph = (new Graph()).resetCells(graphOrCells, { dry: true, sort: false });\n        }\n\n        // This is not needed anymore.\n        graphOrCells = null;\n\n        opt = util.defaults(opt || {}, {\n            resizeClusters: true,\n            clusterPadding: 10,\n            exportElement: this.exportElement,\n            exportLink: this.exportLink\n        });\n\n        /* global dagre: true */\n        const dagreUtil = opt.dagre || (typeof dagre !== 'undefined' ? dagre : undefined);\n        /* global dagre: false */\n\n        if (dagreUtil === undefined) throw new Error('The the \"dagre\" utility is a mandatory dependency.');\n\n        // create a graphlib.Graph that represents the joint.dia.Graph\n        // var glGraph = graph.toGraphLib({\n        var glGraph = DirectedGraph.toGraphLib(graph, {\n            graphlib: opt.graphlib,\n            directed: true,\n            // We are about to use edge naming feature.\n            multigraph: true,\n            // We are able to layout graphs with embeds.\n            compound: true,\n            setNodeLabel: opt.exportElement,\n            setEdgeLabel: opt.exportLink,\n            setEdgeName: function(link) {\n                // Graphlib edges have no ids. We use edge name property\n                // to store and retrieve ids instead.\n                return link.id;\n            }\n        });\n\n        var glLabel = {};\n        var marginX = opt.marginX || 0;\n        var marginY = opt.marginY || 0;\n\n        // Dagre layout accepts options as lower case.\n        // Direction for rank nodes. Can be TB, BT, LR, or RL\n        if (opt.rankDir) glLabel.rankdir = opt.rankDir;\n        // Alignment for rank nodes. Can be UL, UR, DL, or DR\n        if (opt.align) glLabel.align = opt.align;\n        // Number of pixels that separate nodes horizontally in the layout.\n        if (opt.nodeSep) glLabel.nodesep = opt.nodeSep;\n        // Number of pixels that separate edges horizontally in the layout.\n        if (opt.edgeSep) glLabel.edgesep = opt.edgeSep;\n        // Number of pixels between each rank in the layout.\n        if (opt.rankSep) glLabel.ranksep = opt.rankSep;\n        // Type of algorithm to assign a rank to each node in the input graph.\n        // Possible values: network-simplex, tight-tree or longest-path\n        if (opt.ranker) glLabel.ranker = opt.ranker;\n        // Number of pixels to use as a margin around the left and right of the graph.\n        if (marginX) glLabel.marginx = marginX;\n        // Number of pixels to use as a margin around the top and bottom of the graph.\n        if (marginY) glLabel.marginy = marginY;\n\n        // Set the option object for the graph label.\n        glGraph.setGraph(glLabel);\n\n        // Executes the layout.\n        dagreUtil.layout(glGraph, { debugTiming: !!opt.debugTiming });\n\n        // Wrap all graph changes into a batch.\n        graph.startBatch('layout');\n\n        DirectedGraph.fromGraphLib(glGraph, {\n            importNode: this.importElement.bind(graph, opt),\n            importEdge: this.importLink.bind(graph, opt)\n        });\n\n        // // Update the graph.\n        // graph.fromGraphLib(glGraph, {\n        //     importNode: this.importElement.bind(graph, opt),\n        //     importEdge: this.importLink.bind(graph, opt)\n        // });\n\n        if (opt.resizeClusters) {\n            // Resize and reposition cluster elements (parents of other elements)\n            // to fit their children.\n            // 1. filter clusters only\n            // 2. map id on cells\n            // 3. sort cells by their depth (the deepest first)\n            // 4. resize cell to fit their direct children only.\n            var clusters = glGraph.nodes()\n                .filter(function(v) { return glGraph.children(v).length > 0; })\n                .map(graph.getCell.bind(graph))\n                .sort(function(aCluster, bCluster) {\n                    return bCluster.getAncestors().length - aCluster.getAncestors().length;\n                });\n\n            util.invoke(clusters, 'fitEmbeds', { padding: opt.clusterPadding });\n        }\n\n        graph.stopBatch('layout');\n\n        // Width and height of the graph extended by margins.\n        var glSize = glGraph.graph();\n        // Return the bounding box of the graph after the layout.\n        return new g.Rect(\n            marginX,\n            marginY,\n            Math.abs(glSize.width - 2 * marginX),\n            Math.abs(glSize.height - 2 * marginY)\n        );\n    },\n\n    fromGraphLib: function(glGraph, opt) {\n\n        opt = opt || {};\n\n        var importNode = opt.importNode || util.noop;\n        var importEdge = opt.importEdge || util.noop;\n        var graph = (this instanceof Graph) ? this : new Graph;\n\n        // Import all nodes.\n        glGraph.nodes().forEach(function(node) {\n            importNode.call(graph, node, glGraph, graph, opt);\n        });\n\n        // Import all edges.\n        glGraph.edges().forEach(function(edge) {\n            importEdge.call(graph, edge, glGraph, graph, opt);\n        });\n\n        return graph;\n    },\n\n    // Create new graphlib graph from existing JointJS graph.\n    toGraphLib: function(graph, opt) {\n\n        opt = opt || {};\n\n        /* global graphlib: true */\n        const graphlibUtil = opt.graphlib || (typeof graphlib !== 'undefined' ? graphlib : undefined);\n        /* global graphlib: false */\n\n        if (graphlibUtil === undefined) throw new Error('The the \"graphlib\" utility is a mandatory dependency.');\n\n        var glGraphType = util.pick(opt, 'directed', 'compound', 'multigraph');\n        var glGraph = new graphlibUtil.Graph(glGraphType);\n        var setNodeLabel = opt.setNodeLabel || util.noop;\n        var setEdgeLabel = opt.setEdgeLabel || util.noop;\n        var setEdgeName = opt.setEdgeName || util.noop;\n        var collection = graph.get('cells');\n\n        for (var i = 0, n = collection.length; i < n; i++) {\n\n            var cell = collection.at(i);\n            if (cell.isLink()) {\n\n                var source = cell.get('source');\n                var target = cell.get('target');\n\n                // Links that end at a point are ignored.\n                if (!source.id || !target.id) break;\n\n                // Note that if we are creating a multigraph we can name the edges. If\n                // we try to name edges on a non-multigraph an exception is thrown.\n                glGraph.setEdge(source.id, target.id, setEdgeLabel(cell), setEdgeName(cell));\n\n            } else {\n\n                glGraph.setNode(cell.id, setNodeLabel(cell));\n\n                // For the compound graphs we have to take embeds into account.\n                if (glGraph.isCompound() && cell.has('parent')) {\n                    var parentId = cell.get('parent');\n                    if (collection.has(parentId)) {\n                        // Make sure the parent cell is included in the graph (this can\n                        // happen when the layout is run on part of the graph only).\n                        glGraph.setParent(cell.id, parentId);\n                    }\n                }\n            }\n        }\n\n        return glGraph;\n    }\n};\n\nGraph.prototype.toGraphLib = function(opt) {\n\n    return DirectedGraph.toGraphLib(this, opt);\n};\n\nGraph.prototype.fromGraphLib = function(glGraph, opt) {\n\n    return DirectedGraph.fromGraphLib.call(this, glGraph, opt);\n};\n","export const env = {\n\n    _results: {},\n\n    _tests: {\n\n        svgforeignobject: function() {\n            return !!document.createElementNS &&\n                /SVGForeignObject/.test(({}).toString.call(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject')));\n        }\n    },\n\n    addTest: function(name, fn) {\n\n        return this._tests[name] = fn;\n    },\n\n    test: function(name) {\n\n        var fn = this._tests[name];\n\n        if (!fn) {\n            throw new Error('Test not defined (\"' + name + '\"). Use `joint.env.addTest(name, fn) to add a new test.`');\n        }\n\n        var result = this._results[name];\n\n        if (typeof result !== 'undefined') {\n            return result;\n        }\n\n        try {\n            result = fn();\n        } catch (error) {\n            result = false;\n        }\n\n        // Cache the test result.\n        this._results[name] = result;\n\n        return result;\n    }\n};\n","import { Element } from '../dia/Element.mjs';\nimport { ElementView } from '../dia/ElementView.mjs';\nimport { omit, assign, sanitizeHTML, merge, has, breakText, setByPath } from '../util/index.mjs';\nimport { env } from '../env/index.mjs';\n\nexport const Generic = Element.define('basic.Generic', {\n    attrs: {\n        '.': { fill: '#ffffff', stroke: 'none' }\n    }\n});\n\nexport const Rect = Generic.define('basic.Rect', {\n    attrs: {\n        'rect': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            width: 100,\n            height: 60\n        },\n        'text': {\n            fill: '#000000',\n            text: '',\n            'font-size': 14,\n            'ref-x': .5,\n            'ref-y': .5,\n            'text-anchor': 'middle',\n            'y-alignment': 'middle',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect/></g><text/></g>'\n});\n\nexport const TextView = ElementView.extend({\n\n    presentationAttributes: ElementView.addPresentationAttributes({\n        // The element view is not automatically re-scaled to fit the model size\n        // when the attribute 'attrs' is changed.\n        attrs: ['SCALE']\n    }),\n\n    confirmUpdate: function() {\n        var flags = ElementView.prototype.confirmUpdate.apply(this, arguments);\n        if (this.hasFlag(flags, 'SCALE')) {\n            this.resize();\n            flags = this.removeFlag(flags, 'SCALE');\n        }\n        return flags;\n    }\n});\n\nexport const Text = Generic.define('basic.Text', {\n    attrs: {\n        'text': {\n            'font-size': 18,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><text/></g></g>',\n});\n\nexport const Circle = Generic.define('basic.Circle', {\n    size: { width: 60, height: 60 },\n    attrs: {\n        'circle': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            r: 30,\n            cx: 30,\n            cy: 30\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle/></g><text/></g>',\n});\n\nexport const Ellipse = Generic.define('basic.Ellipse', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'ellipse': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            rx: 30,\n            ry: 20,\n            cx: 30,\n            cy: 20\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><ellipse/></g><text/></g>',\n});\n\nexport const Polygon = Generic.define('basic.Polygon', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'polygon': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon/></g><text/></g>',\n});\n\nexport const Polyline = Generic.define('basic.Polyline', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'polyline': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polyline/></g><text/></g>',\n});\n\nexport const Image = Generic.define('basic.Image', {\n    attrs: {\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image/></g><text/></g>',\n});\n\nexport const Path = Generic.define('basic.Path', {\n    size: { width: 60, height: 60 },\n    attrs: {\n        'path': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref': 'path',\n            'ref-x': .5,\n            'ref-dy': 10,\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path/></g><text/></g>',\n});\n\nexport const Rhombus = Path.define('basic.Rhombus', {\n    attrs: {\n        'path': {\n            d: 'M 30 0 L 60 30 30 60 0 30 z'\n        },\n        'text': {\n            'ref-y': .5,\n            'ref-dy': null,\n            'y-alignment': 'middle'\n        }\n    }\n});\n\nconst svgForeignObjectSupported = env.test('svgforeignobject');\n\nexport const TextBlock = Generic.define('basic.TextBlock', {\n    // see joint.css for more element styles\n    attrs: {\n        rect: {\n            fill: '#ffffff',\n            stroke: '#000000',\n            width: 80,\n            height: 100\n        },\n        text: {\n            fill: '#000000',\n            'font-size': 14,\n            'font-family': 'Arial, helvetica, sans-serif'\n        },\n        '.content': {\n            text: '',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            'x-alignment': 'middle'\n        }\n    },\n\n    content: ''\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\"><rect/></g>',\n        svgForeignObjectSupported\n            ? '<foreignObject class=\"fobj\"><body xmlns=\"http://www.w3.org/1999/xhtml\"><div class=\"content\"/></body></foreignObject>'\n            : '<text class=\"content\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.listenTo(this, 'change:size', this.updateSize);\n        this.listenTo(this, 'change:content', this.updateContent);\n        this.updateSize(this, this.get('size'));\n        this.updateContent(this, this.get('content'));\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    updateSize: function(cell, size) {\n\n        // Selector `foreignObject' doesn't work across all browsers, we're using class selector instead.\n        // We have to clone size as we don't want attributes.div.style to be same object as attributes.size.\n        this.attr({\n            '.fobj': assign({}, size),\n            div: {\n                style: assign({}, size)\n            }\n        });\n    },\n\n    updateContent: function(cell, content) {\n\n        if (svgForeignObjectSupported) {\n\n            // Content element is a <div> element.\n            this.attr({\n                '.content': {\n                    html: sanitizeHTML(content)\n                }\n            });\n\n        } else {\n\n            // Content element is a <text> element.\n            // SVG elements don't have innerHTML attribute.\n            this.attr({\n                '.content': {\n                    text: content\n                }\n            });\n        }\n    },\n\n    // Here for backwards compatibility:\n    setForeignObjectSize: function() {\n\n        this.updateSize.apply(this, arguments);\n    },\n\n    // Here for backwards compatibility:\n    setDivContent: function() {\n\n        this.updateContent.apply(this, arguments);\n    }\n});\n\n// TextBlockView implements the fallback for IE when no foreignObject exists and\n// the text needs to be manually broken.\nexport const TextBlockView = ElementView.extend({\n\n    presentationAttributes: svgForeignObjectSupported\n        ? ElementView.prototype.presentationAttributes\n        : ElementView.addPresentationAttributes({\n            content: ['CONTENT'],\n            size: ['CONTENT']\n        }),\n\n    initFlag: ['RENDER', 'CONTENT'],\n\n    confirmUpdate: function() {\n        var flags = ElementView.prototype.confirmUpdate.apply(this, arguments);\n        if (this.hasFlag(flags, 'CONTENT')) {\n            this.updateContent(this.model);\n            flags = this.removeFlag(flags, 'CONTENT');\n        }\n        return flags;\n    },\n\n    update: function(_, renderingOnlyAttrs) {\n\n        var model = this.model;\n\n        if (!svgForeignObjectSupported) {\n\n            // Update everything but the content first.\n            var noTextAttrs = omit(renderingOnlyAttrs || model.get('attrs'), '.content');\n            ElementView.prototype.update.call(this, model, noTextAttrs);\n\n            if (!renderingOnlyAttrs || has(renderingOnlyAttrs, '.content')) {\n                // Update the content itself.\n                this.updateContent(model, renderingOnlyAttrs);\n            }\n\n        } else {\n\n            ElementView.prototype.update.call(this, model, renderingOnlyAttrs);\n        }\n    },\n\n    updateContent: function(cell, renderingOnlyAttrs) {\n\n        // Create copy of the text attributes\n        var textAttrs = merge({}, (renderingOnlyAttrs || cell.get('attrs'))['.content']);\n\n        textAttrs = omit(textAttrs, 'text');\n\n        // Break the content to fit the element size taking into account the attributes\n        // set on the model.\n        var text = breakText(cell.get('content'), cell.get('size'), textAttrs, {\n            // measuring sandbox svg document\n            svgDocument: this.paper.svg\n        });\n\n        // Create a new attrs with same structure as the model attrs { text: { *textAttributes* }}\n        var attrs = setByPath({}, '.content', textAttrs, '/');\n\n        // Replace text attribute with the one we just processed.\n        attrs['.content'].text = text;\n\n        // Update the view using renderingOnlyAttributes parameter.\n        ElementView.prototype.update.call(this, cell, attrs);\n    }\n});\n","import V from '../V/index.mjs';\nimport { Element } from '../dia/Element.mjs';\nimport { Link as LinkBase } from '../dia/Link.mjs';\nimport { isPercentage, assign } from '../util/index.mjs';\nimport { attributes } from '../dia/attributes.mjs';\nimport { env } from '../env/index.mjs';\n\n\n// ELEMENTS\n\nexport const Rectangle = Element.define('standard.Rectangle', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body',\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Circle = Element.define('standard.Circle', {\n    attrs: {\n        body: {\n            refCx: '50%',\n            refCy: '50%',\n            refR: '50%',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'circle',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Ellipse = Element.define('standard.Ellipse', {\n    attrs: {\n        body: {\n            refCx: '50%',\n            refCy: '50%',\n            refRx: '50%',\n            refRy: '50%',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'ellipse',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Path = Element.define('standard.Path', {\n    attrs: {\n        body: {\n            refD: 'M 0 0 L 10 0 10 10 0 10 Z',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Polygon = Element.define('standard.Polygon', {\n    attrs: {\n        body: {\n            refPoints: '0 0 10 0 10 10 0 10',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'polygon',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Polyline = Element.define('standard.Polyline', {\n    attrs: {\n        body: {\n            refPoints: '0 0 10 0 10 10 0 10 0 0',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'polyline',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Image = Element.define('standard.Image', {\n    attrs: {\n        image: {\n            refWidth: '100%',\n            refHeight: '100%',\n            // xlinkHref: '[URL]'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const BorderedImage = Element.define('standard.BorderedImage', {\n    attrs: {\n        border: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        background: {\n            refWidth: -1,\n            refHeight: -1,\n            x: 0.5,\n            y: 0.5,\n            fill: '#FFFFFF'\n        },\n        image: {\n            // xlinkHref: '[URL]'\n            refWidth: -1,\n            refHeight: -1,\n            x: 0.5,\n            y: 0.5\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'background',\n        attributes: {\n            'stroke': 'none'\n        }\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'rect',\n        selector: 'border',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const EmbeddedImage = Element.define('standard.EmbeddedImage', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            fill: '#FFFFFF',\n            strokeWidth: 2\n        },\n        image: {\n            // xlinkHref: '[URL]'\n            refWidth: '30%',\n            refHeight: -20,\n            x: 10,\n            y: 10,\n            preserveAspectRatio: 'xMidYMin'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'left',\n            refX: '30%',\n            refX2: 20, // 10 + 10\n            refY: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const InscribedImage = Element.define('standard.InscribedImage', {\n    attrs: {\n        border: {\n            refRx: '50%',\n            refRy: '50%',\n            refCx: '50%',\n            refCy: '50%',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        background: {\n            refRx: '50%',\n            refRy: '50%',\n            refCx: '50%',\n            refCy: '50%',\n            fill: '#FFFFFF'\n        },\n        image: {\n            // The image corners touch the border when its size is Math.sqrt(2) / 2 = 0.707.. ~= 70%\n            refWidth: '68%',\n            refHeight: '68%',\n            // The image offset is calculated as (100% - 68%) / 2\n            refX: '16%',\n            refY: '16%',\n            preserveAspectRatio: 'xMidYMid'\n            // xlinkHref: '[URL]'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'ellipse',\n        selector: 'background'\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'ellipse',\n        selector: 'border',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const HeaderedRectangle = Element.define('standard.HeaderedRectangle', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        header: {\n            refWidth: '100%',\n            height: 30,\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        headerText: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: 15,\n            fontSize: 16,\n            fill: '#333333'\n        },\n        bodyText: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            refY2: 15,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, {\n        tagName: 'rect',\n        selector: 'header'\n    }, {\n        tagName: 'text',\n        selector: 'headerText'\n    }, {\n        tagName: 'text',\n        selector: 'bodyText'\n    }]\n});\n\nvar CYLINDER_TILT = 10;\n\nexport const Cylinder = Element.define('standard.Cylinder', {\n    attrs: {\n        body: {\n            lateralArea: CYLINDER_TILT,\n            fill: '#FFFFFF',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        top: {\n            refCx: '50%',\n            cy: CYLINDER_TILT,\n            refRx: '50%',\n            ry: CYLINDER_TILT,\n            fill: '#FFFFFF',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 15,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'body'\n    }, {\n        tagName: 'ellipse',\n        selector: 'top'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }],\n\n    topRy: function(t, opt) {\n        // getter\n        if (t === undefined) return this.attr('body/lateralArea');\n\n        // setter\n        var isPercentageSetter = isPercentage(t);\n\n        var bodyAttrs = { lateralArea: t };\n        var topAttrs = isPercentageSetter\n            ? { refCy: t, refRy: t, cy: null, ry: null }\n            : { refCy: null, refRy: null, cy: t, ry: t };\n\n        return this.attr({ body: bodyAttrs, top: topAttrs }, opt);\n    }\n\n}, {\n    attributes: {\n        lateralArea: {\n            set: function(t, refBBox) {\n                var isPercentageSetter = isPercentage(t);\n                if (isPercentageSetter) t = parseFloat(t) / 100;\n\n                var x = refBBox.x;\n                var y = refBBox.y;\n                var w = refBBox.width;\n                var h = refBBox.height;\n\n                // curve control point variables\n                var rx = w / 2;\n                var ry = isPercentageSetter ? (h * t) : t;\n\n                var kappa = V.KAPPA;\n                var cx = kappa * rx;\n                var cy = kappa * (isPercentageSetter ? (h * t) : t);\n\n                // shape variables\n                var xLeft = x;\n                var xCenter = x + (w / 2);\n                var xRight = x + w;\n\n                var ySideTop = y + ry;\n                var yCurveTop = ySideTop - ry;\n                var ySideBottom = y + h - ry;\n                var yCurveBottom = y + h;\n\n                // return calculated shape\n                var data = [\n                    'M', xLeft, ySideTop,\n                    'L', xLeft, ySideBottom,\n                    'C', x, (ySideBottom + cy), (xCenter - cx), yCurveBottom, xCenter, yCurveBottom,\n                    'C', (xCenter + cx), yCurveBottom, xRight, (ySideBottom + cy), xRight, ySideBottom,\n                    'L', xRight, ySideTop,\n                    'C', xRight, (ySideTop - cy), (xCenter + cx), yCurveTop, xCenter, yCurveTop,\n                    'C', (xCenter - cx), yCurveTop, xLeft, (ySideTop - cy), xLeft, ySideTop,\n                    'Z'\n                ];\n                return { d: data.join(' ') };\n            }\n        }\n    }\n});\n\nvar foLabelMarkup = {\n    tagName: 'foreignObject',\n    selector: 'foreignObject',\n    attributes: {\n        'overflow': 'hidden'\n    },\n    children: [{\n        tagName: 'div',\n        namespaceURI: 'http://www.w3.org/1999/xhtml',\n        selector: 'label',\n        style: {\n            width: '100%',\n            height: '100%',\n            position: 'static',\n            backgroundColor: 'transparent',\n            textAlign: 'center',\n            margin: 0,\n            padding: '0px 5px',\n            boxSizing: 'border-box',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n        }\n    }]\n};\n\nvar svgLabelMarkup = {\n    tagName: 'text',\n    selector: 'label',\n    attributes: {\n        'text-anchor': 'middle'\n    }\n};\n\nvar labelMarkup = (env.test('svgforeignobject')) ? foLabelMarkup : svgLabelMarkup;\n\nexport const TextBlock = Element.define('standard.TextBlock', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            fill: '#ffffff',\n            strokeWidth: 2\n        },\n        foreignObject: {\n            refWidth: '100%',\n            refHeight: '100%'\n        },\n        label: {\n            style: {\n                fontSize: 14\n            }\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, labelMarkup]\n}, {\n    attributes: {\n        text: {\n            set: function(text, refBBox, node, attrs) {\n                if (node instanceof HTMLElement) {\n                    node.textContent = text;\n                } else {\n                    // No foreign object\n                    var style = attrs.style || {};\n                    var wrapValue = { text: text, width: -5, height: '100%' };\n                    var wrapAttrs = assign({ textVerticalAnchor: 'middle' }, style);\n                    attributes.textWrap.set.call(this, wrapValue, refBBox, node, wrapAttrs);\n                    return { fill: style.color || null };\n                }\n            },\n            position: function(text, refBBox, node) {\n                // No foreign object\n                if (node instanceof SVGElement) return refBBox.center();\n            }\n        }\n    }\n});\n\n// LINKS\n\nexport const Link = LinkBase.define('standard.Link', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#333333',\n            strokeWidth: 2,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'd': 'M 10 -5 0 0 10 5 z'\n            }\n        },\n        wrapper: {\n            connection: true,\n            strokeWidth: 10,\n            strokeLinejoin: 'round'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'wrapper',\n        attributes: {\n            'fill': 'none',\n            'cursor': 'pointer',\n            'stroke': 'transparent',\n            'stroke-linecap': 'round'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }]\n});\n\nexport const DoubleLink = LinkBase.define('standard.DoubleLink', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#DDDDDD',\n            strokeWidth: 4,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                type: 'path',\n                stroke: '#000000',\n                d: 'M 10 -3 10 -10 -2 0 10 10 10 3'\n            }\n        },\n        outline: {\n            connection: true,\n            stroke: '#000000',\n            strokeWidth: 6,\n            strokeLinejoin: 'round'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'outline',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none'\n        }\n    }]\n});\n\nexport const ShadowLink = LinkBase.define('standard.ShadowLink', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#FF0000',\n            strokeWidth: 20,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M 0 -10 -10 0 0 10 z'\n            },\n            sourceMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M -10 -10 0 0 -10 10 0 10 0 -10 z'\n            }\n        },\n        shadow: {\n            connection: true,\n            refX: 3,\n            refY: 6,\n            stroke: '#000000',\n            strokeOpacity: 0.2,\n            strokeWidth: 20,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'd': 'M 0 -10 -10 0 0 10 z',\n                'stroke': 'none'\n            },\n            sourceMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M -10 -10 0 0 -10 10 0 10 0 -10 z'\n            }\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'shadow',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none'\n        }\n    }]\n});\n","import { Generic } from './basic.mjs';\nimport { Link as LinkBase } from '../dia/Link.mjs';\nimport { uniq, difference, assign, toArray, without, isObject } from '../util/index.mjs';\n\n/**\n * @deprecated use the port api instead\n */\nexport const Model = Generic.define('devs.Model', {\n    inPorts: [],\n    outPorts: [],\n    size: {\n        width: 80,\n        height: 80\n    },\n    attrs: {\n        '.': {\n            magnet: false\n        },\n        '.label': {\n            text: 'Model',\n            'ref-x': .5,\n            'ref-y': 10,\n            'font-size': 18,\n            'text-anchor': 'middle',\n            fill: '#000'\n        },\n        '.body': {\n            'ref-width': '100%',\n            'ref-height': '100%',\n            stroke: '#000'\n        }\n    },\n    ports: {\n        groups: {\n            'in': {\n                position: {\n                    name: 'left'\n                },\n                attrs: {\n                    '.port-label': {\n                        fill: '#000'\n                    },\n                    '.port-body': {\n                        fill: '#fff',\n                        stroke: '#000',\n                        r: 10,\n                        magnet: true\n                    }\n                },\n                label: {\n                    position: {\n                        name: 'left',\n                        args: {\n                            y: 10\n                        }\n                    }\n                }\n            },\n            'out': {\n                position: {\n                    name: 'right'\n                },\n                attrs: {\n                    '.port-label': {\n                        fill: '#000'\n                    },\n                    '.port-body': {\n                        fill: '#fff',\n                        stroke: '#000',\n                        r: 10,\n                        magnet: true\n                    }\n                },\n                label: {\n                    position: {\n                        name: 'right',\n                        args: {\n                            y: 10\n                        }\n                    }\n                }\n            }\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><rect class=\"body\"/><text class=\"label\"/></g>',\n    portMarkup: '<circle class=\"port-body\"/>',\n    portLabelMarkup: '<text class=\"port-label\"/>',\n\n    initialize: function() {\n\n        Generic.prototype.initialize.apply(this, arguments);\n\n        this.on('change:inPorts change:outPorts', this.updatePortItems, this);\n        this.updatePortItems();\n    },\n\n    updatePortItems: function(model, changed, opt) {\n\n        // Make sure all ports are unique.\n        var inPorts = uniq(this.get('inPorts'));\n        var outPorts = difference(uniq(this.get('outPorts')), inPorts);\n\n        var inPortItems = this.createPortItems('in', inPorts);\n        var outPortItems = this.createPortItems('out', outPorts);\n\n        this.prop('ports/items', inPortItems.concat(outPortItems), assign({ rewrite: true }, opt));\n    },\n\n    createPortItem: function(group, port) {\n\n        return {\n            id: port,\n            group: group,\n            attrs: {\n                '.port-label': {\n                    text: port\n                }\n            }\n        };\n    },\n\n    createPortItems: function(group, ports) {\n\n        return toArray(ports).map(this.createPortItem.bind(this, group));\n    },\n\n    _addGroupPort: function(port, group, opt) {\n\n        var ports = this.get(group);\n        return this.set(group, Array.isArray(ports) ? ports.concat(port) : [port], opt);\n    },\n\n    addOutPort: function(port, opt) {\n\n        return this._addGroupPort(port, 'outPorts', opt);\n    },\n\n    addInPort: function(port, opt) {\n\n        return this._addGroupPort(port, 'inPorts', opt);\n    },\n\n    _removeGroupPort: function(port, group, opt) {\n\n        return this.set(group, without(this.get(group), port), opt);\n    },\n\n    removeOutPort: function(port, opt) {\n\n        return this._removeGroupPort(port, 'outPorts', opt);\n    },\n\n    removeInPort: function(port, opt) {\n\n        return this._removeGroupPort(port, 'inPorts', opt);\n    },\n\n    _changeGroup: function(group, properties, opt) {\n\n        return this.prop('ports/groups/' + group, isObject(properties) ? properties : {}, opt);\n    },\n\n    changeInGroup: function(properties, opt) {\n\n        return this._changeGroup('in', properties, opt);\n    },\n\n    changeOutGroup: function(properties, opt) {\n\n        return this._changeGroup('out', properties, opt);\n    }\n});\n\nexport const Atomic = Model.define('devs.Atomic', {\n    size: {\n        width: 80,\n        height: 80\n    },\n    attrs: {\n        '.label': {\n            text: 'Atomic'\n        }\n    }\n});\n\nexport const Coupled = Model.define('devs.Coupled', {\n    size: {\n        width: 200,\n        height: 300\n    },\n    attrs: {\n        '.label': {\n            text: 'Coupled'\n        }\n    }\n});\n\nexport const Link = LinkBase.define('devs.Link', {\n    attrs: {\n        '.connection': {\n            'stroke-width': 2\n        }\n    }\n});\n\n","import { Generic } from './basic.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Gate = Generic.define('logic.Gate', {\n    size: { width: 80, height: 40 },\n    attrs: {\n        '.': { magnet: false },\n        '.body': { width: 100, height: 50 },\n        circle: { r: 7, stroke: 'black', fill: 'transparent', 'stroke-width': 2 }\n    }\n}, {\n    operation: function() {\n        return true;\n    }\n});\n\nexport const IO = Gate.define('logic.IO', {\n    size: { width: 60, height: 30 },\n    attrs: {\n        '.body': { fill: 'white', stroke: 'black', 'stroke-width': 2 },\n        '.wire': { ref: '.body', 'ref-y': .5, stroke: 'black' },\n        text: {\n            fill: 'black',\n            ref: '.body', 'ref-x': .5, 'ref-y': .5, 'y-alignment': 'middle',\n            'text-anchor': 'middle',\n            'font-weight': 'bold',\n            'font-variant': 'small-caps',\n            'text-transform': 'capitalize',\n            'font-size': '14px'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"body\"/></g><path class=\"wire\"/><circle/><text/></g>',\n});\n\nexport const Input = IO.define('logic.Input', {\n    attrs: {\n        '.wire': { 'ref-dx': 0, d: 'M 0 0 L 23 0' },\n        circle: { ref: '.body', 'ref-dx': 30, 'ref-y': 0.5, magnet: true, 'class': 'output', port: 'out' },\n        text: { text: 'input' }\n    }\n});\n\nexport const Output = IO.define('logic.Output', {\n    attrs: {\n        '.wire': { 'ref-x': 0, d: 'M 0 0 L -23 0' },\n        circle: { ref: '.body', 'ref-x': -30, 'ref-y': 0.5, magnet: 'passive', 'class': 'input', port: 'in' },\n        text: { text: 'output' }\n    }\n});\n\nexport const Gate11 = Gate.define('logic.Gate11', {\n    attrs: {\n        '.input': { ref: '.body', 'ref-x': -2, 'ref-y': 0.5, magnet: 'passive', port: 'in' },\n        '.output': { ref: '.body', 'ref-dx': 2, 'ref-y': 0.5, magnet: true, port: 'out' }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image class=\"body\"/></g><circle class=\"input\"/><circle class=\"output\"/></g>',\n});\n\nexport const Gate21 = Gate.define('logic.Gate21', {\n    attrs: {\n        '.input1': { ref: '.body', 'ref-x': -2, 'ref-y': 0.3, magnet: 'passive', port: 'in1' },\n        '.input2': { ref: '.body', 'ref-x': -2, 'ref-y': 0.7, magnet: 'passive', port: 'in2' },\n        '.output': { ref: '.body', 'ref-dx': 2, 'ref-y': 0.5, magnet: true, port: 'out' }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image class=\"body\"/></g><circle class=\"input input1\"/><circle  class=\"input input2\"/><circle class=\"output\"/></g>',\n});\n\nexport const Repeater = Gate11.define('logic.Repeater', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo=' }}\n}, {\n    operation: function(input) {\n        return input;\n    }\n});\n\nexport const Not = Gate11.define('logic.Not', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input) {\n        return !input;\n    }\n});\n\nexport const Or = Gate21.define('logic.Or', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=' }}\n}, {\n    operation: function(input1, input2) {\n        return input1 || input2;\n    }\n});\n\nexport const And = Gate21.define('logic.And', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n\n}, {\n    operation: function(input1, input2) {\n        return input1 && input2;\n    }\n});\n\nexport const Nor = Gate21.define('logic.Nor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input1, input2) {\n        return !(input1 || input2);\n    }\n});\n\nexport const Nand = Gate21.define('logic.Nand', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n}, {\n    operation: function(input1, input2) {\n        return !(input1 && input2);\n    }\n});\n\nexport const Xor = Gate21.define('logic.Xor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input1, input2) {\n        return (!input1 || input2) && (input1 || !input2);\n    }\n});\n\nexport const Xnor = Gate21.define('logic.Xnor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n}, {\n    operation: function(input1, input2) {\n        return (!input1 || !input2) && (input1 || input2);\n    }\n});\n\nexport const Wire = Link.define('logic.Wire', {\n    attrs: {\n        '.connection': { 'stroke-width': 2 },\n        '.marker-vertex': { r: 7 }\n    },\n\n    router: { name: 'orthogonal' },\n    connector: { name: 'rounded', args: { radius: 10 }}\n}, {\n    arrowheadMarkup: [\n        '<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">',\n        '<circle class=\"marker-arrowhead\" end=\"<%= end %>\" r=\"7\"/>',\n        '</g>'\n    ].join(''),\n\n    vertexMarkup: [\n        '<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">',\n        '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />',\n        '<g class=\"marker-vertex-remove-group\">',\n        '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>',\n        '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">',\n        '<title>Remove vertex.</title>',\n        '</path>',\n        '</g>',\n        '</g>'\n    ].join('')\n});\n","import { Generic } from './basic.mjs';\n\nexport const KingWhite = Generic.define('chess.KingWhite', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\"><path      d=\"M 22.5,11.63 L 22.5,6\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path      d=\"M 20,8 L 25,8\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path      d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"      style=\"fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;\" />    <path      d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 11.5,30 C 17,27 27,27 32.5,30\"      style=\"fill:none; stroke:#000000;\" />    <path      d=\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"      style=\"fill:none; stroke:#000000;\" />    <path      d=\"M 11.5,37 C 17,34 27,34 32.5,37\"      style=\"fill:none; stroke:#000000;\" />  </g></g></g>'\n});\n\nexport const KingBlack = Generic.define('chess.KingBlack', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path       d=\"M 22.5,11.63 L 22.5,6\"       style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\"       id=\"path6570\" />    <path       d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"       style=\"fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;\" />    <path       d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"       style=\"fill:#000000; stroke:#000000;\" />    <path       d=\"M 20,8 L 25,8\"       style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path       d=\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"       style=\"fill:none; stroke:#ffffff;\" />  </g></g></g>'\n});\n\nexport const QueenWhite = Generic.define('chess.QueenWhite', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(-1,-1)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(15.5,-5.5)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(32,-1)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(7,-4.5)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(24,-4)\" />    <path      d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11.5,30 C 15,29 30,29 33.5,30\"      style=\"fill:none;\" />    <path      d=\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"      style=\"fill:none;\" />  </g></g></g>'\n});\n\nexport const QueenBlack = Generic.define('chess.QueenBlack', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#000000; stroke:none;\">      <circle cx=\"6\"    cy=\"12\" r=\"2.75\" />      <circle cx=\"14\"   cy=\"9\"  r=\"2.75\" />      <circle cx=\"22.5\" cy=\"8\"  r=\"2.75\" />      <circle cx=\"31\"   cy=\"9\"  r=\"2.75\" />      <circle cx=\"39\"   cy=\"12\" r=\"2.75\" />    </g>    <path       d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"       style=\"stroke-linecap:butt; stroke:#000000;\" />    <path       d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"       style=\"stroke-linecap:butt;\" />    <path       d=\"M 11,38.5 A 35,35 1 0 0 34,38.5\"       style=\"fill:none; stroke:#000000; stroke-linecap:butt;\" />    <path       d=\"M 11,29 A 35,35 1 0 1 34,29\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 12.5,31.5 L 32.5,31.5\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"       style=\"fill:none; stroke:#ffffff;\" />  </g></g></g>'\n});\n\nexport const RookWhite = Generic.define('chess.RookWhite', {\n    size: { width: 32, height: 34 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 34,14 L 31,17 L 14,17 L 11,14\" />    <path      d=\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"      style=\"stroke-linecap:butt; stroke-linejoin:miter;\" />    <path      d=\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\" />    <path      d=\"M 11,14 L 34,14\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const RookBlack = Generic.define('chess.RookBlack', {\n    size: { width: 32, height: 34 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"      style=\"stroke-linecap:butt;stroke-linejoin:miter;\" />    <path      d=\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,35.5 L 33,35.5 L 33,35.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 13,31.5 L 32,31.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 14,29.5 L 31,29.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 14,16.5 L 31,16.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 11,14 L 34,14\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const BishopWhite = Generic.define('chess.BishopWhite', {\n    size: { width: 38, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#ffffff; stroke:#000000; stroke-linecap:butt;\">       <path        d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />      <path        d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />      <path        d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />    </g>    <path      d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const BishopBlack = Generic.define('chess.BishopBlack', {\n    size: { width: 38, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#000000; stroke:#000000; stroke-linecap:butt;\">       <path        d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />      <path        d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />      <path        d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />    </g>    <path       d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"       style=\"fill:none; stroke:#ffffff; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const KnightWhite = Generic.define('chess.KnightWhite', {\n    size: { width: 38, height: 37 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"      transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"      style=\"fill:#000000; stroke:#000000;\" />  </g></g></g>'\n});\n\nexport const KnightBlack = Generic.define('chess.KnightBlack', {\n    size: { width: 38, height: 37 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"      style=\"fill:#ffffff; stroke:#ffffff;\" />    <path      d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"      transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"      style=\"fill:#ffffff; stroke:#ffffff;\" />    <path      d=\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"      style=\"fill:#ffffff; stroke:none;\" />  </g></g></g>'\n});\n\nexport const PawnWhite = Generic.define('chess.PawnWhite', {\n    size: { width: 28, height: 33 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"  style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\" /></g></g>'\n});\n\nexport const PawnBlack = Generic.define('chess.PawnBlack', {\n    size: { width: 28, height: 33 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"  style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\" /></g></g>'\n});\n\n","import { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Entity = Element.define('erd.Entity', {\n    size: { width: 150, height: 60 },\n    attrs: {\n        '.outer': {\n            fill: '#2ECC71', stroke: '#27AE60', 'stroke-width': 2,\n            points: '100,0 100,60 0,60 0,0'\n        },\n        '.inner': {\n            fill: '#2ECC71', stroke: '#27AE60', 'stroke-width': 2,\n            points: '95,5 95,55 5,55 5,5',\n            display: 'none'\n        },\n        text: {\n            text: 'Entity',\n            'font-family': 'Arial', 'font-size': 14,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon class=\"outer\"/><polygon class=\"inner\"/></g><text/></g>',\n});\n\nexport const WeakEntity = Entity.define('erd.WeakEntity', {\n    attrs: {\n        '.inner': { display: 'auto' },\n        text: { text: 'Weak Entity' }\n    }\n});\n\nexport const Relationship = Element.define('erd.Relationship', {\n    size: { width: 80, height: 80 },\n    attrs: {\n        '.outer': {\n            fill: '#3498DB', stroke: '#2980B9', 'stroke-width': 2,\n            points: '40,0 80,40 40,80 0,40'\n        },\n        '.inner': {\n            fill: '#3498DB', stroke: '#2980B9', 'stroke-width': 2,\n            points: '40,5 75,40 40,75 5,40',\n            display: 'none'\n        },\n        text: {\n            text: 'Relationship',\n            'font-family': 'Arial', 'font-size': 12,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon class=\"outer\"/><polygon class=\"inner\"/></g><text/></g>',\n});\n\nexport const IdentifyingRelationship = Relationship.define('erd.IdentifyingRelationship', {\n    attrs: {\n        '.inner': { display: 'auto' },\n        text: { text: 'Identifying' }\n    }\n});\n\nexport const Attribute = Element.define('erd.Attribute', {\n    size: { width: 100, height: 50 },\n    attrs: {\n        'ellipse': {\n            transform: 'translate(50, 25)'\n        },\n        '.outer': {\n            stroke: '#D35400', 'stroke-width': 2,\n            cx: 0, cy: 0, rx: 50, ry: 25,\n            fill: '#E67E22'\n        },\n        '.inner': {\n            stroke: '#D35400', 'stroke-width': 2,\n            cx: 0, cy: 0, rx: 45, ry: 20,\n            fill: '#E67E22', display: 'none'\n        },\n        text: {\n            'font-family': 'Arial', 'font-size': 14,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><ellipse class=\"outer\"/><ellipse class=\"inner\"/></g><text/></g>',\n});\n\nexport const Multivalued = Attribute.define('erd.Multivalued', {\n    attrs: {\n        '.inner': { display: 'block' },\n        text: { text: 'multivalued' }\n    }\n});\n\nexport const Derived = Attribute.define('erd.Derived', {\n    attrs: {\n        '.outer': { 'stroke-dasharray': '3,5' },\n        text: { text: 'derived' }\n    }\n});\n\nexport const Key = Attribute.define('erd.Key', {\n    attrs: {\n        ellipse: { 'stroke-width': 4 },\n        text: { text: 'key', 'font-weight': '800', 'text-decoration': 'underline' }\n    }\n});\n\nexport const Normal = Attribute.define('erd.Normal', {\n    attrs: { text: { text: 'Normal' }}\n});\n\nexport const ISA = Element.define('erd.ISA', {\n    type: 'erd.ISA',\n    size: { width: 100, height: 50 },\n    attrs: {\n        polygon: {\n            points: '0,0 50,50 100,0',\n            fill: '#F1C40F', stroke: '#F39C12', 'stroke-width': 2\n        },\n        text: {\n            text: 'ISA', 'font-size': 18,\n            'ref-x': .5, 'ref-y': .3,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon/></g><text/></g>',\n});\n\nexport const Line = Link.define('erd.Line', {}, {\n    cardinality: function(value) {\n        this.set('labels', [{ position: -20, attrs: { text: { dy: -8, text: value }}}]);\n    }\n});\n","import { Circle } from './basic.mjs';\nimport { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const State = Circle.define('fsa.State', {\n    attrs: {\n        circle: { 'stroke-width': 3 },\n        text: { 'font-weight': '800' }\n    }\n});\n\nexport const StartState = Element.define('fsa.StartState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        circle: {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle/></g></g>',\n});\n\nexport const EndState = Element.define('fsa.EndState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        '.outer': {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n\n        '.inner': {\n            transform: 'translate(10, 10)',\n            r: 6,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"outer\"/><circle class=\"inner\"/></g></g>',\n});\n\nexport const Arrow = Link.define('fsa.Arrow', {\n    attrs: { '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z' }},\n    smooth: true\n});\n\n\n","import { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Member = Element.define('org.Member', {\n    size: { width: 180, height: 70 },\n    attrs: {\n        rect: { width: 170, height: 60 },\n\n        '.card': {\n            fill: '#FFFFFF', stroke: '#000000', 'stroke-width': 2,\n            'pointer-events': 'visiblePainted', rx: 10, ry: 10\n        },\n\n        image: {\n            width: 48, height: 48,\n            ref: '.card', 'ref-x': 10, 'ref-y': 5\n        },\n\n        '.rank': {\n            'text-decoration': 'underline',\n            ref: '.card', 'ref-x': 0.9, 'ref-y': 0.2,\n            'font-family': 'Courier New', 'font-size': 14,\n            'text-anchor': 'end'\n        },\n\n        '.name': {\n            'font-weight': '800',\n            ref: '.card', 'ref-x': 0.9, 'ref-y': 0.6,\n            'font-family': 'Courier New', 'font-size': 14,\n            'text-anchor': 'end'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"card\"/><image/></g><text class=\"rank\"/><text class=\"name\"/></g>',\n});\n\nexport const Arrow = Link.define('org.Arrow', {\n    source: { selector: '.card' }, target: { selector: '.card' },\n    attrs: { '.connection': { stroke: '#585858', 'stroke-width': 3 }},\n    z: -1\n});\n\n","import { Generic } from './basic.mjs';\nimport { ElementView } from '../dia/ElementView.mjs';\nimport V from '../V/index.mjs';\nimport { Link as diaLink } from '../dia/Link.mjs';\n\nexport const Place = Generic.define('pn.Place', {\n    size: { width: 50, height: 50 },\n    attrs: {\n        '.root': {\n            r: 25,\n            fill: '#ffffff',\n            stroke: '#000000',\n            transform: 'translate(25, 25)'\n        },\n        '.label': {\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': -20,\n            ref: '.root',\n            fill: '#000000',\n            'font-size': 12\n        },\n        '.tokens > circle': {\n            fill: '#000000',\n            r: 5\n        },\n        '.tokens.one > circle': { transform: 'translate(25, 25)' },\n\n        '.tokens.two > circle:nth-child(1)': { transform: 'translate(19, 25)' },\n        '.tokens.two > circle:nth-child(2)': { transform: 'translate(31, 25)' },\n\n        '.tokens.three > circle:nth-child(1)': { transform: 'translate(18, 29)' },\n        '.tokens.three > circle:nth-child(2)': { transform: 'translate(25, 19)' },\n        '.tokens.three > circle:nth-child(3)': { transform: 'translate(32, 29)' },\n\n        '.tokens.alot > text': {\n            transform: 'translate(25, 18)',\n            'text-anchor': 'middle',\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"root\"/><g class=\"tokens\" /></g><text class=\"label\"/></g>',\n});\n\nexport const PlaceView = ElementView.extend({\n\n    presentationAttributes: ElementView.addPresentationAttributes({\n        tokens: ['TOKENS']\n    }),\n\n    initFlag: ElementView.prototype.initFlag.concat(['TOKENS']),\n\n    confirmUpdate: function(...args) {\n        let flags = ElementView.prototype.confirmUpdate.call(this, ...args);\n        if (this.hasFlag(flags, 'TOKENS')) {\n            this.renderTokens();\n            this.update();\n            flags = this.removeFlag(flags, 'TOKENS');\n        }\n        return flags;\n    },\n\n    renderTokens: function() {\n\n        const vTokens = this.vel.findOne('.tokens').empty();\n        ['one', 'two', 'three', 'alot'].forEach(function(className) {\n            vTokens.removeClass(className);\n        });\n\n        var tokens = this.model.get('tokens');\n        if (!tokens) return;\n\n        switch (tokens) {\n\n            case 1:\n                vTokens.addClass('one');\n                vTokens.append(V('circle'));\n                break;\n\n            case 2:\n                vTokens.addClass('two');\n                vTokens.append([V('circle'), V('circle')]);\n                break;\n\n            case 3:\n                vTokens.addClass('three');\n                vTokens.append([V('circle'), V('circle'), V('circle')]);\n                break;\n\n            default:\n                vTokens.addClass('alot');\n                vTokens.append(V('text').text(tokens + ''));\n                break;\n        }\n    }\n});\n\nexport const Transition = Generic.define('pn.Transition', {\n    size: { width: 12, height: 50 },\n    attrs: {\n        'rect': {\n            width: 12,\n            height: 50,\n            fill: '#000000',\n            stroke: '#000000'\n        },\n        '.label': {\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': -20,\n            ref: 'rect',\n            fill: '#000000',\n            'font-size': 12\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"root\"/></g></g><text class=\"label\"/>',\n});\n\nexport const Link = diaLink.define('pn.Link', {\n    attrs: { '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z' }}\n});\n","import { ElementView } from '../dia/ElementView.mjs';\nimport { Link } from '../dia/Link.mjs';\nimport { Generic, Circle } from './basic.mjs';\n\nexport const Class = Generic.define('uml.Class', {\n    attrs: {\n        rect: { 'width': 200 },\n\n        '.uml-class-name-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#3498db' },\n        '.uml-class-attrs-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#2980b9' },\n        '.uml-class-methods-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#2980b9' },\n\n        '.uml-class-name-text': {\n            'ref': '.uml-class-name-rect',\n            'ref-y': .5,\n            'ref-x': .5,\n            'text-anchor': 'middle',\n            'y-alignment': 'middle',\n            'font-weight': 'bold',\n            'fill': 'black',\n            'font-size': 12,\n            'font-family': 'Times New Roman'\n        },\n        '.uml-class-attrs-text': {\n            'ref': '.uml-class-attrs-rect', 'ref-y': 5, 'ref-x': 5,\n            'fill': 'black', 'font-size': 12, 'font-family': 'Times New Roman'\n        },\n        '.uml-class-methods-text': {\n            'ref': '.uml-class-methods-rect', 'ref-y': 5, 'ref-x': 5,\n            'fill': 'black', 'font-size': 12, 'font-family': 'Times New Roman'\n        }\n    },\n\n    name: [],\n    attributes: [],\n    methods: []\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\">',\n        '<rect class=\"uml-class-name-rect\"/><rect class=\"uml-class-attrs-rect\"/><rect class=\"uml-class-methods-rect\"/>',\n        '</g>',\n        '<text class=\"uml-class-name-text\"/><text class=\"uml-class-attrs-text\"/><text class=\"uml-class-methods-text\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.on('change:name change:attributes change:methods', function() {\n            this.updateRectangles();\n            this.trigger('uml-update');\n        }, this);\n\n        this.updateRectangles();\n\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    getClassName: function() {\n        return this.get('name');\n    },\n\n    updateRectangles: function() {\n\n        var attrs = this.get('attrs');\n\n        var rects = [\n            { type: 'name', text: this.getClassName() },\n            { type: 'attrs', text: this.get('attributes') },\n            { type: 'methods', text: this.get('methods') }\n        ];\n\n        var offsetY = 0;\n\n        rects.forEach(function(rect) {\n\n            var lines = Array.isArray(rect.text) ? rect.text : [rect.text];\n            var rectHeight = lines.length * 20 + 20;\n\n            attrs['.uml-class-' + rect.type + '-text'].text = lines.join('\\n');\n            attrs['.uml-class-' + rect.type + '-rect'].height = rectHeight;\n            attrs['.uml-class-' + rect.type + '-rect'].transform = 'translate(0,' + offsetY + ')';\n\n            offsetY += rectHeight;\n        });\n    }\n\n});\n\nexport const ClassView = ElementView.extend({\n\n    initialize: function() {\n\n        ElementView.prototype.initialize.apply(this, arguments);\n\n        this.listenTo(this.model, 'uml-update', function() {\n            this.update();\n            this.resize();\n        });\n    }\n});\n\nexport const Abstract = Class.define('uml.Abstract', {\n    attrs: {\n        '.uml-class-name-rect': { fill: '#e74c3c' },\n        '.uml-class-attrs-rect': { fill: '#c0392b' },\n        '.uml-class-methods-rect': { fill: '#c0392b' }\n    }\n}, {\n\n    getClassName: function() {\n        return ['<<Abstract>>', this.get('name')];\n    }\n\n});\nexport const AbstractView = ClassView;\n\nexport const Interface = Class.define('uml.Interface', {\n    attrs: {\n        '.uml-class-name-rect': { fill: '#f1c40f' },\n        '.uml-class-attrs-rect': { fill: '#f39c12' },\n        '.uml-class-methods-rect': { fill: '#f39c12' }\n    }\n}, {\n    getClassName: function() {\n        return ['<<Interface>>', this.get('name')];\n    }\n});\nexport const InterfaceView = ClassView;\n\nexport const Generalization = Link.define('uml.Generalization', {\n    attrs: { '.marker-target': { d: 'M 20 0 L 0 10 L 20 20 z', fill: 'white' }}\n});\n\nexport const Implementation = Link.define('uml.Implementation', {\n    attrs: {\n        '.marker-target': { d: 'M 20 0 L 0 10 L 20 20 z', fill: 'white' },\n        '.connection': { 'stroke-dasharray': '3,3' }\n    }\n});\n\nexport const Aggregation = Link.define('uml.Aggregation', {\n    attrs: { '.marker-target': { d: 'M 40 10 L 20 20 L 0 10 L 20 0 z', fill: 'white' }}\n});\n\nexport const Composition = Link.define('uml.Composition', {\n    attrs: { '.marker-target': { d: 'M 40 10 L 20 20 L 0 10 L 20 0 z', fill: 'black' }}\n});\n\nexport const Association = Link.define('uml.Association');\n\n// Statechart\n\nexport const State = Generic.define('uml.State', {\n    attrs: {\n        '.uml-state-body': {\n            'width': 200, 'height': 200, 'rx': 10, 'ry': 10,\n            'fill': '#ecf0f1', 'stroke': '#bdc3c7', 'stroke-width': 3\n        },\n        '.uml-state-separator': {\n            'stroke': '#bdc3c7', 'stroke-width': 2\n        },\n        '.uml-state-name': {\n            'ref': '.uml-state-body', 'ref-x': .5, 'ref-y': 5, 'text-anchor': 'middle',\n            'fill': '#000000', 'font-family': 'Courier New', 'font-size': 14\n        },\n        '.uml-state-events': {\n            'ref': '.uml-state-separator', 'ref-x': 5, 'ref-y': 5,\n            'fill': '#000000', 'font-family': 'Courier New', 'font-size': 14\n        }\n    },\n\n    name: 'State',\n    events: []\n\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\">',\n        '<rect class=\"uml-state-body\"/>',\n        '</g>',\n        '<path class=\"uml-state-separator\"/>',\n        '<text class=\"uml-state-name\"/>',\n        '<text class=\"uml-state-events\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.on({\n            'change:name': this.updateName,\n            'change:events': this.updateEvents,\n            'change:size': this.updatePath\n        }, this);\n\n        this.updateName();\n        this.updateEvents();\n        this.updatePath();\n\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    updateName: function() {\n\n        this.attr('.uml-state-name/text', this.get('name'));\n    },\n\n    updateEvents: function() {\n\n        this.attr('.uml-state-events/text', this.get('events').join('\\n'));\n    },\n\n    updatePath: function() {\n\n        var d = 'M 0 20 L ' + this.get('size').width + ' 20';\n\n        // We are using `silent: true` here because updatePath() is meant to be called\n        // on resize and there's no need to to update the element twice (`change:size`\n        // triggers also an update).\n        this.attr('.uml-state-separator/d', d, { silent: true });\n    }\n});\n\nexport const StartState = Circle.define('uml.StartState', {\n    type: 'uml.StartState',\n    attrs: { circle: { 'fill': '#34495e', 'stroke': '#2c3e50', 'stroke-width': 2, 'rx': 1 }}\n});\n\nexport const EndState = Generic.define('uml.EndState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        'circle.outer': {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#ffffff',\n            stroke: '#2c3e50'\n        },\n\n        'circle.inner': {\n            transform: 'translate(10, 10)',\n            r: 6,\n            fill: '#34495e'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"outer\"/><circle class=\"inner\"/></g></g>',\n});\n\nexport const Transition = Link.define('uml.Transition', {\n    attrs: {\n        '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z', fill: '#34495e', stroke: '#2c3e50' },\n        '.connection': { stroke: '#2c3e50' }\n    }\n});\n","import * as util from '../util/index.mjs';\n\nfunction abs2rel(value, max) {\n\n    if (max === 0) return '0%';\n    return Math.round(value / max * 100) + '%';\n}\n\nfunction pin(relative) {\n\n    return function(end, view, magnet, coords) {\n        var fn = (view.isNodeConnection(magnet)) ? pinnedLinkEnd : pinnedElementEnd;\n        return fn(relative, end, view, magnet, coords);\n    };\n}\n\nfunction pinnedElementEnd(relative, end, view, magnet, coords) {\n\n    var angle = view.model.angle();\n    var bbox = view.getNodeUnrotatedBBox(magnet);\n    var origin = view.model.getBBox().center();\n    coords.rotate(origin, angle);\n    var dx = coords.x - bbox.x;\n    var dy = coords.y - bbox.y;\n\n    if (relative) {\n        dx = abs2rel(dx, bbox.width);\n        dy = abs2rel(dy, bbox.height);\n    }\n\n    end.anchor = {\n        name: 'topLeft',\n        args: {\n            dx: dx,\n            dy: dy,\n            rotate: true\n        }\n    };\n\n    return end;\n}\n\nfunction pinnedLinkEnd(relative, end, view, _magnet, coords) {\n\n    var connection = view.getConnection();\n    if (!connection) return end;\n    var length = connection.closestPointLength(coords);\n    if (relative) {\n        var totalLength = connection.length();\n        end.anchor = {\n            name: 'connectionRatio',\n            args: {\n                ratio: length / totalLength\n            }\n        };\n    } else {\n        end.anchor = {\n            name: 'connectionLength',\n            args: {\n                length: length\n            }\n        };\n    }\n    return end;\n}\n\nexport const useDefaults = util.noop;\nexport const pinAbsolute = pin(false);\nexport const pinRelative = pin(true);\n\n","import * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport * as util from '../util/index.mjs';\nimport * as connectionStrategies from '../connectionStrategies/index.mjs';\nimport * as mvc from '../mvc/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\n\nfunction getAnchor(coords, view, magnet) {\n    // take advantage of an existing logic inside of the\n    // pin relative connection strategy\n    var end = connectionStrategies.pinRelative.call(\n        this.paper,\n        {},\n        view,\n        magnet,\n        coords,\n        this.model\n    );\n    return end.anchor;\n}\n\nfunction snapAnchor(coords, view, magnet, type, relatedView, toolView) {\n    var snapRadius = toolView.options.snapRadius;\n    var isSource = (type === 'source');\n    var refIndex = (isSource ? 0 : -1);\n    var ref = this.model.vertex(refIndex) || this.getEndAnchor(isSource ? 'target' : 'source');\n    if (ref) {\n        if (Math.abs(ref.x - coords.x) < snapRadius) coords.x = ref.x;\n        if (Math.abs(ref.y - coords.y) < snapRadius) coords.y = ref.y;\n    }\n    return coords;\n}\n\nfunction getViewBBox(view, useModelGeometry) {\n    const { model } = view;\n    if (useModelGeometry) return model.getBBox();\n    return (model.isLink()) ? view.getConnection().bbox() : view.getNodeUnrotatedBBox(view.el);\n}\n\n// Vertex Handles\nvar VertexHandle = mvc.View.extend({\n    tagName: 'circle',\n    svgElement: true,\n    className: 'marker-vertex',\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown',\n        dblclick: 'onDoubleClick'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    attributes: {\n        'r': 6,\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move'\n    },\n    position: function(x, y) {\n        this.vel.attr({ cx: x, cy: y });\n    },\n    onPointerDown: function(evt) {\n        if (this.options.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.options.paper.undelegateEvents();\n        this.delegateDocumentEvents(null, evt.data);\n        this.trigger('will-change', this, evt);\n    },\n    onPointerMove: function(evt) {\n        this.trigger('changing', this, evt);\n    },\n    onDoubleClick: function(evt) {\n        this.trigger('remove', this, evt);\n    },\n    onPointerUp: function(evt) {\n        this.trigger('changed', this, evt);\n        this.undelegateDocumentEvents();\n        this.options.paper.delegateEvents();\n    }\n});\n\nvar Vertices = ToolView.extend({\n    name: 'vertices',\n    options: {\n        handleClass: VertexHandle,\n        snapRadius: 20,\n        redundancyRemoval: true,\n        vertexAdding: true,\n        stopPropagation: true\n    },\n    children: [{\n        tagName: 'path',\n        selector: 'connection',\n        className: 'joint-vertices-path',\n        attributes: {\n            'fill': 'none',\n            'stroke': 'transparent',\n            'stroke-width': 10,\n            'cursor': 'cell'\n        }\n    }],\n    handles: null,\n    events: {\n        'mousedown .joint-vertices-path': 'onPathPointerDown',\n        'touchstart .joint-vertices-path': 'onPathPointerDown'\n    },\n    onRender: function() {\n        if (this.options.vertexAdding) {\n            this.renderChildren();\n            this.updatePath();\n        }\n        this.resetHandles();\n        this.renderHandles();\n        return this;\n    },\n    update: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        if (vertices.length === this.handles.length) {\n            this.updateHandles();\n        } else {\n            this.resetHandles();\n            this.renderHandles();\n        }\n        if (this.options.vertexAdding) {\n            this.updatePath();\n        }\n        return this;\n    },\n    resetHandles: function() {\n        var handles = this.handles;\n        this.handles = [];\n        this.stopListening();\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            handles[i].remove();\n        }\n    },\n    renderHandles: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        for (var i = 0, n = vertices.length; i < n; i++) {\n            var vertex = vertices[i];\n            var handle = new (this.options.handleClass)({\n                index: i,\n                paper: this.paper,\n                guard: evt => this.guard(evt)\n            });\n            handle.render();\n            handle.position(vertex.x, vertex.y);\n            this.simulateRelatedView(handle.el);\n            handle.vel.appendTo(this.el);\n            this.handles.push(handle);\n            this.startHandleListening(handle);\n        }\n    },\n    updateHandles: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        for (var i = 0, n = vertices.length; i < n; i++) {\n            var vertex = vertices[i];\n            var handle = this.handles[i];\n            if (!handle) return;\n            handle.position(vertex.x, vertex.y);\n        }\n    },\n    updatePath: function() {\n        var connection = this.childNodes.connection;\n        if (connection) connection.setAttribute('d', this.relatedView.getSerializedConnection());\n    },\n    startHandleListening: function(handle) {\n        var relatedView = this.relatedView;\n        if (relatedView.can('vertexMove')) {\n            this.listenTo(handle, 'will-change', this.onHandleWillChange);\n            this.listenTo(handle, 'changing', this.onHandleChanging);\n            this.listenTo(handle, 'changed', this.onHandleChanged);\n        }\n        if (relatedView.can('vertexRemove')) {\n            this.listenTo(handle, 'remove', this.onHandleRemove);\n        }\n    },\n    getNeighborPoints: function(index) {\n        var linkView = this.relatedView;\n        var vertices = linkView.model.vertices();\n        var prev = (index > 0) ? vertices[index - 1] : linkView.sourceAnchor;\n        var next = (index < vertices.length - 1) ? vertices[index + 1] : linkView.targetAnchor;\n        return {\n            prev: new g.Point(prev),\n            next: new g.Point(next)\n        };\n    },\n    onHandleWillChange: function(_handle, evt) {\n        this.focus();\n        const { relatedView, options } = this;\n        relatedView.model.startBatch('vertex-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) relatedView.notifyPointerdown(...relatedView.paper.getPointerArgs(evt));\n    },\n    onHandleChanging: function(handle, evt) {\n        const { options, relatedView: linkView } = this;\n        var index = handle.options.index;\n        var [normalizedEvent, x, y] = linkView.paper.getPointerArgs(evt);\n        var vertex = { x, y };\n        this.snapVertex(vertex, index);\n        linkView.model.vertex(index, vertex, { ui: true, tool: this.cid });\n        handle.position(vertex.x, vertex.y);\n        if (!options.stopPropagation) linkView.notifyPointermove(normalizedEvent, x, y);\n    },\n    onHandleChanged: function(_handle, evt) {\n        const { options, relatedView: linkView } = this;\n        if (options.vertexAdding) this.updatePath();\n        if (!options.redundancyRemoval) return;\n        var verticesRemoved = linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        if (verticesRemoved) this.render();\n        this.blur();\n        linkView.model.stopBatch('vertex-move', { ui: true, tool: this.cid });\n        if (this.eventData(evt).vertexAdded) {\n            linkView.model.stopBatch('vertex-add', { ui: true, tool: this.cid });\n        }\n        var [normalizedEvt, x, y] = linkView.paper.getPointerArgs(evt);\n        if (!options.stopPropagation) linkView.notifyPointerup(normalizedEvt, x, y);\n        linkView.checkMouseleave(normalizedEvt);\n    },\n    snapVertex: function(vertex, index) {\n        var snapRadius = this.options.snapRadius;\n        if (snapRadius > 0) {\n            var neighbors = this.getNeighborPoints(index);\n            var prev = neighbors.prev;\n            var next = neighbors.next;\n            if (Math.abs(vertex.x - prev.x) < snapRadius) {\n                vertex.x = prev.x;\n            } else if (Math.abs(vertex.x - next.x) < snapRadius) {\n                vertex.x = next.x;\n            }\n            if (Math.abs(vertex.y - prev.y) < snapRadius) {\n                vertex.y = neighbors.prev.y;\n            } else if (Math.abs(vertex.y - next.y) < snapRadius) {\n                vertex.y = next.y;\n            }\n        }\n    },\n    onHandleRemove: function(handle, evt) {\n        var index = handle.options.index;\n        var linkView = this.relatedView;\n        linkView.model.removeVertex(index, { ui: true });\n        if (this.options.vertexAdding) this.updatePath();\n        linkView.checkMouseleave(util.normalizeEvent(evt));\n    },\n    onPathPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var normalizedEvent = util.normalizeEvent(evt);\n        var vertex = this.paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY).toJSON();\n        var relatedView = this.relatedView;\n        relatedView.model.startBatch('vertex-add', { ui: true, tool: this.cid });\n        var index = relatedView.getVertexIndex(vertex.x, vertex.y);\n        this.snapVertex(vertex, index);\n        relatedView.model.insertVertex(index, vertex, { ui: true, tool: this.cid });\n        this.render();\n        var handle = this.handles[index];\n        this.eventData(normalizedEvent, { vertexAdded: true });\n        handle.onPointerDown(normalizedEvent);\n    },\n    onRemove: function() {\n        this.resetHandles();\n    }\n}, {\n    VertexHandle: VertexHandle // keep as class property\n});\n\nvar SegmentHandle = mvc.View.extend({\n    tagName: 'g',\n    svgElement: true,\n    className: 'marker-segment',\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    children: [{\n        tagName: 'line',\n        selector: 'line',\n        attributes: {\n            'stroke': '#33334F',\n            'stroke-width': 2,\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }, {\n        tagName: 'rect',\n        selector: 'handle',\n        attributes: {\n            'width': 20,\n            'height': 8,\n            'x': -10,\n            'y': -4,\n            'rx': 4,\n            'ry': 4,\n            'fill': '#33334F',\n            'stroke': '#FFFFFF',\n            'stroke-width': 2\n        }\n    }],\n    onRender: function() {\n        this.renderChildren();\n    },\n    position: function(x, y, angle, view) {\n\n        var matrix = V.createSVGMatrix().translate(x, y).rotate(angle);\n        var handle = this.childNodes.handle;\n        handle.setAttribute('transform', V.matrixToTransformString(matrix));\n        handle.setAttribute('cursor', (angle % 180 === 0) ? 'row-resize' : 'col-resize');\n\n        var viewPoint = view.getClosestPoint(new g.Point(x, y));\n        var line = this.childNodes.line;\n        line.setAttribute('x1', x);\n        line.setAttribute('y1', y);\n        line.setAttribute('x2', viewPoint.x);\n        line.setAttribute('y2', viewPoint.y);\n    },\n    onPointerDown: function(evt) {\n        if (this.options.guard(evt)) return;\n        this.trigger('change:start', this, evt);\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.options.paper.undelegateEvents();\n        this.delegateDocumentEvents(null, evt.data);\n    },\n    onPointerMove: function(evt) {\n        this.trigger('changing', this, evt);\n    },\n    onPointerUp: function(evt) {\n        this.undelegateDocumentEvents();\n        this.options.paper.delegateEvents();\n        this.trigger('change:end', this, evt);\n    },\n    show: function() {\n        this.el.style.display = '';\n    },\n    hide: function() {\n        this.el.style.display = 'none';\n    }\n});\n\nvar Segments = ToolView.extend({\n    name: 'segments',\n    precision: .5,\n    options: {\n        handleClass: SegmentHandle,\n        segmentLengthThreshold: 40,\n        redundancyRemoval: true,\n        anchor: getAnchor,\n        snapRadius: 10,\n        snapHandle: true,\n        stopPropagation: true\n    },\n    handles: null,\n    onRender: function() {\n        this.resetHandles();\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        vertices.unshift(relatedView.sourcePoint);\n        vertices.push(relatedView.targetPoint);\n        for (var i = 0, n = vertices.length; i < n - 1; i++) {\n            var vertex = vertices[i];\n            var nextVertex = vertices[i + 1];\n            var handle = this.renderHandle(vertex, nextVertex);\n            this.simulateRelatedView(handle.el);\n            this.handles.push(handle);\n            handle.options.index = i;\n        }\n        return this;\n    },\n    renderHandle: function(vertex, nextVertex) {\n        var handle = new (this.options.handleClass)({\n            paper: this.paper,\n            guard: evt => this.guard(evt)\n        });\n        handle.render();\n        this.updateHandle(handle, vertex, nextVertex);\n        handle.vel.appendTo(this.el);\n        this.startHandleListening(handle);\n        return handle;\n    },\n    update: function() {\n        this.render();\n        return this;\n    },\n    startHandleListening: function(handle) {\n        this.listenTo(handle, 'change:start', this.onHandleChangeStart);\n        this.listenTo(handle, 'changing', this.onHandleChanging);\n        this.listenTo(handle, 'change:end', this.onHandleChangeEnd);\n    },\n    resetHandles: function() {\n        var handles = this.handles;\n        this.handles = [];\n        this.stopListening();\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            handles[i].remove();\n        }\n    },\n    shiftHandleIndexes: function(value) {\n        var handles = this.handles;\n        for (var i = 0, n = handles.length; i < n; i++) handles[i].options.index += value;\n    },\n    resetAnchor: function(type, anchor) {\n        var relatedModel = this.relatedView.model;\n        if (anchor) {\n            relatedModel.prop([type, 'anchor'], anchor, {\n                rewrite: true,\n                ui: true,\n                tool: this.cid\n            });\n        } else {\n            relatedModel.removeProp([type, 'anchor'], {\n                ui: true,\n                tool: this.cid\n            });\n        }\n    },\n    snapHandle: function(handle, position, data) {\n\n        var index = handle.options.index;\n        var linkView = this.relatedView;\n        var link = linkView.model;\n        var vertices = link.vertices();\n        var axis = handle.options.axis;\n        var prev = vertices[index - 2] || data.sourceAnchor;\n        var next = vertices[index + 1] || data.targetAnchor;\n        var snapRadius = this.options.snapRadius;\n        if (Math.abs(position[axis] - prev[axis]) < snapRadius) {\n            position[axis] = prev[axis];\n        } else if (Math.abs(position[axis] - next[axis]) < snapRadius) {\n            position[axis] = next[axis];\n        }\n        return position;\n    },\n\n    onHandleChanging: function(handle, evt) {\n\n        const { options } = this;\n        var data = this.eventData(evt);\n        var relatedView = this.relatedView;\n        var paper = relatedView.paper;\n        var index = handle.options.index - 1;\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        var position = this.snapHandle(handle, coords.clone(), data);\n        var axis = handle.options.axis;\n        var offset = (this.options.snapHandle) ? 0 : (coords[axis] - position[axis]);\n        var link = relatedView.model;\n        var vertices = util.cloneDeep(link.vertices());\n        var vertex = vertices[index];\n        var nextVertex = vertices[index + 1];\n        var anchorFn = this.options.anchor;\n        if (typeof anchorFn !== 'function') anchorFn = null;\n\n        // First Segment\n        var sourceView = relatedView.sourceView;\n        var sourceBBox = relatedView.sourceBBox;\n        var changeSourceAnchor = false;\n        var deleteSourceAnchor = false;\n        if (!vertex) {\n            vertex = relatedView.sourceAnchor.toJSON();\n            vertex[axis] = position[axis];\n            if (sourceBBox.containsPoint(vertex)) {\n                vertex[axis] = position[axis];\n                changeSourceAnchor = true;\n            } else {\n                // we left the area of the source magnet for the first time\n                vertices.unshift(vertex);\n                this.shiftHandleIndexes(1);\n                deleteSourceAnchor = true;\n            }\n        } else if (index === 0) {\n            if (sourceBBox.containsPoint(vertex)) {\n                vertices.shift();\n                this.shiftHandleIndexes(-1);\n                changeSourceAnchor = true;\n            } else {\n                vertex[axis] = position[axis];\n                deleteSourceAnchor = true;\n            }\n        } else {\n            vertex[axis] = position[axis];\n        }\n\n        if (anchorFn && sourceView) {\n            if (changeSourceAnchor) {\n                var sourceAnchorPosition = data.sourceAnchor.clone();\n                sourceAnchorPosition[axis] = position[axis];\n                var sourceAnchor = anchorFn.call(relatedView, sourceAnchorPosition, sourceView, relatedView.sourceMagnet || sourceView.el, 'source', relatedView);\n                this.resetAnchor('source', sourceAnchor);\n            }\n            if (deleteSourceAnchor) {\n                this.resetAnchor('source', data.sourceAnchorDef);\n            }\n        }\n\n        // Last segment\n        var targetView = relatedView.targetView;\n        var targetBBox = relatedView.targetBBox;\n        var changeTargetAnchor = false;\n        var deleteTargetAnchor = false;\n        if (!nextVertex) {\n            nextVertex = relatedView.targetAnchor.toJSON();\n            nextVertex[axis] = position[axis];\n            if (targetBBox.containsPoint(nextVertex)) {\n                changeTargetAnchor = true;\n            } else {\n                // we left the area of the target magnet for the first time\n                vertices.push(nextVertex);\n                deleteTargetAnchor = true;\n            }\n        } else if (index === vertices.length - 2) {\n            if (targetBBox.containsPoint(nextVertex)) {\n                vertices.pop();\n                changeTargetAnchor = true;\n            } else {\n                nextVertex[axis] = position[axis];\n                deleteTargetAnchor = true;\n            }\n        } else {\n            nextVertex[axis] = position[axis];\n        }\n\n        if (anchorFn && targetView) {\n            if (changeTargetAnchor) {\n                var targetAnchorPosition = data.targetAnchor.clone();\n                targetAnchorPosition[axis] = position[axis];\n                var targetAnchor = anchorFn.call(relatedView, targetAnchorPosition, targetView, relatedView.targetMagnet || targetView.el, 'target', relatedView);\n                this.resetAnchor('target', targetAnchor);\n            }\n            if (deleteTargetAnchor) {\n                this.resetAnchor('target', data.targetAnchorDef);\n            }\n        }\n\n        link.vertices(vertices, { ui: true, tool: this.cid });\n        this.updateHandle(handle, vertex, nextVertex, offset);\n        if (!options.stopPropagation) relatedView.notifyPointermove(normalizedEvent, coords.x, coords.y);\n    },\n    onHandleChangeStart: function(handle, evt) {\n        const { options, handles, relatedView: linkView } = this;\n        const { model, paper } = linkView;\n        var index = handle.options.index;\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            if (i !== index) handles[i].hide();\n        }\n        this.focus();\n        this.eventData(evt, {\n            sourceAnchor: linkView.sourceAnchor.clone(),\n            targetAnchor: linkView.targetAnchor.clone(),\n            sourceAnchorDef: util.clone(model.prop(['source', 'anchor'])),\n            targetAnchorDef: util.clone(model.prop(['target', 'anchor']))\n        });\n        model.startBatch('segment-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) linkView.notifyPointerdown(...paper.getPointerArgs(evt));\n    },\n    onHandleChangeEnd: function(_handle, evt) {\n        const { options, relatedView: linkView }= this;\n        const { paper, model } = linkView;\n        if (options.redundancyRemoval) {\n            linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        }\n        const normalizedEvent = util.normalizeEvent(evt);\n        const coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        this.render();\n        this.blur();\n        model.stopBatch('segment-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) linkView.notifyPointerup(normalizedEvent, coords.x, coords.y);\n        linkView.checkMouseleave(normalizedEvent);\n    },\n    updateHandle: function(handle, vertex, nextVertex, offset) {\n        var vertical = Math.abs(vertex.x - nextVertex.x) < this.precision;\n        var horizontal = Math.abs(vertex.y - nextVertex.y) < this.precision;\n        if (vertical || horizontal) {\n            var segmentLine = new g.Line(vertex, nextVertex);\n            var length = segmentLine.length();\n            if (length < this.options.segmentLengthThreshold) {\n                handle.hide();\n            } else {\n                var position = segmentLine.midpoint();\n                var axis = (vertical) ? 'x' : 'y';\n                position[axis] += offset || 0;\n                var angle = segmentLine.vector().vectorAngle(new g.Point(1, 0));\n                handle.position(position.x, position.y, angle, this.relatedView);\n                handle.show();\n                handle.options.axis = axis;\n            }\n        } else {\n            handle.hide();\n        }\n    },\n    onRemove: function() {\n        this.resetHandles();\n    }\n}, {\n    SegmentHandle: SegmentHandle // keep as class property\n});\n\n// End Markers\nvar Arrowhead = ToolView.extend({\n    tagName: 'path',\n    xAxisVector: new g.Point(1, 0),\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    onRender: function() {\n        this.update();\n    },\n    update: function() {\n        var ratio = this.ratio;\n        var view = this.relatedView;\n        var tangent = view.getTangentAtRatio(ratio);\n        var position, angle;\n        if (tangent) {\n            position = tangent.start;\n            angle = tangent.vector().vectorAngle(this.xAxisVector) || 0;\n        } else {\n            position = view.getPointAtRatio(ratio);\n            angle = 0;\n        }\n        if (!position) return this;\n        var matrix = V.createSVGMatrix().translate(position.x, position.y).rotate(angle);\n        this.vel.transform(matrix, { absolute: true });\n        return this;\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var relatedView = this.relatedView;\n        relatedView.model.startBatch('arrowhead-move', { ui: true, tool: this.cid });\n        if (relatedView.can('arrowheadMove')) {\n            relatedView.startArrowheadMove(this.arrowheadType);\n            this.delegateDocumentEvents();\n            relatedView.paper.undelegateEvents();\n        }\n        this.focus();\n        this.el.style.pointerEvents = 'none';\n    },\n    onPointerMove: function(evt) {\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = this.paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        this.relatedView.pointermove(normalizedEvent, coords.x, coords.y);\n    },\n    onPointerUp: function(evt) {\n        this.undelegateDocumentEvents();\n        var relatedView = this.relatedView;\n        var paper = relatedView.paper;\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        relatedView.pointerup(normalizedEvent, coords.x, coords.y);\n        paper.delegateEvents();\n        this.blur();\n        this.el.style.pointerEvents = '';\n        relatedView.model.stopBatch('arrowhead-move', { ui: true, tool: this.cid });\n    }\n});\n\nvar TargetArrowhead = Arrowhead.extend({\n    name: 'target-arrowhead',\n    ratio: 1,\n    arrowheadType: 'target',\n    attributes: {\n        'd': 'M -10 -8 10 0 -10 8 Z',\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move',\n        'class': 'target-arrowhead'\n    }\n});\n\nvar SourceArrowhead = Arrowhead.extend({\n    name: 'source-arrowhead',\n    ratio: 0,\n    arrowheadType: 'source',\n    attributes: {\n        'd': 'M 10 -8 -10 0 10 8 Z',\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move',\n        'class': 'source-arrowhead'\n    }\n});\n\nvar Button = ToolView.extend({\n    name: 'button',\n    events: {\n        'mousedown': 'onPointerDown',\n        'touchstart': 'onPointerDown'\n    },\n    options: {\n        distance: 0,\n        offset: 0,\n        rotate: false\n    },\n    onRender: function() {\n        this.renderChildren(this.options.markup);\n        this.update();\n    },\n    update: function() {\n        this.position();\n        return this;\n    },\n    position: function() {\n        const { relatedView: view, vel } = this;\n        const matrix = view.model.isLink() ? this.getLinkMatrix() : this.getElementMatrix();\n        vel.transform(matrix, { absolute: true });\n    },\n    getElementMatrix() {\n        const { relatedView: view, options } = this;\n        let { x = 0, y = 0, offset = {}, useModelGeometry, rotate } = options;\n        let bbox = getViewBBox(view, useModelGeometry);\n        const angle = view.model.angle();\n        if (!rotate) bbox = bbox.bbox(angle);\n        const { x: offsetX = 0, y: offsetY = 0 } = offset;\n        if (util.isPercentage(x)) {\n            x = parseFloat(x) / 100 * bbox.width;\n        }\n        if (util.isPercentage(y)) {\n            y = parseFloat(y) / 100 * bbox.height;\n        }\n        let matrix = V.createSVGMatrix().translate(bbox.x + bbox.width / 2, bbox.y + bbox.height / 2);\n        if (rotate) matrix = matrix.rotate(angle);\n        matrix = matrix.translate(x + offsetX - bbox.width / 2, y + offsetY - bbox.height / 2);\n        return matrix;\n    },\n    getLinkMatrix() {\n        const { relatedView: view, options } = this;\n        const { offset = 0, distance = 0, rotate } = options;\n        let tangent, position, angle;\n        if (util.isPercentage(distance)) {\n            tangent = view.getTangentAtRatio(parseFloat(distance) / 100);\n        } else {\n            tangent = view.getTangentAtLength(distance);\n        }\n        if (tangent) {\n            position = tangent.start;\n            angle = tangent.vector().vectorAngle(new g.Point(1, 0)) || 0;\n        } else {\n            position = view.getConnection().start;\n            angle = 0;\n        }\n        let matrix = V.createSVGMatrix()\n            .translate(position.x, position.y)\n            .rotate(angle)\n            .translate(0, offset);\n        if (!rotate) matrix = matrix.rotate(-angle);\n        return matrix;\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var actionFn = this.options.action;\n        if (typeof actionFn === 'function') {\n            actionFn.call(this.relatedView, evt, this.relatedView, this);\n        }\n    }\n});\n\n\nvar Remove = Button.extend({\n    children: [{\n        tagName: 'circle',\n        selector: 'button',\n        attributes: {\n            'r': 7,\n            'fill': '#FF1D00',\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'icon',\n        attributes: {\n            'd': 'M -3 -3 3 3 M -3 3 3 -3',\n            'fill': 'none',\n            'stroke': '#FFFFFF',\n            'stroke-width': 2,\n            'pointer-events': 'none'\n        }\n    }],\n    options: {\n        distance: 60,\n        offset: 0,\n        action: function(evt, view, tool) {\n            view.model.remove({ ui: true, tool: tool.cid });\n        }\n    }\n});\n\nvar Boundary = ToolView.extend({\n    name: 'boundary',\n    tagName: 'rect',\n    options: {\n        padding: 10,\n        useModelGeometry: false,\n    },\n    attributes: {\n        'fill': 'none',\n        'stroke': '#33334F',\n        'stroke-width': .5,\n        'stroke-dasharray': '5, 5',\n        'pointer-events': 'none'\n    },\n    onRender: function() {\n        this.update();\n    },\n    update: function() {\n        const { relatedView: view, options, vel } = this;\n        const { useModelGeometry, rotate } = options;\n        const padding = util.normalizeSides(options.padding);\n        let bbox = getViewBBox(view, useModelGeometry).moveAndExpand({\n            x: -padding.left,\n            y: -padding.top,\n            width: padding.left + padding.right,\n            height: padding.top + padding.bottom\n        });\n        var model = view.model;\n        if (model.isElement()) {\n            var angle = model.angle();\n            if (angle) {\n                if (rotate) {\n                    var origin = model.getBBox().center();\n                    vel.rotate(angle, origin.x, origin.y, { absolute: true });\n                } else {\n                    bbox = bbox.bbox(angle);\n                }\n            }\n        }\n        vel.attr(bbox.toJSON());\n        return this;\n    }\n});\n\nvar Anchor = ToolView.extend({\n    tagName: 'g',\n    type: null,\n    children: [{\n        tagName: 'circle',\n        selector: 'anchor',\n        attributes: {\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'rect',\n        selector: 'area',\n        attributes: {\n            'pointer-events': 'none',\n            'fill': 'none',\n            'stroke': '#33334F',\n            'stroke-dasharray': '2,4',\n            'rx': 5,\n            'ry': 5\n        }\n    }],\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown',\n        dblclick: 'onPointerDblClick'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    options: {\n        snap: snapAnchor,\n        anchor: getAnchor,\n        resetAnchor: true,\n        customAnchorAttributes: {\n            'stroke-width': 4,\n            'stroke': '#33334F',\n            'fill': '#FFFFFF',\n            'r': 5\n        },\n        defaultAnchorAttributes: {\n            'stroke-width': 2,\n            'stroke': '#FFFFFF',\n            'fill': '#33334F',\n            'r': 6\n        },\n        areaPadding: 6,\n        snapRadius: 10,\n        restrictArea: true,\n        redundancyRemoval: true\n    },\n    onRender: function() {\n        this.renderChildren();\n        this.toggleArea(false);\n        this.update();\n    },\n    update: function() {\n        var type = this.type;\n        var relatedView = this.relatedView;\n        var view = relatedView.getEndView(type);\n        if (view) {\n            this.updateAnchor();\n            this.updateArea();\n            this.el.style.display = '';\n        } else {\n            this.el.style.display = 'none';\n        }\n        return this;\n    },\n    updateAnchor: function() {\n        var childNodes = this.childNodes;\n        if (!childNodes) return;\n        var anchorNode = childNodes.anchor;\n        if (!anchorNode) return;\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var position = relatedView.getEndAnchor(type);\n        var options = this.options;\n        var customAnchor = relatedView.model.prop([type, 'anchor']);\n        anchorNode.setAttribute('transform', 'translate(' + position.x + ',' + position.y + ')');\n        var anchorAttributes = (customAnchor) ? options.customAnchorAttributes : options.defaultAnchorAttributes;\n        for (var attrName in anchorAttributes) {\n            anchorNode.setAttribute(attrName, anchorAttributes[attrName]);\n        }\n    },\n    updateArea: function() {\n        var childNodes = this.childNodes;\n        if (!childNodes) return;\n        var areaNode = childNodes.area;\n        if (!areaNode) return;\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var view = relatedView.getEndView(type);\n        var model = view.model;\n        var magnet = relatedView.getEndMagnet(type);\n        var padding = this.options.areaPadding;\n        if (!isFinite(padding)) padding = 0;\n        var bbox, angle, center;\n        if (view.isNodeConnection(magnet)) {\n            bbox = view.getBBox();\n            angle = 0;\n            center = bbox.center();\n        } else {\n            bbox = view.getNodeUnrotatedBBox(magnet);\n            angle = model.angle();\n            center = bbox.center();\n            if (angle) center.rotate(model.getBBox().center(), -angle);\n            // TODO: get the link's magnet rotation into account\n        }\n        bbox.inflate(padding);\n        areaNode.setAttribute('x', -bbox.width / 2);\n        areaNode.setAttribute('y', -bbox.height / 2);\n        areaNode.setAttribute('width', bbox.width);\n        areaNode.setAttribute('height', bbox.height);\n        areaNode.setAttribute('transform', 'translate(' + center.x + ',' + center.y + ') rotate(' + angle + ')');\n    },\n    toggleArea: function(visible) {\n        this.childNodes.area.style.display = (visible) ? '' : 'none';\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.paper.undelegateEvents();\n        this.delegateDocumentEvents();\n        this.focus();\n        this.toggleArea(this.options.restrictArea);\n        this.relatedView.model.startBatch('anchor-move', { ui: true, tool: this.cid });\n    },\n    resetAnchor: function(anchor) {\n        var type = this.type;\n        var relatedModel = this.relatedView.model;\n        if (anchor) {\n            relatedModel.prop([type, 'anchor'], anchor, {\n                rewrite: true,\n                ui: true,\n                tool: this.cid\n            });\n        } else {\n            relatedModel.removeProp([type, 'anchor'], {\n                ui: true,\n                tool: this.cid\n            });\n        }\n    },\n    onPointerMove: function(evt) {\n\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var view = relatedView.getEndView(type);\n        var model = view.model;\n        var magnet = relatedView.getEndMagnet(type);\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = this.paper.clientToLocalPoint(normalizedEvent.clientX, normalizedEvent.clientY);\n        var snapFn = this.options.snap;\n        if (typeof snapFn === 'function') {\n            coords = snapFn.call(relatedView, coords, view, magnet, type, relatedView, this);\n            coords = new g.Point(coords);\n        }\n\n        if (this.options.restrictArea) {\n            if (view.isNodeConnection(magnet)) {\n                // snap coords to the link's connection\n                var pointAtConnection = view.getClosestPoint(coords);\n                if (pointAtConnection) coords = pointAtConnection;\n            } else {\n                // snap coords within node bbox\n                var bbox = view.getNodeUnrotatedBBox(magnet);\n                var angle = model.angle();\n                var origin = model.getBBox().center();\n                var rotatedCoords = coords.clone().rotate(origin, angle);\n                if (!bbox.containsPoint(rotatedCoords)) {\n                    coords = bbox.pointNearestToPoint(rotatedCoords).rotate(origin, -angle);\n                }\n            }\n        }\n\n        var anchor;\n        var anchorFn = this.options.anchor;\n        if (typeof anchorFn === 'function') {\n            anchor = anchorFn.call(relatedView, coords, view, magnet, type, relatedView);\n        }\n\n        this.resetAnchor(anchor);\n        this.update();\n    },\n\n    onPointerUp: function(evt) {\n        this.paper.delegateEvents();\n        this.undelegateDocumentEvents();\n        this.blur();\n        this.toggleArea(false);\n        var linkView = this.relatedView;\n        if (this.options.redundancyRemoval) linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        linkView.model.stopBatch('anchor-move', { ui: true, tool: this.cid });\n    },\n\n    onPointerDblClick: function() {\n        var anchor = this.options.resetAnchor;\n        if (anchor === false) return; // reset anchor disabled\n        if (anchor === true) anchor = null; // remove the current anchor\n        this.resetAnchor(util.cloneDeep(anchor));\n        this.update();\n    }\n});\n\nvar SourceAnchor = Anchor.extend({\n    name: 'source-anchor',\n    type: 'source'\n});\n\nvar TargetAnchor = Anchor.extend({\n    name: 'target-anchor',\n    type: 'target'\n});\n\nexport { Vertices, Segments, SourceArrowhead, TargetArrowhead, SourceAnchor, TargetAnchor, Button, Remove, Boundary };\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* TEXT */]: `TEXT`,\r\n    [2 /* CLASS */]: `CLASS`,\r\n    [4 /* STYLE */]: `STYLE`,\r\n    [8 /* PROPS */]: `PROPS`,\r\n    [16 /* FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* HOISTED */]: `HOISTED`,\r\n    [-2 /* BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* STABLE */]: 'STABLE',\r\n    [2 /* DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            const normalized = normalizeClass(value[i]);\r\n            if (normalized) {\r\n                res += normalized + ' ';\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.substring(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isObject(val)\r\n            ? JSON.stringify(val, replacer, 2)\r\n            : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\n/**\r\n * List of @babel/parser plugins that are used for template expression\r\n * transforms and SFC script transforms. By default we enable proposals slated\r\n * for ES2020. This will need to be updated as the spec moves forward.\r\n * Full list at https://babeljs.io/docs/en/next/babel-parser#plugins\r\n */\r\nconst babelParserDefaultPlugins = [\r\n    'bigInt',\r\n    'optionalChaining',\r\n    'nullishCoalescingOperator'\r\n];\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => val instanceof Date;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, babelParserDefaultPlugins, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, invokeArrayFns, isArray, isBooleanAttr, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","//     Backbone.js 1.4.0\n\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global;\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.4.0';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // A private global variable to share between listeners and listenees.\n  var _listening;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening;\n      // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n      _listening.interop = false;\n    }\n\n    return this;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    }\n\n    // Bind callbacks on obj.\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n\n    if (error) throw error;\n    // If the target obj is not Backbone.Events, track events manually.\n    if (listening.interop) listening.on(name, callback);\n\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n  var tryCatchOn = function(obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var context = options.context, listeners = options.listeners;\n    var i = 0, names;\n\n    // Delete all event listeners and \"drop\" events.\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Find any remaining events.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      }\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n  var Listening = function(listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on;\n\n  // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n  Listening.prototype.off = function(name, callback) {\n    var cleanup;\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n    if (cleanup) this.cleanup();\n  };\n\n  // Cleans up memory bindings between the listener and the listenee.\n  Listening.prototype.cleanup = function() {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n      return hasChanged ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Get an iterator of all models in this collection.\n    values: function() {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n\n    // Get an iterator of all model IDs in this collection.\n    keys: function() {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function() {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n  /* global Symbol */\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  }\n\n  // CollectionIterator\n  // ------------------\n\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n  var CollectionIterator = function(collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  };\n\n  // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3;\n\n  // All Iterators should themselves be Iterable.\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function() {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function() {\n    if (this._collection) {\n\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n        this._index++;\n\n        // Construct a value depending on what kind of values should be iterated.\n        var value;\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes);\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else { // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n        return {value: value, done: false};\n      }\n\n      // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n      this._collection = void 0;\n    }\n\n    return {value: void 0, done: true};\n  };\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(base, length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return base[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return base[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return base[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return base[method].apply(base, args);\n      };\n    }\n  };\n\n  var addUnderscoreMethods = function(Class, base, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n    foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n    select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n    contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n    head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n    without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n    isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n    sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n    omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([\n    [Collection, collectionMethods, 'models'],\n    [Model, modelMethods, 'attributes']\n  ], function(config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function(obj) {\n      var mappings = _.reduce(_.functions(obj), function(memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    create: 'POST',\n    update: 'PUT',\n    patch: 'PATCH',\n    delete: 'DELETE',\n    read: 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n        .replace(optionalParam, '(?:$1)?')\n        .replace(namedParam, function(match, optional) {\n          return optional ? match : '([^/?]+)';\n        })\n        .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var rootPath = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the fragment of the query and hash for matching.\n      fragment = fragment.replace(pathStripper, '');\n\n      // Decode for matching.\n      var decodedFragment = this.decodeFragment(fragment);\n\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the functions\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || type === 'object' && !!obj;\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\nexport var hasStringTagBug = (\n      supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasStringTagBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\nfunction ie10IsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasStringTagBug ? ie10IsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key]; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = isFunction(constructor) && constructor.prototype || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasStringTagBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasStringTagBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that objects\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because were not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result  either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || computed === Infinity && result === Infinity) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport clone from './clone.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/FisherYates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = isArrayLike(obj) ? clone(obj) : values(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = array && max(array, getLength).length || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars -- required for `.length`\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}